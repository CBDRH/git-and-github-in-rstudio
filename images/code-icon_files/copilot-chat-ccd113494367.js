"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["copilot-chat","ui_packages_aria-live_aria-live_ts-ui_packages_promise-with-resolvers-polyfill_promise-with-r-014121"],{79929:(e,t,n)=>{n.d(t,{A:()=>r});let r={message:"ChatMessage-module__message--_amJV","icon-link":"ChatMessage-module__icon-link--q1058","color-icon-link":"ChatMessage-module__color-icon-link--x_rMl",file:"ChatMessage-module__file--nuWNW",snippet:"ChatMessage-module__snippet--hiUk6",commit:"ChatMessage-module__commit--b4GP5",bing:"ChatMessage-module__bing--Zsu7O",agentUnauthorizedAvatar:"ChatMessage-module__agentUnauthorizedAvatar--q02uE","snippet-header":"ChatMessage-module__snippet-header--s1qC2","snippet-header-inner":"ChatMessage-module__snippet-header-inner--ZRDOe","language-dot":"ChatMessage-module__language-dot--NCkkQ","language-name":"ChatMessage-module__language-name--o6sVz","snippet-single-line":"ChatMessage-module__snippet-single-line--JWNCB",fileListItem:"ChatMessage-module__fileListItem--jEMb9"}},31481:(e,t,n)=>{n.d(t,{I:()=>r});let r=(0,n(96540).createContext)(null)},7572:(e,t,n)=>{n.d(t,{C:()=>i,i:()=>s});var r=n(97156),o=n(97564),a=n(46493);function i(e,t){(0,o.G7)("arianotify_comprehensive_migration")?s(l(e),{...t,element:t?.element??e}):(0,o.G7)("primer_live_region_element")&&t?.element===void 0?(0,a.Cj)(e,{politeness:t?.assertive?"assertive":"polite"}):s(l(e),t)}function s(e,t){let{assertive:n,element:i}=t??{};(0,o.G7)("arianotify_comprehensive_migration")&&"ariaNotify"in Element.prototype?(i||document.body).ariaNotify(e,{interrupt:t?.assertive?"all":"none"}):(0,o.G7)("primer_live_region_element")&&void 0===i?(0,a.iP)(e,{politeness:n?"assertive":"polite"}):function(e,t,n){let o=n??r.XC?.querySelector(t?"#js-global-screen-reader-notice-assertive":"#js-global-screen-reader-notice");o&&(o.textContent===e?o.textContent=`${e}\u00A0`:o.textContent=e)}(e,n,i)}function l(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}},732:(e,t,n)=>{var r=n(72245),o=n(74848),a=n(45471),i=n(75014),s=n(42024),l=n(28784),c=n(38621),d=n(75177),u=n(87330),m=n(76049),p=n(55847),h=n(94977),f=n(96540),g=n(49305),x=n(42141),b=n(20053),y=n(33067),A=n(61053);let C={copilotChatPanel:"ChatPanel-module__copilotChatPanel--YfhVH"};var j=n(13180),v=n(91078);let S=()=>{let e=(0,A.Pk)(),t=(0,v.b)(),n=t.getSelectedThread(e);return(0,o.jsx)(j.v,{tabIndex:-1,id:"copilot-floating-button",icon:c.CopilotIcon,label:"Open Copilot chat","aria-controls":"copilot-chat-panel",tooltipDirection:"w",onClick:()=>{t.openChat(n,e.currentView,"floating-button-v2",e.chatVisibleSettingPath)},sx:{"--floating-button-size":"2.5rem",position:"fixed",bottom:3,right:3,zIndex:9,color:"fg.default !important",bg:"var(--bgColor-default, var(--color-canvas-default))",borderRadius:"var(--floating-button-size)",border:"none",boxShadow:"var(--shadow-floating-small)",height:"var(--floating-button-size)",width:"var(--floating-button-size)","&:focus, &:active":{boxShadow:"var(--shadow-floating-small, var(--shadow-small))"}},"data-hotkey":"Shift+Z"})};try{S.displayName||(S.displayName="FloatingButton")}catch{}var N=n(33333);let w=e=>{let{children:t,entrypointRef:n,experimentsDialogRef:r,handleClose:a,panelWidth:i,panelHeight:s,startResize:l,onResizerKeyDown:c}=e,u=(0,f.useRef)(null),{chatIsOpen:m,chatIsVisible:p}=(0,A.Pk)(),h=(0,f.useCallback)(()=>{u.current&&u.current.contains(document.activeElement)&&a(!0)},[a]);return(0,o.jsx)(o.Fragment,{children:m?(0,o.jsx)(x.Ay,{id:"copilot-chat-panel",className:(0,b.$)(C.copilotChatPanel),ref:u,portalContainerName:N.Gj,onEscape:h,onClickOutside:()=>{},ignoreClickRefs:[r],returnFocusRef:n,sx:{maxWidth:"calc(100vw - 2rem)",height:m?`${s}px`:"48px",maxHeight:"calc(100vh - 1rem - 60px)",minHeight:m?`${y.cx}px`:void 0,width:m?`${i}px`:"400px",minWidth:`${y.Ld}px`},right:8,bottom:8,anchorSide:"inside-top",preventFocusOnOpen:!0,position:"fixed",role:"dialog","aria-labelledby":"copilot-chat-panel-inner",children:(0,o.jsx)("section",{id:"copilot-chat-panel-inner","aria-label":"Copilot chat panel",style:{height:"100%"},children:(0,o.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",height:"100%",position:"relative"},"data-testid":"copilot-chat-panel-inner",children:[(0,o.jsx)(d.A,{id:"vertical-resize-click-target",sx:{position:"absolute",inset:0,height:"0.5rem",width:"100%",cursor:m?"ns-resize":void 0,zIndex:2},onMouseDown:e=>l(e,!1,!0)}),(0,o.jsx)(d.A,{sx:{position:"absolute",inset:0,height:"100%",width:"8px",cursor:m?"ew-resize":void 0,zIndex:2},onMouseDown:e=>l(e,!0,!1)}),(0,o.jsx)(d.A,{sx:{position:"absolute",inset:0,height:"0.5rem",width:"0.5rem",cursor:m?"nwse-resize":"undefined",zIndex:2},"aria-label":"Chat panel resizer","aria-valuetext":`${i}, ${s}`,"aria-valuenow":i,role:"separator",onMouseDown:e=>l(e,!0,!0),tabIndex:0,onKeyDown:c}),(0,o.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,maxHeight:"100%"},children:(0,o.jsx)(A.Jf.Provider,{value:u,children:t})})]})})}):p?(0,o.jsx)(S,{}):null})};try{w.displayName||(w.displayName="ChatPanel")}catch{}var I=n(39012),R=n(30595),T=n(16823),E=n(65481),L=n(89169),k=n(30729),O=n(86079),P=n(76206);function D(){let e=(0,A.Pk)(),t=(0,v.b)(),n=(0,f.useMemo)(()=>t.sortThreads(e.threads),[e.threads,t]),[r,a]=(0,f.useState)(null),i=(0,f.useRef)(null);return"loading"===e.threadsLoading.state&&e.threads.size<2?(0,o.jsxs)(d.A,{sx:{p:3,height:"100%",display:"grid",alignItems:"center",alignContent:"center",flexDirection:"column",justifyItems:"center",gap:2},children:[(0,o.jsx)(R.A,{}),"Loading threads\u2026"]}):(0,o.jsx)(o.Fragment,{children:"error"===e.threadsLoading.state?(0,o.jsx)(M,{threadsLoading:e.threadsLoading}):(0,o.jsxs)(o.Fragment,{children:[e.threads.size>0&&(0,o.jsx)(T.l,{sx:{overflowY:"auto"},children:(0,o.jsxs)(T.l.Group,{children:[(0,o.jsx)(T.l.GroupHeading,{as:"h3",children:"Active conversations"}),(0,o.jsx)(B,{threads:n,manager:t,openDeleteConfirmationThreadId:r,setOpenDeleteConfirmationThreadId:a,returnFocusRef:i})]})}),0===e.threads.size&&(0,o.jsxs)(d.A,{sx:{p:3,color:"fg.subtle"},children:[(0,o.jsx)("p",{className:"mb-3",children:"There are no conversations at the moment."}),(0,o.jsx)(p.Q,{onClick:()=>t.selectThread(null),block:!0,children:"Start a new conversation"})]})]})})}let M=({threadsLoading:e})=>(0,o.jsx)(d.A,{sx:{p:3},children:(0,o.jsxs)(E.A,{variant:"warning",children:[(0,o.jsx)(k.A,{icon:c.AlertIcon}),"error"===e.state?e.error:"Something went wrong. Please try again later."]})}),B=({threads:e,manager:t,openDeleteConfirmationThreadId:n,setOpenDeleteConfirmationThreadId:r,returnFocusRef:a})=>(0,o.jsx)(o.Fragment,{children:e.map(e=>(0,o.jsxs)(d.A,{sx:{display:"flex"},children:[(0,o.jsxs)(T.l.Item,{onSelect:()=>t.selectThread(e),children:[(0,o.jsx)(T.l.LeadingVisual,{children:(0,o.jsx)(c.CommentIcon,{})}),(0,P.CB)(e),(0,o.jsx)(T.l.TrailingVisual,{children:(0,o.jsx)(L.A,{date:new Date(Date.parse(e.updatedAt)),format:"relative"})})]},e.id),(0,o.jsx)(u.K,{unsafeDisableTooltip:!0,"data-testid":`delete-thread-button-${e.id}`,ref:a,onClick:()=>r(e.id),sx:{p:2,mr:2},variant:"invisible",icon:c.TrashIcon,"aria-label":`Delete conversation: "${(0,P.CB)(e)}"`,tooltipDirection:"nw"}),n===e.id&&(0,o.jsx)("div",{"data-testid":`delete-thread-dialog-${e.id}`,children:(0,o.jsx)(O.l,{title:"Delete conversation",width:"small",onClose:()=>r(null),returnFocusRef:a,footerButtons:[{buttonType:"default",content:"Cancel",onClick:()=>r(null)},{buttonType:"danger",content:"Delete",onClick:async()=>{await t.deleteThreadKeepSelection(e),r(null)},autoFocus:!0}],children:"Are you sure? This can\u2019t be undone."})})]},e.id))});try{D.displayName||(D.displayName="ThreadListView")}catch{}try{M.displayName||(M.displayName="ErrorView")}catch{}try{B.displayName||(B.displayName="ListView")}catch{}var _=n(25962),$=n(822),F=n(57938),G=n(88365);function U(e){let t=(0,f.useRef)(null),n=(0,f.useRef)(null),r=G.J.selectedThreadID,a=G.J.getCurrentReferences(r)||[];return(0,o.jsx)(s.LB,{children:(0,o.jsxs)(A.Mj,{topic:e.currentTopic,login:e.currentUserLogin,apiURL:e.apiURL,workerPath:e.findFileWorkerPath,threadId:r,refs:a,mode:"assistive",ssoOrganizations:e.ssoOrganizations,renderKnowledgeBases:e.renderKnowledgeBases,renderAttachKnowledgeBaseHerePopover:e.renderAttachKnowledgeBaseHerePopover,renderKnowledgeBaseAttachedToChatPopover:e.renderKnowledgeBaseAttachedToChatPopover,chatIsOpen:!1,chatIsVisible:e.chatIsVisible,customInstructions:e.customInstructions,chatVisibleSettingPath:e.chatVisibleSettingPath,renderBetaLabel:e.renderBetaLabel,agentsPath:e.agentsPath,optedInToUserFeedback:e.optedInToUserFeedback,reviewLab:e.reviewLab,scrollToTop:e.scrollToTop,realIp:e.realIp,children:[(0,o.jsx)(W,{renderPopover:e.renderPopover||!1,ref:t,reactPartialAnchor:e.reactPartialAnchor,inputRef:n}),(0,o.jsx)(N.cB,{}),(0,o.jsx)(K,{ref:t,inputRef:n})]})})}let H=({notice:e})=>`/settings/dismiss-notice/${e}`,W=f.forwardRef((e,t)=>{let n=(0,v.b)(),r=(0,A.Pk)(),a=n.getSelectedThread(r),{currentTopic:i,currentView:l}=r,{screenSize:m}=(0,s.lm)();(0,f.useEffect)(()=>(0,$.HS)(e=>void n.handleOpenPanelEvent(a,e,i)),[i,a,n]),(0,f.useEffect)(()=>(0,$.f7)(e=>{n.handleAddReferenceEvent(e)}),[a,n,r.currentReferences]),(0,f.useEffect)(()=>(0,$.Tv)(e=>{F.W.implicitContext&&n.handleSymbolChangedEvent(e)})),(0,f.useEffect)(()=>(0,$.fD)(e=>{n.handleSearchCopilotEvent(e)}),[n]),(0,f.useEffect)(()=>{let e=new URL(window.location.href,window.location.origin),t=e.searchParams,o=r.selectedThreadID;if("1"===t.get("copilot")&&o){let t=r.threads.get(o)??null;n.openChat(t,l,"immersive",r.chatVisibleSettingPath),e.searchParams.delete("copilot"),window.history.pushState(null,"",e.toString())}},[n,r.selectedThreadID,r.threads,l,r.chatVisibleSettingPath]),(0,f.useEffect)(()=>{r.chatIsVisible&&!G.J.getCollapsedState()&&m>s.Gy.large&&n.openChat(a,r.currentView,"page load",r.chatVisibleSettingPath)},[]);let p=(0,f.useCallback)(()=>{r.chatIsOpen?e.inputRef.current&&e.inputRef.current.focus():n.openChat(a,l,"header",r.chatVisibleSettingPath,(0,P.Z6)(i)?(0,P.qS)(i):void 0)},[i,l,n,e.inputRef,a,r.chatIsOpen,r.chatVisibleSettingPath]);return e.reactPartialAnchor?(0,o.jsxs)(d.A,{sx:{position:"relative"},children:[(0,o.jsx)(z,{reactPartialAnchor:e.reactPartialAnchor,onClick:p}),e.renderPopover?(0,o.jsx)(V,{renderPopover:!0}):(0,o.jsx)(o.Fragment,{})]}):(0,o.jsxs)(d.A,{sx:{position:"relative"},className:"AppHeader-CopilotChatButton",children:[(0,o.jsx)(h.A,{"aria-label":"Chat with Copilot",direction:"s",children:(0,o.jsx)("div",{children:(0,o.jsx)(u.K,{unsafeDisableTooltip:!0,ref:t,id:_.fv,icon:c.CopilotIcon,"aria-label":"Chat with Copilot","aria-controls":"copilot-chat-panel",onClick:p,className:"AppHeader-button",sx:{backgroundColor:"transparent",borderColor:"border.default",color:"fg.muted",mb:1,"&:hover":{backgroundColor:"var(--control-transparent-bgColor-hover, var(--color-action-list-item-default-hover-bg))"}},"data-testid":"copilot-chat-button","data-hotkey":"Shift+C","aria-expanded":!1})})}),(0,o.jsx)(V,{renderPopover:e.renderPopover})]})});function z({reactPartialAnchor:e,onClick:t}){return(0,i.QJ)(e,t),(0,o.jsx)(o.Fragment,{})}function V({renderPopover:e}){let[t,n]=(0,f.useState)(e),r=(0,f.useCallback)(async()=>{n(!1),await (0,l.DI)(H({notice:"copilot_chat_new_user_popover"}),{method:"POST"})},[n]);return(0,o.jsx)(m.A,{open:t,caret:"top-right",sx:{right:"-4px"},children:(0,o.jsxs)(m.A.Content,{sx:{marginTop:2},"data-testid":"copilot-chat-cta-popover",children:[(0,o.jsxs)("p",{children:["You now have access to"," ",(0,o.jsx)("a",{href:"https://docs.github.com/enterprise-cloud@latest/copilot/github-copilot-enterprise/overview/about-github-copilot-enterprise",target:"_blank",rel:"noopener noreferrer",children:"Copilot Enterprise"}),". ","Use the Copilot icon to get started."]}),(0,o.jsx)(p.Q,{"data-testid":"dismiss-copilot-chat-cta-popover",onClick:r,children:"Got it!"})]})})}W.displayName="CopilotHeaderButton";let K=f.forwardRef(({inputRef:e},t)=>{let n=(0,A.Pk)(),r=(0,v.b)(),i=(0,f.useRef)(null),[s,l]=(0,f.useState)(!1),[c,u]=(0,f.useState)(!1),m=(0,f.useRef)(n.messages.length),p=(0,f.useRef)(n.messagesLoading.state),{panelWidth:h,panelHeight:x,startResize:b,onResizerKeyDown:C}=(0,y.Tz)();return(0,f.useEffect)(()=>{n.messages.length>m.current&&!n.chatIsOpen&&"loaded"===p.current&&u(!0),m.current=n.messages.length,p.current=n.messagesLoading.state},[n.chatIsOpen,n.messages.length,n.messagesLoading.state]),(0,f.useEffect)(()=>{n.chatIsOpen&&c&&u(!1)},[c,n.chatIsOpen]),(0,o.jsxs)(w,{experimentsDialogRef:i,entrypointRef:t,handleClose:e=>{l(!1),r.closeChat();let t=n.entryPointId??_.fv;if(e&&t){let e=document.getElementById(t),n=window.scrollX,r=window.scrollY;setTimeout(()=>{e?.focus(),window.scrollTo(n,r)},0)}},showExperimentsDialog:s,panelWidth:h,panelHeight:x,startResize:b,onResizerKeyDown:C,children:[(0,o.jsx)(I.Y,{experimentsDialogRef:i,showExperimentsDialog:s,setShowExperimentsDialog:l,isResponding:n.messages.length<=1&&(!!n.streamingMessage||n.isWaitingOnCopilot),hasUnreadMessages:c,startResize:b}),n.chatIsOpen&&(0,o.jsx)(d.A,{sx:{display:"flex",flexGrow:1,overflowY:"auto"},children:(0,o.jsx)(d.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,maxWidth:"100%"},children:"thread"===n.currentView?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(g.r,{inputRef:e,panelWidth:h},n.selectedThreadID),(0,o.jsx)(a.W,{})]}):(0,o.jsx)(D,{})})})]})});K.displayName="ChatPanelWithHeader";try{U.displayName||(U.displayName="CopilotChat")}catch{}try{z.displayName||(z.displayName="ExternalAnchorListener")}catch{}try{V.displayName||(V.displayName="WelcomePopover")}catch{}(0,r.k)("copilot-chat",{Component:U})},78556:(e,t,n)=>{n.d(t,{Y:()=>c});var r=n(96540),o=n(76206),a=n(57938),i=n(88365),s=n(61053),l=n(91078);function c(e){let t=(0,s.Pk)(),n=(0,l.b)(),{currentTopic:c,messages:d,selectedThreadID:u}=t,m=n.getSelectedThread(t),p=(0,r.useRef)(null),h=e||p;return(0,r.useEffect)(()=>{m&&d.length>0&&n.showTopicPicker(!1)},[m,d.length,n]),(0,r.useEffect)(()=>{let e=c?(0,o.P)(c)?c.name:String(c.id):null;u&&e&&i.J.setSelectedTopic(u,e)},[u,c]),(0,r.useEffect)(()=>{let e=window.setTimeout(()=>{h.current?.focus()},1);return()=>{window.clearTimeout(e)}},[h]),(0,r.useEffect)(()=>((async()=>{if(!a.W.staticThreadSuggestions)return;let e=t.context?.[0]??t.currentTopic;e&&await n.generateSuggestions(e,t.selectedThreadID)})(),()=>{n.clearSuggestions()}),[n,t.context,t.currentTopic,t.selectedThreadID]),{textAreaRef:h}}},71498:(e,t,n)=>{n.d(t,{o:()=>i});var r=n(82678),o=n(96540),a=n(61053);function i(e,t,n){let i=(0,a.Pk)(),[s,l]=(0,o.useState)(!0),c=(0,o.useRef)([]),d=(0,o.useMemo)(()=>({messages:t,isWaitingOnCopilot:e}),[t,e]),{containerRef:u}=(0,r.G)({focusInStrategy:()=>{let e=document.activeElement;return c.current.includes(e)?e:c.current[c.current.length-1]},focusableElementFilter:e=>!!e.classList.contains("message-container")&&(c.current.includes(e)||c.current.push(e),!0),disabled:!s},[d]),m=i.streamingMessage??t[t.length-1],p=(0,o.useRef)(m?.id),h=(0,o.useRef)(i.currentReferences.length),f=(0,o.useRef)(!!i.suggestions);return(0,o.useEffect)(()=>{p.current!==m?.id||h.current<i.currentReferences.length||m?.error?.isError||!f.current&&i.suggestions?(n({forceScroll:!0}),p.current=m?.id,f.current=!!i.suggestions):n({forceScroll:!1}),h.current=i.currentReferences.length},[m?.id,m?.content,m?.error,n,i.currentReferences,i.suggestions]),{containerRef:u,setFocusZoneEnabled:l}}},45357:(e,t,n)=>{n.d(t,{JE:()=>u,Z3:()=>d,bn:()=>c,kw:()=>m});var r=n(98866),o=n(97286),a=n(96540),i=n(76206),s=n(61053),l=n(91078);let c="https://github.com/marketplace?type=apps&copilot_app=true",d="@";function u(e=!0){let{model:t,messages:n,agentsPath:r}=(0,s.Pk)(),c=(0,l.b)(),d=t?.hasLimitedCapabilities,u=(0,a.useCallback)(e=>{if(d)return{agents:[],showLimit:!1};let t=(0,i.Q7)(n)[0];return t?{agents:e.filter(e=>e.slug===t.name),showLimit:!0}:{agents:e,showLimit:!1}},[n,d]),{isLoading:m,data:p,refetch:h,isStale:f,isFetched:g}=(0,o.I)({queryKey:["copilot-chat","agents",r],queryFn:()=>r?c.fetchAgents(r):[],select:u,enabled:e&&!d}),x=async()=>!g||f?(await h()).data:p;return{loading:m,disabled:d,availableAgents:p?.agents,showLimit:p?.showLimit??!1,imperativelyFetch:x}}function m({inputOnChange:e,inputRef:t}){let n=(0,r.H)({inputRef:t,fallbackEventHandler:e});return(0,a.useCallback)((e="")=>{t.current?.value&&n(" ",[0,0]);let r=`${d}${e}`;n(r,[0,0],r.length)},[n,t])}},822:(e,t,n)=>{n.d(t,{HS:()=>a,Oc:()=>o,Tv:()=>l,Xr:()=>SymbolChangedEvent,f7:()=>i,fD:()=>s,qR:()=>r});let OpenCopilotChatEvent=class OpenCopilotChatEvent extends Event{constructor(e){super("open-copilot-chat",{bubbles:!1,cancelable:!0}),this.payload=e}};let AddCopilotChatReferenceEvent=class AddCopilotChatReferenceEvent extends Event{constructor(e,t=!1,n){super("add-copilot-chat-reference",{bubbles:!1,cancelable:!0}),this.reference=e,this.openPanel=t,this.id=n}};let SymbolChangedEvent=class SymbolChangedEvent extends Event{constructor(e){super("symbol-changed",{bubbles:!1,cancelable:!0}),this.context=e}};function r(e){window.dispatchEvent(new OpenCopilotChatEvent(e))}function o(e,t=!1,n){window.dispatchEvent(new AddCopilotChatReferenceEvent(e,t,n))}function a(e){return window.addEventListener("open-copilot-chat",e),()=>{window.removeEventListener("open-copilot-chat",e)}}function i(e){return window.addEventListener("add-copilot-chat-reference",e),()=>{window.removeEventListener("add-copilot-chat-reference",e)}}function s(e){return window.addEventListener("search-copilot-chat",e),()=>{window.removeEventListener("search-copilot-chat",e)}}function l(e){return window.addEventListener("symbol-changed",e),()=>{window.removeEventListener("symbol-changed",e)}}},48962:(e,t,n)=>{n.d(t,{Pv:()=>o,Qe:()=>a,yO:()=>i});var r=n(38621);let o="/",a=({manager:e})=>[{label:"Clear thread",command:"clear",requiresParams:!1,icon:r.SyncIcon,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let t=e.getSelectedThread(n);if(!t)throw Error("Thread not found");await e.clearThread(t),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Delete thread",command:"delete",icon:r.TrashIcon,requiresParams:!1,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let t=e.getSelectedThread(n);if(!t)throw Error("Thread not found");await e.deleteThread(t),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Rename thread",command:"rename",icon:r.PencilIcon,requiresParams:!0,action:async(t,n)=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{let r=e.getSelectedThread(n);if(!r)throw Error("Thread not found");await e.renameThread(r,t),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}},{label:"Start new thread",command:"new",icon:r.PlusIcon,requiresParams:!1,action:async()=>{e.dispatch({type:"SLASH_COMMANDS_LOADING"});try{await e.selectThread(null),e.dispatch({type:"SLASH_COMMANDS_LOADED"})}catch{e.dispatch({type:"SLASH_COMMANDS_ERROR"})}}}],i=async(e,t,n)=>{if((e[0]??"")!==o)return!1;e=e.substring(1);let r=a({manager:n}).filter(t=>{let n=(e.split(" ",1)[0]??"").toLowerCase().trim();return t.command.toLowerCase().includes(n)});if(1!==r.length)return!1;let i=r[0],s=e.substring(i.command.length).trim();return await i.action(s,t),!0}},22986:(e,t,n)=>{function r(e){let t=e.toUpperCase(),n=i[t];return!n&&a[t]&&(n=i[a[t]]),n??{name:e}}n.d(t,{Y:()=>o,v:()=>r});let o=new Set(["Markdown","MDX"]),a={CPP:"C++",CSHARP:"C#",FSHARP:"F#",VBNET:"VISUAL BASIC .NET"},i={"1C ENTERPRISE":{color:"#814CCC",name:"1C Enterprise"},"2-DIMENSIONAL ARRAY":{color:"#38761D",name:"2-Dimensional Array"},"4D":{color:"#004289",name:"4D"},ABAP:{color:"#E8274B",name:"ABAP"},"ABAP CDS":{color:"#555e25",name:"ABAP CDS"},"AGS SCRIPT":{color:"#B9D9FF",name:"AGS Script"},AIDL:{color:"#34EB6B",name:"AIDL"},AL:{color:"#3AA2B5",name:"AL"},AMPL:{color:"#E6EFBB",name:"AMPL"},ANTLR:{color:"#9DC3FF",name:"ANTLR"},"API BLUEPRINT":{color:"#2ACCA8",name:"API Blueprint"},APL:{color:"#5A8164",name:"APL"},"ASP.NET":{color:"#9400ff",name:"ASP.NET"},ATS:{color:"#1ac620",name:"ATS"},ACTIONSCRIPT:{color:"#882B0F",name:"ActionScript"},ADA:{color:"#02f88c",name:"Ada"},"ADBLOCK FILTER LIST":{color:"#800000",name:"Adblock Filter List"},"ADOBE FONT METRICS":{color:"#fa0f00",name:"Adobe Font Metrics"},AGDA:{color:"#315665",name:"Agda"},ALLOY:{color:"#64C800",name:"Alloy"},"ALPINE ABUILD":{color:"#0D597F",name:"Alpine Abuild"},"ALTIUM DESIGNER":{color:"#A89663",name:"Altium Designer"},ANGELSCRIPT:{color:"#C7D7DC",name:"AngelScript"},"ANT BUILD SYSTEM":{color:"#A9157E",name:"Ant Build System"},ANTLERS:{color:"#ff269e",name:"Antlers"},APACHECONF:{color:"#d12127",name:"ApacheConf"},APEX:{color:"#1797c0",name:"Apex"},"APOLLO GUIDANCE COMPUTER":{color:"#0B3D91",name:"Apollo Guidance Computer"},APPLESCRIPT:{color:"#101F1F",name:"AppleScript"},ARC:{color:"#aa2afe",name:"Arc"},ASCIIDOC:{color:"#73a0c5",name:"AsciiDoc"},ASPECTJ:{color:"#a957b0",name:"AspectJ"},ASSEMBLY:{color:"#6E4C13",name:"Assembly"},ASTRO:{color:"#ff5a03",name:"Astro"},ASYMPTOTE:{color:"#ff0000",name:"Asymptote"},AUGEAS:{color:"#9CC134",name:"Augeas"},AUTOHOTKEY:{color:"#6594b9",name:"AutoHotkey"},AUTOIT:{color:"#1C3552",name:"AutoIt"},"AVRO IDL":{color:"#0040FF",name:"Avro IDL"},AWK:{color:"#c30e9b",name:"Awk"},B4X:{color:"#00e4ff",name:"B4X"},BASIC:{color:"#ff0000",name:"BASIC"},BQN:{color:"#2b7067",name:"BQN"},BALLERINA:{color:"#FF5000",name:"Ballerina"},BATCHFILE:{color:"#C1F12E",name:"Batchfile"},BEEF:{color:"#a52f4e",name:"Beef"},BERRY:{color:"#15A13C",name:"Berry"},BIBTEX:{color:"#778899",name:"BibTeX"},BICEP:{color:"#519aba",name:"Bicep"},BIKESHED:{color:"#5562ac",name:"Bikeshed"},BISON:{color:"#6A463F",name:"Bison"},BITBAKE:{color:"#00bce4",name:"BitBake"},BLADE:{color:"#f7523f",name:"Blade"},BLITZBASIC:{color:"#00FFAE",name:"BlitzBasic"},BLITZMAX:{color:"#cd6400",name:"BlitzMax"},BLUESPEC:{color:"#12223c",name:"Bluespec"},"BLUESPEC BH":{color:"#12223c",name:"Bluespec BH"},BOO:{color:"#d4bec1",name:"Boo"},BOOGIE:{color:"#c80fa0",name:"Boogie"},BRIGHTERSCRIPT:{color:"#66AABB",name:"BrighterScript"},BRIGHTSCRIPT:{color:"#662D91",name:"Brightscript"},BROWSERSLIST:{color:"#ffd539",name:"Browserslist"},C:{color:"#555555",name:"C"},"C#":{color:"#178600",name:"C#"},"C++":{color:"#f34b7d",name:"C++"},"CAP CDS":{color:"#0092d1",name:"CAP CDS"},CLIPS:{color:"#00A300",name:"CLIPS"},CMAKE:{color:"#DA3434",name:"CMake"},COLLADA:{color:"#F1A42B",name:"COLLADA"},CSON:{color:"#244776",name:"CSON"},CSS:{color:"#563d7c",name:"CSS"},CSV:{color:"#237346",name:"CSV"},CUE:{color:"#5886E1",name:"CUE"},CWEB:{color:"#00007a",name:"CWeb"},"CABAL CONFIG":{color:"#483465",name:"Cabal Config"},CADDYFILE:{color:"#22b638",name:"Caddyfile"},CADENCE:{color:"#00ef8b",name:"Cadence"},CAIRO:{color:"#ff4a48",name:"Cairo"},"CAIRO ZERO":{color:"#ff4a48",name:"Cairo Zero"},CAMELIGO:{color:"#3be133",name:"CameLIGO"},"CAP'N PROTO":{color:"#c42727",name:"Cap'n Proto"},CARBON:{color:"#222222",name:"Carbon"},CEYLON:{color:"#dfa535",name:"Ceylon"},CHAPEL:{color:"#8dc63f",name:"Chapel"},CHUCK:{color:"#3f8000",name:"ChucK"},CIRCOM:{color:"#707575",name:"Circom"},CIRRU:{color:"#ccccff",name:"Cirru"},CLARION:{color:"#db901e",name:"Clarion"},CLARITY:{color:"#5546ff",name:"Clarity"},"CLASSIC ASP":{color:"#6a40fd",name:"Classic ASP"},CLEAN:{color:"#3F85AF",name:"Clean"},CLICK:{color:"#E4E6F3",name:"Click"},CLOJURE:{color:"#db5855",name:"Clojure"},"CLOSURE TEMPLATES":{color:"#0d948f",name:"Closure Templates"},"CLOUD FIRESTORE SECURITY RULES":{color:"#FFA000",name:"Cloud Firestore Security Rules"},CODEQL:{color:"#140f46",name:"CodeQL"},COFFEESCRIPT:{color:"#244776",name:"CoffeeScript"},COLDFUSION:{color:"#ed2cd6",name:"ColdFusion"},"COLDFUSION CFC":{color:"#ed2cd6",name:"ColdFusion CFC"},"COMMON LISP":{color:"#3fb68b",name:"Common Lisp"},"COMMON WORKFLOW LANGUAGE":{color:"#B5314C",name:"Common Workflow Language"},"COMPONENT PASCAL":{color:"#B0CE4E",name:"Component Pascal"},COQ:{color:"#d0b68c",name:"Coq"},CRYSTAL:{color:"#000100",name:"Crystal"},CSOUND:{color:"#1a1a1a",name:"Csound"},"CSOUND DOCUMENT":{color:"#1a1a1a",name:"Csound Document"},"CSOUND SCORE":{color:"#1a1a1a",name:"Csound Score"},CUDA:{color:"#3A4E3A",name:"Cuda"},CURRY:{color:"#531242",name:"Curry"},CYLC:{color:"#00b3fd",name:"Cylc"},CYPHER:{color:"#34c0eb",name:"Cypher"},CYTHON:{color:"#fedf5b",name:"Cython"},D:{color:"#ba595e",name:"D"},D2:{color:"#526ee8",name:"D2"},DM:{color:"#447265",name:"DM"},DAFNY:{color:"#FFEC25",name:"Dafny"},"DARCS PATCH":{color:"#8eff23",name:"Darcs Patch"},DART:{color:"#00B4AB",name:"Dart"},DATAWEAVE:{color:"#003a52",name:"DataWeave"},"DEBIAN PACKAGE CONTROL FILE":{color:"#D70751",name:"Debian Package Control File"},DENIZENSCRIPT:{color:"#FBEE96",name:"DenizenScript"},DHALL:{color:"#dfafff",name:"Dhall"},"DIRECTX 3D FILE":{color:"#aace60",name:"DirectX 3D File"},DOCKERFILE:{color:"#384d54",name:"Dockerfile"},DOGESCRIPT:{color:"#cca760",name:"Dogescript"},DOTENV:{color:"#e5d559",name:"Dotenv"},DUNE:{color:"#89421e",name:"Dune"},DYLAN:{color:"#6c616e",name:"Dylan"},E:{color:"#ccce35",name:"E"},ECL:{color:"#8a1267",name:"ECL"},ECLIPSE:{color:"#001d9d",name:"ECLiPSe"},EJS:{color:"#a91e50",name:"EJS"},EQ:{color:"#a78649",name:"EQ"},EARTHLY:{color:"#2af0ff",name:"Earthly"},EASYBUILD:{color:"#069406",name:"Easybuild"},"ECERE PROJECTS":{color:"#913960",name:"Ecere Projects"},ECMARKUP:{color:"#eb8131",name:"Ecmarkup"},EDGE:{color:"#0dffe0",name:"Edge"},EDGEQL:{color:"#31A7FF",name:"EdgeQL"},EDITORCONFIG:{color:"#fff1f2",name:"EditorConfig"},EIFFEL:{color:"#4d6977",name:"Eiffel"},ELIXIR:{color:"#6e4a7e",name:"Elixir"},ELM:{color:"#60B5CC",name:"Elm"},ELVISH:{color:"#55BB55",name:"Elvish"},"ELVISH TRANSCRIPT":{color:"#55BB55",name:"Elvish Transcript"},"EMACS LISP":{color:"#c065db",name:"Emacs Lisp"},EMBERSCRIPT:{color:"#FFF4F3",name:"EmberScript"},ERLANG:{color:"#B83998",name:"Erlang"},EUPHORIA:{color:"#FF790B",name:"Euphoria"},"F#":{color:"#b845fc",name:"F#"},"F*":{color:"#572e30",name:"F*"},"FIGLET FONT":{color:"#FFDDBB",name:"FIGlet Font"},FIRRTL:{color:"#2f632f",name:"FIRRTL"},FLUX:{color:"#88ccff",name:"FLUX"},FACTOR:{color:"#636746",name:"Factor"},FANCY:{color:"#7b9db4",name:"Fancy"},FANTOM:{color:"#14253c",name:"Fantom"},FAUST:{color:"#c37240",name:"Faust"},FENNEL:{color:"#fff3d7",name:"Fennel"},"FILEBENCH WML":{color:"#F6B900",name:"Filebench WML"},FLUENT:{color:"#ffcc33",name:"Fluent"},FORTH:{color:"#341708",name:"Forth"},FORTRAN:{color:"#4d41b1",name:"Fortran"},"FORTRAN FREE FORM":{color:"#4d41b1",name:"Fortran Free Form"},FREEBASIC:{color:"#141AC9",name:"FreeBasic"},FREEMARKER:{color:"#0050b2",name:"FreeMarker"},FREGE:{color:"#00cafe",name:"Frege"},FUTHARK:{color:"#5f021f",name:"Futhark"},"G-CODE":{color:"#D08CF2",name:"G-code"},GAML:{color:"#FFC766",name:"GAML"},GAMS:{color:"#f49a22",name:"GAMS"},GAP:{color:"#0000cc",name:"GAP"},"GCC MACHINE DESCRIPTION":{color:"#FFCFAB",name:"GCC Machine Description"},GDSCRIPT:{color:"#355570",name:"GDScript"},GEDCOM:{color:"#003058",name:"GEDCOM"},GLSL:{color:"#5686a5",name:"GLSL"},GSC:{color:"#FF6800",name:"GSC"},"GAME MAKER LANGUAGE":{color:"#71b417",name:"Game Maker Language"},"GEMFILE.LOCK":{color:"#701516",name:"Gemfile.lock"},GEMINI:{color:"#ff6900",name:"Gemini"},"GENERO 4GL":{color:"#63408e",name:"Genero 4gl"},"GENERO PER":{color:"#d8df39",name:"Genero per"},GENIE:{color:"#fb855d",name:"Genie"},GENSHI:{color:"#951531",name:"Genshi"},"GENTOO EBUILD":{color:"#9400ff",name:"Gentoo Ebuild"},"GENTOO ECLASS":{color:"#9400ff",name:"Gentoo Eclass"},"GERBER IMAGE":{color:"#d20b00",name:"Gerber Image"},GHERKIN:{color:"#5B2063",name:"Gherkin"},"GIT ATTRIBUTES":{color:"#F44D27",name:"Git Attributes"},"GIT CONFIG":{color:"#F44D27",name:"Git Config"},"GIT REVISION LIST":{color:"#F44D27",name:"Git Revision List"},GLEAM:{color:"#ffaff3",name:"Gleam"},"GLIMMER JS":{color:"#F5835F",name:"Glimmer JS"},"GLIMMER TS":{color:"#3178c6",name:"Glimmer TS"},GLYPH:{color:"#c1ac7f",name:"Glyph"},GNUPLOT:{color:"#f0a9f0",name:"Gnuplot"},GO:{color:"#00ADD8",name:"Go"},"GO CHECKSUMS":{color:"#00ADD8",name:"Go Checksums"},"GO MODULE":{color:"#00ADD8",name:"Go Module"},"GO WORKSPACE":{color:"#00ADD8",name:"Go Workspace"},"GODOT RESOURCE":{color:"#355570",name:"Godot Resource"},GOLO:{color:"#88562A",name:"Golo"},GOSU:{color:"#82937f",name:"Gosu"},GRACE:{color:"#615f8b",name:"Grace"},GRADLE:{color:"#02303a",name:"Gradle"},"GRADLE KOTLIN DSL":{color:"#02303a",name:"Gradle Kotlin DSL"},"GRAMMATICAL FRAMEWORK":{color:"#ff0000",name:"Grammatical Framework"},GRAPHQL:{color:"#e10098",name:"GraphQL"},"GRAPHVIZ (DOT)":{color:"#2596be",name:"Graphviz (DOT)"},GROOVY:{color:"#4298b8",name:"Groovy"},"GROOVY SERVER PAGES":{color:"#4298b8",name:"Groovy Server Pages"},HAPROXY:{color:"#106da9",name:"HAProxy"},HCL:{color:"#844FBA",name:"HCL"},HLSL:{color:"#aace60",name:"HLSL"},HOCON:{color:"#9ff8ee",name:"HOCON"},HTML:{color:"#e34c26",name:"HTML"},"HTML+ECR":{color:"#2e1052",name:"HTML+ECR"},"HTML+EEX":{color:"#6e4a7e",name:"HTML+EEX"},"HTML+ERB":{color:"#701516",name:"HTML+ERB"},"HTML+PHP":{color:"#4f5d95",name:"HTML+PHP"},"HTML+RAZOR":{color:"#512be4",name:"HTML+Razor"},HTTP:{color:"#005C9C",name:"HTTP"},HXML:{color:"#f68712",name:"HXML"},HACK:{color:"#878787",name:"Hack"},HAML:{color:"#ece2a9",name:"Haml"},HANDLEBARS:{color:"#f7931e",name:"Handlebars"},HARBOUR:{color:"#0e60e3",name:"Harbour"},HASKELL:{color:"#5e5086",name:"Haskell"},HAXE:{color:"#df7900",name:"Haxe"},HIVEQL:{color:"#dce200",name:"HiveQL"},HOLYC:{color:"#ffefaf",name:"HolyC"},"HOSTS FILE":{color:"#308888",name:"Hosts File"},HY:{color:"#7790B2",name:"Hy"},IDL:{color:"#a3522f",name:"IDL"},"IGOR PRO":{color:"#0000cc",name:"IGOR Pro"},INI:{color:"#d1dbe0",name:"INI"},IDRIS:{color:"#b30000",name:"Idris"},"IGNORE LIST":{color:"#000000",name:"Ignore List"},"IMAGEJ MACRO":{color:"#99AAFF",name:"ImageJ Macro"},IMBA:{color:"#16cec6",name:"Imba"},"INNO SETUP":{color:"#264b99",name:"Inno Setup"},IO:{color:"#a9188d",name:"Io"},IOKE:{color:"#078193",name:"Ioke"},ISABELLE:{color:"#FEFE00",name:"Isabelle"},"ISABELLE ROOT":{color:"#FEFE00",name:"Isabelle ROOT"},J:{color:"#9EEDFF",name:"J"},"JAR MANIFEST":{color:"#b07219",name:"JAR Manifest"},JCL:{color:"#d90e09",name:"JCL"},JFLEX:{color:"#DBCA00",name:"JFlex"},JSON:{color:"#292929",name:"JSON"},"JSON WITH COMMENTS":{color:"#292929",name:"JSON with Comments"},JSON5:{color:"#267CB9",name:"JSON5"},JSONLD:{color:"#0c479c",name:"JSONLD"},JSONIQ:{color:"#40d47e",name:"JSONiq"},JANET:{color:"#0886a5",name:"Janet"},JASMIN:{color:"#d03600",name:"Jasmin"},JAVA:{color:"#b07219",name:"Java"},"JAVA PROPERTIES":{color:"#2A6277",name:"Java Properties"},"JAVA SERVER PAGES":{color:"#2A6277",name:"Java Server Pages"},"JAVA TEMPLATE ENGINE":{color:"#2A6277",name:"Java Template Engine"},JAVASCRIPT:{color:"#f1e05a",name:"JavaScript"},"JAVASCRIPT+ERB":{color:"#f1e05a",name:"JavaScript+ERB"},"JEST SNAPSHOT":{color:"#15c213",name:"Jest Snapshot"},"JETBRAINS MPS":{color:"#21D789",name:"JetBrains MPS"},JINJA:{color:"#a52a22",name:"Jinja"},JISON:{color:"#56b3cb",name:"Jison"},"JISON LEX":{color:"#56b3cb",name:"Jison Lex"},JOLIE:{color:"#843179",name:"Jolie"},JSONNET:{color:"#0064bd",name:"Jsonnet"},JULIA:{color:"#a270ba",name:"Julia"},"JULIA REPL":{color:"#a270ba",name:"Julia REPL"},"JUPYTER NOTEBOOK":{color:"#DA5B0B",name:"Jupyter Notebook"},JUST:{color:"#384d54",name:"Just"},KRL:{color:"#28430A",name:"KRL"},"KAITAI STRUCT":{color:"#773b37",name:"Kaitai Struct"},KAKOUNESCRIPT:{color:"#6f8042",name:"KakouneScript"},KERBOSCRIPT:{color:"#41adf0",name:"KerboScript"},"KICAD LAYOUT":{color:"#2f4aab",name:"KiCad Layout"},"KICAD LEGACY LAYOUT":{color:"#2f4aab",name:"KiCad Legacy Layout"},"KICAD SCHEMATIC":{color:"#2f4aab",name:"KiCad Schematic"},KOTLIN:{color:"#A97BFF",name:"Kotlin"},LFE:{color:"#4C3023",name:"LFE"},LLVM:{color:"#185619",name:"LLVM"},LOLCODE:{color:"#cc9900",name:"LOLCODE"},LSL:{color:"#3d9970",name:"LSL"},LABVIEW:{color:"#fede06",name:"LabVIEW"},LARK:{color:"#2980B9",name:"Lark"},LASSO:{color:"#999999",name:"Lasso"},LATTE:{color:"#f2a542",name:"Latte"},LESS:{color:"#1d365d",name:"Less"},LEX:{color:"#DBCA00",name:"Lex"},LIGOLANG:{color:"#0e74ff",name:"LigoLANG"},LILYPOND:{color:"#9ccc7c",name:"LilyPond"},LIQUID:{color:"#67b8de",name:"Liquid"},"LITERATE AGDA":{color:"#315665",name:"Literate Agda"},"LITERATE COFFEESCRIPT":{color:"#244776",name:"Literate CoffeeScript"},"LITERATE HASKELL":{color:"#5e5086",name:"Literate Haskell"},"LIVECODE SCRIPT":{color:"#0c5ba5",name:"LiveCode Script"},LIVESCRIPT:{color:"#499886",name:"LiveScript"},LOGTALK:{color:"#295b9a",name:"Logtalk"},LOOKML:{color:"#652B81",name:"LookML"},LUA:{color:"#000080",name:"Lua"},LUAU:{color:"#00A2FF",name:"Luau"},MATLAB:{color:"#e16737",name:"MATLAB"},MAXSCRIPT:{color:"#00a6a6",name:"MAXScript"},MDX:{color:"#fcb32c",name:"MDX"},MLIR:{color:"#5EC8DB",name:"MLIR"},MQL4:{color:"#62A8D6",name:"MQL4"},MQL5:{color:"#4A76B8",name:"MQL5"},MTML:{color:"#b7e1f4",name:"MTML"},MACAULAY2:{color:"#d8ffff",name:"Macaulay2"},MAKEFILE:{color:"#427819",name:"Makefile"},MAKO:{color:"#7e858d",name:"Mako"},MARKDOWN:{color:"#083fa1",name:"Markdown"},MARKO:{color:"#42bff2",name:"Marko"},MASK:{color:"#f97732",name:"Mask"},MATHEMATICA:{color:"#dd1100",name:"Mathematica"},MAX:{color:"#c4a79c",name:"Max"},MERCURY:{color:"#ff2b2b",name:"Mercury"},MERMAID:{color:"#ff3670",name:"Mermaid"},MESON:{color:"#007800",name:"Meson"},METAL:{color:"#8f14e9",name:"Metal"},MINIYAML:{color:"#ff1111",name:"MiniYAML"},MINT:{color:"#02b046",name:"Mint"},MIRAH:{color:"#c7a938",name:"Mirah"},MODELICA:{color:"#de1d31",name:"Modelica"},"MODULA-2":{color:"#10253f",name:"Modula-2"},"MODULA-3":{color:"#223388",name:"Modula-3"},MOJO:{color:"#ff4c1f",name:"Mojo"},"MONKEY C":{color:"#8D6747",name:"Monkey C"},MOONSCRIPT:{color:"#ff4585",name:"MoonScript"},MOTOKO:{color:"#fbb03b",name:"Motoko"},"MOTOROLA 68K ASSEMBLY":{color:"#005daa",name:"Motorola 68K Assembly"},MOVE:{color:"#4a137a",name:"Move"},MUSTACHE:{color:"#724b3b",name:"Mustache"},NCL:{color:"#28431f",name:"NCL"},NMODL:{color:"#00356B",name:"NMODL"},"NPM CONFIG":{color:"#cb3837",name:"NPM Config"},NWSCRIPT:{color:"#111522",name:"NWScript"},NASAL:{color:"#1d2c4e",name:"Nasal"},NEARLEY:{color:"#990000",name:"Nearley"},NEMERLE:{color:"#3d3c6e",name:"Nemerle"},NETLINX:{color:"#0aa0ff",name:"NetLinx"},"NETLINX+ERB":{color:"#747faa",name:"NetLinx+ERB"},NETLOGO:{color:"#ff6375",name:"NetLogo"},NEWLISP:{color:"#87AED7",name:"NewLisp"},NEXTFLOW:{color:"#3ac486",name:"Nextflow"},NGINX:{color:"#009639",name:"Nginx"},NIM:{color:"#ffc200",name:"Nim"},NIT:{color:"#009917",name:"Nit"},NIX:{color:"#7e7eff",name:"Nix"},NOIR:{color:"#2f1f49",name:"Noir"},NU:{color:"#c9df40",name:"Nu"},NUMPY:{color:"#9C8AF9",name:"NumPy"},NUNJUCKS:{color:"#3d8137",name:"Nunjucks"},NUSHELL:{color:"#4E9906",name:"Nushell"},"OASV2-JSON":{color:"#85ea2d",name:"OASv2-json"},"OASV2-YAML":{color:"#85ea2d",name:"OASv2-yaml"},"OASV3-JSON":{color:"#85ea2d",name:"OASv3-json"},"OASV3-YAML":{color:"#85ea2d",name:"OASv3-yaml"},OCAML:{color:"#ef7a08",name:"OCaml"},OBJECTSCRIPT:{color:"#424893",name:"ObjectScript"},"OBJECTIVE-C":{color:"#438eff",name:"Objective-C"},"OBJECTIVE-C++":{color:"#6866fb",name:"Objective-C++"},"OBJECTIVE-J":{color:"#ff0c5a",name:"Objective-J"},ODIN:{color:"#60AFFE",name:"Odin"},OMGROFL:{color:"#cabbff",name:"Omgrofl"},OPAL:{color:"#f7ede0",name:"Opal"},"OPEN POLICY AGENT":{color:"#7d9199",name:"Open Policy Agent"},"OPENAPI SPECIFICATION V2":{color:"#85ea2d",name:"OpenAPI Specification v2"},"OPENAPI SPECIFICATION V3":{color:"#85ea2d",name:"OpenAPI Specification v3"},OPENCL:{color:"#ed2e2d",name:"OpenCL"},"OPENEDGE ABL":{color:"#5ce600",name:"OpenEdge ABL"},OPENQASM:{color:"#AA70FF",name:"OpenQASM"},OPENSCAD:{color:"#e5cd45",name:"OpenSCAD"},"OPTION LIST":{color:"#476732",name:"Option List"},ORG:{color:"#77aa99",name:"Org"},OXYGENE:{color:"#cdd0e3",name:"Oxygene"},OZ:{color:"#fab738",name:"Oz"},P4:{color:"#7055b5",name:"P4"},PDDL:{color:"#0d00ff",name:"PDDL"},"PEG.JS":{color:"#234d6b",name:"PEG.js"},PHP:{color:"#4F5D95",name:"PHP"},PLSQL:{color:"#dad8d8",name:"PLSQL"},PLPGSQL:{color:"#336790",name:"PLpgSQL"},"POV-RAY SDL":{color:"#6bac65",name:"POV-Ray SDL"},PACT:{color:"#F7A8B8",name:"Pact"},PAN:{color:"#cc0000",name:"Pan"},PAPYRUS:{color:"#6600cc",name:"Papyrus"},PARROT:{color:"#f3ca0a",name:"Parrot"},PASCAL:{color:"#E3F171",name:"Pascal"},PAWN:{color:"#dbb284",name:"Pawn"},PEP8:{color:"#C76F5B",name:"Pep8"},PERL:{color:"#0298c3",name:"Perl"},PICOLISP:{color:"#6067af",name:"PicoLisp"},PIGLATIN:{color:"#fcd7de",name:"PigLatin"},PIKE:{color:"#005390",name:"Pike"},"PIP REQUIREMENTS":{color:"#FFD343",name:"Pip Requirements"},PKL:{color:"#6b9543",name:"Pkl"},PLANTUML:{color:"#fbbd16",name:"PlantUML"},POGOSCRIPT:{color:"#d80074",name:"PogoScript"},POLAR:{color:"#ae81ff",name:"Polar"},PORTUGOL:{color:"#f8bd00",name:"Portugol"},POSTCSS:{color:"#dc3a0c",name:"PostCSS"},POSTSCRIPT:{color:"#da291c",name:"PostScript"},POWERBUILDER:{color:"#8f0f8d",name:"PowerBuilder"},POWERSHELL:{color:"#012456",name:"PowerShell"},PRAAT:{color:"#c8506d",name:"Praat"},PRISMA:{color:"#0c344b",name:"Prisma"},PROCESSING:{color:"#0096D8",name:"Processing"},PROCFILE:{color:"#3B2F63",name:"Procfile"},PROLOG:{color:"#74283c",name:"Prolog"},PROMELA:{color:"#de0000",name:"Promela"},"PROPELLER SPIN":{color:"#7fa2a7",name:"Propeller Spin"},PUG:{color:"#a86454",name:"Pug"},PUPPET:{color:"#302B6D",name:"Puppet"},PUREBASIC:{color:"#5a6986",name:"PureBasic"},PURESCRIPT:{color:"#1D222D",name:"PureScript"},PYRET:{color:"#ee1e10",name:"Pyret"},PYTHON:{color:"#3572A5",name:"Python"},"PYTHON CONSOLE":{color:"#3572A5",name:"Python console"},"PYTHON TRACEBACK":{color:"#3572A5",name:"Python traceback"},"Q#":{color:"#fed659",name:"Q#"},QML:{color:"#44a51c",name:"QML"},"QT SCRIPT":{color:"#00b841",name:"Qt Script"},QUAKE:{color:"#882233",name:"Quake"},R:{color:"#198CE7",name:"R"},RAML:{color:"#77d9fb",name:"RAML"},RBS:{color:"#701516",name:"RBS"},RDOC:{color:"#701516",name:"RDoc"},REXX:{color:"#d90e09",name:"REXX"},RMARKDOWN:{color:"#198ce7",name:"RMarkdown"},RON:{color:"#a62c00",name:"RON"},RPGLE:{color:"#2BDE21",name:"RPGLE"},RUNOFF:{color:"#665a4e",name:"RUNOFF"},RACKET:{color:"#3c5caa",name:"Racket"},RAGEL:{color:"#9d5200",name:"Ragel"},RAKU:{color:"#0000fb",name:"Raku"},RASCAL:{color:"#fffaa0",name:"Rascal"},RESCRIPT:{color:"#ed5051",name:"ReScript"},REASON:{color:"#ff5847",name:"Reason"},REASONLIGO:{color:"#ff5847",name:"ReasonLIGO"},REBOL:{color:"#358a5b",name:"Rebol"},"RECORD JAR":{color:"#0673ba",name:"Record Jar"},RED:{color:"#f50000",name:"Red"},"REGULAR EXPRESSION":{color:"#009a00",name:"Regular Expression"},"REN'PY":{color:"#ff7f7f",name:"Ren'Py"},REZ:{color:"#FFDAB3",name:"Rez"},RING:{color:"#2D54CB",name:"Ring"},RIOT:{color:"#A71E49",name:"Riot"},ROBOTFRAMEWORK:{color:"#00c0b5",name:"RobotFramework"},ROC:{color:"#7c38f5",name:"Roc"},ROFF:{color:"#ecdebe",name:"Roff"},"ROFF MANPAGE":{color:"#ecdebe",name:"Roff Manpage"},ROUGE:{color:"#cc0088",name:"Rouge"},"ROUTEROS SCRIPT":{color:"#DE3941",name:"RouterOS Script"},RUBY:{color:"#701516",name:"Ruby"},RUST:{color:"#dea584",name:"Rust"},SAS:{color:"#B34936",name:"SAS"},SCSS:{color:"#c6538c",name:"SCSS"},SPARQL:{color:"#0C4597",name:"SPARQL"},SQF:{color:"#3F3F3F",name:"SQF"},SQL:{color:"#e38c00",name:"SQL"},SQLPL:{color:"#e38c00",name:"SQLPL"},"SRECODE TEMPLATE":{color:"#348a34",name:"SRecode Template"},STL:{color:"#373b5e",name:"STL"},SVG:{color:"#ff9900",name:"SVG"},SALTSTACK:{color:"#646464",name:"SaltStack"},SASS:{color:"#a53b70",name:"Sass"},SCALA:{color:"#c22d40",name:"Scala"},SCAML:{color:"#bd181a",name:"Scaml"},SCENIC:{color:"#fdc700",name:"Scenic"},SCHEME:{color:"#1e4aec",name:"Scheme"},SCILAB:{color:"#ca0f21",name:"Scilab"},SELF:{color:"#0579aa",name:"Self"},SHADERLAB:{color:"#222c37",name:"ShaderLab"},SHELL:{color:"#89e051",name:"Shell"},"SHELLCHECK CONFIG":{color:"#cecfcb",name:"ShellCheck Config"},SHEN:{color:"#120F14",name:"Shen"},"SIMPLE FILE VERIFICATION":{color:"#C9BFED",name:"Simple File Verification"},SINGULARITY:{color:"#64E6AD",name:"Singularity"},SLASH:{color:"#007eff",name:"Slash"},SLICE:{color:"#003fa2",name:"Slice"},SLIM:{color:"#2b2b2b",name:"Slim"},SLINT:{color:"#2379F4",name:"Slint"},SMPL:{color:"#c94949",name:"SmPL"},SMALLTALK:{color:"#596706",name:"Smalltalk"},SMARTY:{color:"#f0c040",name:"Smarty"},SMITHY:{color:"#c44536",name:"Smithy"},SNAKEMAKE:{color:"#419179",name:"Snakemake"},SOLIDITY:{color:"#AA6746",name:"Solidity"},SOURCEPAWN:{color:"#f69e1d",name:"SourcePawn"},SQUIRREL:{color:"#800000",name:"Squirrel"},STAN:{color:"#b2011d",name:"Stan"},"STANDARD ML":{color:"#dc566d",name:"Standard ML"},STARLARK:{color:"#76d275",name:"Starlark"},STATA:{color:"#1a5f91",name:"Stata"},STRINGTEMPLATE:{color:"#3fb34f",name:"StringTemplate"},STYLUS:{color:"#ff6347",name:"Stylus"},"SUBRIP TEXT":{color:"#9e0101",name:"SubRip Text"},SUGARSS:{color:"#2fcc9f",name:"SugarSS"},SUPERCOLLIDER:{color:"#46390b",name:"SuperCollider"},SVELTE:{color:"#ff3e00",name:"Svelte"},SWAY:{color:"#00F58C",name:"Sway"},SWEAVE:{color:"#198ce7",name:"Sweave"},SWIFT:{color:"#F05138",name:"Swift"},SYSTEMVERILOG:{color:"#DAE1C2",name:"SystemVerilog"},"TI PROGRAM":{color:"#A0AA87",name:"TI Program"},"TL-VERILOG":{color:"#C40023",name:"TL-Verilog"},TLA:{color:"#4b0079",name:"TLA"},TOML:{color:"#9c4221",name:"TOML"},TSQL:{color:"#e38c00",name:"TSQL"},TSV:{color:"#237346",name:"TSV"},TSX:{color:"#3178c6",name:"TSX"},TXL:{color:"#0178b8",name:"TXL"},TALON:{color:"#333333",name:"Talon"},TCL:{color:"#e4cc98",name:"Tcl"},TEX:{color:"#3D6117",name:"TeX"},TERRA:{color:"#00004c",name:"Terra"},"TERRAFORM TEMPLATE":{color:"#7b42bb",name:"Terraform Template"},TEXTGRID:{color:"#c8506d",name:"TextGrid"},"TEXTMATE PROPERTIES":{color:"#df66e4",name:"TextMate Properties"},TEXTILE:{color:"#ffe7ac",name:"Textile"},THRIFT:{color:"#D12127",name:"Thrift"},TOIT:{color:"#c2c9fb",name:"Toit"},TURING:{color:"#cf142b",name:"Turing"},TWIG:{color:"#c1d026",name:"Twig"},TYPESCRIPT:{color:"#3178c6",name:"TypeScript"},TYPST:{color:"#239dad",name:"Typst"},"UNIFIED PARALLEL C":{color:"#4e3617",name:"Unified Parallel C"},"UNITY3D ASSET":{color:"#222c37",name:"Unity3D Asset"},UNO:{color:"#9933cc",name:"Uno"},UNREALSCRIPT:{color:"#a54c4d",name:"UnrealScript"},URWEB:{color:"#ccccee",name:"UrWeb"},V:{color:"#4f87c4",name:"V"},VBA:{color:"#867db1",name:"VBA"},VBSCRIPT:{color:"#15dcdc",name:"VBScript"},VCL:{color:"#148AA8",name:"VCL"},VHDL:{color:"#adb2cb",name:"VHDL"},VALA:{color:"#a56de2",name:"Vala"},"VALVE DATA FORMAT":{color:"#f26025",name:"Valve Data Format"},"VELOCITY TEMPLATE LANGUAGE":{color:"#507cff",name:"Velocity Template Language"},VERILOG:{color:"#b2b7f8",name:"Verilog"},"VIM HELP FILE":{color:"#199f4b",name:"Vim Help File"},"VIM SCRIPT":{color:"#199f4b",name:"Vim Script"},"VIM SNIPPET":{color:"#199f4b",name:"Vim Snippet"},"VISUAL BASIC .NET":{color:"#945db7",name:"Visual Basic .NET"},"VISUAL BASIC 6.0":{color:"#2c6353",name:"Visual Basic 6.0"},VOLT:{color:"#1F1F1F",name:"Volt"},VUE:{color:"#41b883",name:"Vue"},VYPER:{color:"#2980b9",name:"Vyper"},WDL:{color:"#42f1f4",name:"WDL"},WGSL:{color:"#1a5e9a",name:"WGSL"},"WEB ONTOLOGY LANGUAGE":{color:"#5b70bd",name:"Web Ontology Language"},WEBASSEMBLY:{color:"#04133b",name:"WebAssembly"},"WEBASSEMBLY INTERFACE TYPE":{color:"#6250e7",name:"WebAssembly Interface Type"},WHILEY:{color:"#d5c397",name:"Whiley"},WIKITEXT:{color:"#fc5757",name:"Wikitext"},"WINDOWS REGISTRY ENTRIES":{color:"#52d5ff",name:"Windows Registry Entries"},"WITCHER SCRIPT":{color:"#ff0000",name:"Witcher Script"},WOLLOK:{color:"#a23738",name:"Wollok"},"WORLD OF WARCRAFT ADDON DATA":{color:"#f7e43f",name:"World of Warcraft Addon Data"},WREN:{color:"#383838",name:"Wren"},X10:{color:"#4B6BEF",name:"X10"},XC:{color:"#99DA07",name:"XC"},XML:{color:"#0060ac",name:"XML"},"XML PROPERTY LIST":{color:"#0060ac",name:"XML Property List"},XQUERY:{color:"#5232e7",name:"XQuery"},XSLT:{color:"#EB8CEB",name:"XSLT"},XOJO:{color:"#81bd41",name:"Xojo"},XONSH:{color:"#285EEF",name:"Xonsh"},XTEND:{color:"#24255d",name:"Xtend"},YAML:{color:"#cb171e",name:"YAML"},YARA:{color:"#220000",name:"YARA"},YASNIPPET:{color:"#32AB90",name:"YASnippet"},YACC:{color:"#4B6C4B",name:"Yacc"},YUL:{color:"#794932",name:"Yul"},ZAP:{color:"#0d665e",name:"ZAP"},ZIL:{color:"#dc75e5",name:"ZIL"},ZENSCRIPT:{color:"#00BCD1",name:"ZenScript"},ZEPHIR:{color:"#118f9e",name:"Zephir"},ZIG:{color:"#ec915c",name:"Zig"},ZIMPL:{color:"#d67711",name:"Zimpl"},CRONTAB:{color:"#ead7ac",name:"crontab"},EC:{color:"#913960",name:"eC"},FISH:{color:"#4aae47",name:"fish"},HOON:{color:"#00b171",name:"hoon"},ICALENDAR:{color:"#ec564c",name:"iCalendar"},JQ:{color:"#c7254e",name:"jq"},KVLANG:{color:"#1da6e0",name:"kvlang"},"MIRC SCRIPT":{color:"#3d57c3",name:"mIRC Script"},MCFUNCTION:{color:"#E22837",name:"mcfunction"},MUPAD:{color:"#244963",name:"mupad"},NANORC:{color:"#2d004d",name:"nanorc"},NESC:{color:"#94B0C7",name:"nesC"},OOC:{color:"#b0b77e",name:"ooc"},Q:{color:"#0040cd",name:"q"},RESTRUCTUREDTEXT:{color:"#141414",name:"reStructuredText"},SED:{color:"#64b970",name:"sed"},TEMPL:{color:"#66D0DD",name:"templ"},VCARD:{color:"#ee2647",name:"vCard"},WISP:{color:"#7582D1",name:"wisp"},XBASE:{color:"#403a40",name:"xBase"}}},18659:(e,t,n)=>{n.d(t,{o:()=>o});var r=n(89970);function o(e,{references:t,openLinksInCurrentTab:n,agents:o,fetchAgents:a,improvedCodeBlocks:i}){let s;if(!e)return{html:"",hasCitations:!1,referenceMap:new Map};t&&0!==t.length||(e=`We could not find anything related to your query in your selected knowledge base.
    Copilot will try its best to answer your question but
    risks of fabrication are higher without grounding in documentation.

${e}`,t=[]);let l=RegExp("\\[CitationID: ?(?<id>[0-9]{1,3})\\](?!\\()","i"),c=l.test(e),d=c?l:RegExp("\\[\\^?(?<id>[0-9]{1,3})\\^?\\](?!\\()"),u=RegExp(`^${d.source}`,d.flags),m=!1;return s=c?new Map:new Map(Array.from({length:t.length},(e,t)=>[t+1,t+1])),{html:(0,r.K)(e,{references:t,extensions:[{marked:[{extensions:[{name:"citation",level:"inline",start:e=>e.match(d)?.index,tokenizer(e){let t=u.exec(e);if(t){let e=t.groups?.id;if(e)return{type:"citation",raw:t[0],id:e}}},renderer(e){let n=document.createElement("a"),r=parseInt(e.id),o=t[r-1];if(!o)return e.raw;let a=o.url;if(!a)return e.raw;m=!0,s.has(r)||s.set(r,s.size+1);let i=s.get(r);return n.setAttribute("href",a),n.textContent=`[${i}]`,n.outerHTML}}]}]}],openLinksInCurrentTab:n,agents:o,fetchAgents:a,improvedCodeBlocks:i}),hasCitations:m,referenceMap:s}}},89970:(e,t,n)=>{n.d(t,{K:()=>_});var r=n(60023),o=n(57938),a=n(42838),i=n.n(a),s=n(50948),l=n.n(s),c=n(22540),d=n(79929);let u={extensions:[{name:"code",renderer(e){if("code"!==e.type)return!1;let[,t="",n="",r=""]=e.raw.match(/^[`~]{3,}[ ]*([\w]+)[ ]+name=(.+?\.[a-zA-Z]+)\n([\s\S]+)\n[`~]{3,}$/)??[];if(0===t.length||0===n.length||0===r.length)return!1;let o=document.createElement("div");return o.appendChild(document.createTextNode(r)),o.classList.add("js-file-view"),o.setAttribute("data-filename",n),o.setAttribute("data-language",t),o.outerHTML}}]},m=(e,t)=>{("data-filename"===t.attrName||"data-language"===t.attrName)&&(t.forceKeepAttr=!0)},p="data-hovercard-url",h=(e,t)=>{switch(t.attrName){case p:t.forceKeepAttr=!0;break;case"href":t.forceKeepAttr=e.hasAttribute(p)}},f=e=>{("target"in e||e instanceof HTMLAnchorElement)&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")),!e.hasAttribute("target")&&(e.hasAttribute("xlink:href")||e.hasAttribute("href"))&&e.setAttribute("xlink:show","new")},g=e=>t=>t.match(e)?.index,x=(e,t)=>n=>{for(let r of t){let t=n.match(r);if(t)return{type:e,raw:t[0],...t.groups}}},b=e=>t=>{if("string"!=typeof t.latex)throw Error("Unrecognized token passed to math renderer");return e(t.latex)},y=null,A=()=>y??(y=document.querySelector('link[rel="assets"]')?.href??""),C=e=>e.replaceAll("<","&amp;lt;"),j=e=>e.replaceAll('"',"&quot;"),v=e=>`<math-renderer class="js-display-math" style="display: block" data-static-url="${j(A())}">${C(e)}</math-renderer>
`,S=e=>(t,n)=>!!(n&&e.has(n))&&v(t),N=e=>`<math-renderer class="js-inline-math" style="display: inline-block" data-static-url="${j(A())}">${C(e)}</math-renderer>`,w=[{open:/\$\$/,close:/\$\$/}],I=[{open:/\$`/,close:/`\$/},{open:/\$\$(?! )/,close:RegExp("(?<! )\\$\\$")},{open:/\$(?![ $])/,close:RegExp("(?<![ $])\\$")}],R=new Set(["math"]),T=({displayDelimiters:e=w,inlineDelimiters:t=I,codeBlockLanguages:n=R}={})=>({extensions:[function(e){let t=RegExp(`\\n\\s*(?:${e.map(e=>e.open.source).join("|")})`),n=e.map(({open:e,close:t})=>RegExp(`^${e.source}(?<latex>(?:
|.)+?)${t.source}(?= *(?:\\n|$))`)),r="displaymath";return{name:r,level:"block",start:g(t),tokenizer:x(r,n),renderer:b(v)}}(e),function(e){let t=RegExp(`${e.map(e=>e.open.source).join("|")}`),n=e.map(({open:e,close:t})=>RegExp(`^${e.source}(?<latex>.+?)${t.source}`)),r="inlinemath";return{name:r,level:"inline",start:g(t),tokenizer:x(r,n),renderer:b(N)}}(t)],renderer:{code:S(n)}}),E=(e,t)=>{"MATH-RENDERER"===e.nodeName&&t.attrName.match(/^(data-.*|style|class)$/)&&(t.forceKeepAttr=!0)},L=RegExp("(?<url>(?<repoURL>https?:\\/\\/(?<repoName>github.com\\/[^/]+\\/[^/]+))\\/tree\\/[0-9a-f]+\\/(?<path>.+))");function k(e){let t=new Map;for(let n of e){let e=L.exec(n.details.sourceURL);if(e&&e.groups){let{url:r,repoName:o,repoURL:a,path:i}=e.groups,s=t.get(o);s||(s={name:o,url:a,license:"NOASSERTION"===n.details.license?null:n.details.license,sources:new Map},t.set(o,s)),s.sources.has(r)||s.sources.set(r,{label:i,url:r,license:"NOASSERTION"===n.details.license?null:n.details.license,language:n.details.language})}else{let e=t.get("other");e||(e={name:"Other",sources:new Map},t.set("other",e)),e.sources.has(n.details.sourceURL)||e.sources.set(n.details.sourceURL,{label:n.details.sourceURL,url:n.details.sourceURL,license:"NOASSERTION"===n.details.license?null:n.details.license,language:n.details.language})}}return Array.from(t.values())}function O(e){let t=document.createElement("a");if(t.classList.add("public-code-references-repo"),t.setAttribute("href",e.url??"#"),t.textContent=e.name,void 0!==e.license){let n=document.createElement("span");n.classList.add("public-code-references-license"),n.textContent=`license ${e.license??"unknown"}`,t.appendChild(n)}return t}let P=e=>"code"===e.type,D=e=>"code"===e.type,M=e=>1===e?`${e} vulnerability`:`${e} vulnerabilities`,B={ALLOWED_TAGS:["a","blockquote","br","p","ul","ol","li","pre","code","table","tr","th","td","h1","h2","h3","h4","h5","h6","hr","span","strong","em","p","div","details","summary"],FORBID_TAGS:["style"],ADD_URI_SAFE_ATTR:["colspan"],ALLOWED_ATTR:["href","target","rel","class","colspan"],ALLOW_DATA_ATTR:!1,ALLOWED_URI_REGEXP:/^https?:/i};function _(e,{references:t,annotations:n,openLinksInCurrentTab:a,agents:s,fetchAgents:p,improvedCodeBlocks:g=!1,extensions:x=[]}={}){if(!e)return"";let b=new r.Dz({gfm:!0,breaks:!0}),y=[function({agents:e,fetchAgents:t}){return{marked:[{hooks:{preprocess:n=>(function(e,t,n){let r=e.match(/^@\S+/g);if(!r||0===r.length)return e;if(!t)return n?.(),e;let o=r[0],a=o.substring(1),s=t.find(e=>e.slug===a);if(s){let t=i().sanitize(o);e=e.replace(o,`<a href="${s.integrationUrl}" data-hovercard-url="/integrations/${a}/hovercard" class="bgColor-accent-muted">${t}</a>`)}return e})(n,e,t),postprocess:e=>e}}],sanitizer:{allowedClassNames:["bgColor-accent-muted"]}}}({agents:s,fetchAgents:p}),function({improvedCodeBlocks:e}){let t=crypto.randomUUID(),n=!1;return{marked:[(0,c.x)({langPrefix:"hljs language-",highlight:e=>l().highlightAuto(e).value}),{extensions:[{name:"code",renderer(r){if("code"!==r.type||n)return!1;n=!0;let o=this.parser.parse([r]);n=!1;let a=document.createElement(e?"div":"span");a.innerHTML=o;let i=r.raw.replace(/^[`~]{3,}.*?\n/,"").replace(/\n[`~]{3,}\n?$/,""),s=i.includes("\n");if(e){if(s){let e=document.createElement("div");e.classList.add(d.A["snippet-header"],"snippet-header"),e.textContent=r.lang??null,a.prepend(e),e.setAttribute("data-clipboard-copy-content",`${t}:${i}`)}else a.classList.add(d.A["snippet-single-line"]),a.setAttribute("data-clipboard-copy-content",`${t}:${i}`)}else a.setAttribute("data-snippet-clipboard-copy-content",`${t}:${i}`),a.classList.add("snippet-clipboard-content");return a.outerHTML}}]}],sanitizer:{attributeHook:(e,n)=>{if(["data-snippet-clipboard-copy-content","data-clipboard-copy-content"].includes(n.attrName)){if(!n.attrValue.startsWith(`${t}:`)){n.keepAttr=!1;return}n.attrValue=n.attrValue.slice(t.length+1),e.setAttribute(n.attrName,n.attrValue),n.forceKeepAttr=!0}},allowedClassNames:["file","snippet-clipboard-content","hljs",/^(hljs|language-|\b(blob|diff|file)-)/]}}}({improvedCodeBlocks:g}),{marked:[T({displayDelimiters:[...w,{open:/\\\[\s/,close:/\s\\\]/}],inlineDelimiters:[...I,{open:/\\\( /,close:/ \\\)/}]})],sanitizer:{allowedTagNames:["math-renderer"],attributeHook:E}},function({openLinksInCurrentTab:e,references:t}){let n=e=>{if(e instanceof HTMLAnchorElement){let n=e.getAttribute("href");if(n){let r=function(e){if(e.match(/^https?:\/\//)){let t;try{t=new URL(e,window.location.href)}catch{return e}if(t.origin===window.location.origin)return t.pathname+t.search+t.hash}return e}(n);if(r.startsWith("/")){let t=(r=r.slice(1)).split("/");t.length>3&&"blob"===t[2]&&(t[t.length-1]?.match(/#L\d+(-L\d+)?$/)?e.classList.add(d.A.snippet,d.A["icon-link"]):e.classList.add(d.A.file,d.A["icon-link"])),4===t.length&&"commit"===t[2]&&t[3]?.match(/^[0-9a-f]{40}$/i)&&e.classList.add(d.A.commit,d.A["icon-link"])}let o=t?.filter(e=>"web-search"===e.type);o?.some(e=>e.results.some(e=>e.url===n))&&e.classList.add(d.A.bing,d.A["color-icon-link"])}}};return{sanitizer:{attributeHook:h,afterAttributesHook:(...t)=>{e||f(...t),n(...t)}}}}({openLinksInCurrentTab:a,references:t})];o.W.immersiveFilePreview&&y.push({marked:[u],sanitizer:{allowedClassNames:["js-file-view"],attributeHook:m}}),n?.CodeVulnerability&&y.push(function({vulnerabilities:e}){let t=[],n=!1;return{marked:[{hooks:{preprocess:n=>(t=e.map(e=>{let{startOffset:t,endOffset:r}=e;return n.substring(t,r+1)}),n),postprocess:e=>e},extensions:[{name:"code",renderer(r){if(!D(r)||n)return!1;n=!0;let o=t.some(e=>r.raw.includes(e)),a=this.parser.parse([r]);if(n=!1,!o)return a;{let t=document.createElement("div"),n=document.createElement("div");n.classList.add("snippet-vulnerability-code"),n.innerHTML=a;let r=document.createElement("details");r.classList.add("snippet-vulnerabilities-details");let o=document.createElement("summary"),i=document.createElement("div");i.classList.add("snippet-vulnerability-chevron");let s=document.createElement("div");for(let t of(s.classList.add("snippet-vulnerability-shield-icon"),o.textContent=`${M(e.length)} detected`,o.prepend(s),o.appendChild(i),o.classList.add("snippet-vulnerability-summary"),r.appendChild(o),e)){let e=document.createElement("div");e.classList.add("snippet-vulnerability-details");let n=document.createElement("p");n.classList.add("snippet-vulnerability-details-title");let o=document.createElement("p");o.classList.add("snippet-vulnerability-details-description"),n.textContent=t.details.uiType,o.textContent=t.details.uiDescription,e.append(n,o),r.appendChild(e)}return t.append(n,r),t.outerHTML}}}]}],sanitizer:{allowedClassNames:[/^snippet-vulnerabilit(y|ies)-/]}}}({vulnerabilities:n.CodeVulnerability})),n?.PublicCodeReference&&y.push(function({references:e}){let t=[],n=!1;return{marked:[{hooks:{preprocess:n=>(t=e.map(e=>{let{startOffset:t,endOffset:r}=e;return n.substring(t,r+1)}),n),postprocess:e=>e},extensions:[{name:"code",renderer(r){if(!P(r)||n)return!1;n=!0;let o=t.some(e=>r.raw.includes(e)),a=this.parser.parse([r]);if(n=!1,!o)return a;{let t;let n=document.createElement("div"),r=document.createElement("div");r.classList.add("public-code-references-details"),r.innerHTML=a;let o=document.createElement("details");o.classList.add("public-code-references-list");let i=document.createElement("summary"),s=document.createElement("div");s.classList.add("public-code-references-chevron");let l=document.createElement("div");l.classList.add("public-code-references-icon");let c=k(e);for(let n of(i.textContent=`Public code references from ${1===(t=c.length)?`${t} repository`:`${t} repositories`}`,i.prepend(l),i.appendChild(s),i.classList.add("public-code-references-summary"),o.appendChild(i),k(e).map(O)))o.appendChild(n);return n.append(r,o),n.outerHTML}}}]}],sanitizer:{allowedClassNames:[/^public-code-references?-/]}}}({references:n.PublicCodeReference})),y.push(...x);let A=[];for(let e of y){for(let t of e.marked??[])b.use(t);e.sanitizer&&A.push(e.sanitizer)}return function(e,t){let n=i()(),r=[],o=Object.values(d.A);for(let e of t)e.attributeHook&&n.addHook("uponSanitizeAttribute",e.attributeHook),e.afterAttributesHook&&n.addHook("afterSanitizeAttributes",e.afterAttributesHook),r.push(...e.allowedTagNames??[]),o.push(...e.allowedClassNames??[]);return n.setConfig({...B,ALLOWED_TAGS:[...B.ALLOWED_TAGS,...r]}),n.addHook("uponSanitizeAttribute",(e,t)=>{"class"===t.attrName&&(t.attrValue=t.attrValue.split(" ").filter(e=>o.some(t=>"string"==typeof t?t===e:t.test(e))).join(" "),""===t.attrValue&&(t.keepAttr=!1))}),n.sanitize(e)}(b.parse(e),A)}},77729:(e,t,n)=>{n.d(t,{k:()=>r});function r(e,t){if(!t)return e.map((e,t)=>({...e,n:t+1}));let n=[];for(let[r,o]of t.entries()){let t=e[r-1];n.push({...t,n:o})}return n.sort((e,t)=>e.n-t.n),n}},85490:(e,t,n)=>{function r(e,t,n){let r=e.scrollTop,o=t-r,a=performance.now(),i=t=>{let s=Math.min((t-a)/n,1);e.scrollTop=r+o*(s<.5?2*s*s:-1+(4-2*s)*s),s<1&&requestAnimationFrame(i)};requestAnimationFrame(i)}function o(e){return!!e.scrollTo&&"auto"===window.getComputedStyle(e).overflowY}function a(e,t){setTimeout(()=>{r(e||document.body,(e||document.body).scrollHeight,1e3)},t)}n.d(t,{BD:()=>r,ZK:()=>a,ov:()=>o})},99910:(e,t,n)=>{n.d(t,{_:()=>p,o:()=>m});var r=n(92836),o=n(51012),a=n(96540),i=n(76206),s=n(88365),l=n(48962),c=n(13369),d=n(61053),u=n(91078);function m(e){let t=(0,d.Pk)(),n=(0,u.b)(),m=(0,c.c)(),{selectedThreadID:p}=t,h=s.J.getSavedMessage(p),[f,g]=(0,a.useState)(h??""),[x,b]=(0,a.useState)(!1),y=(0,r.X)(["mac"]),A=(0,a.useRef)(null),C=e.textAreaRef||A,j=(0,a.useRef)(null),v=(0,a.useRef)(null),S=t.messages.filter(e=>"user"===e.role),N=(0,a.useRef)(0),w=(0,a.useCallback)(async()=>{t.renderAttachKnowledgeBaseHerePopover&&await n.fetchKnowledgeBases()},[n,t.renderAttachKnowledgeBaseHerePopover]);(0,a.useEffect)(()=>{w()},[w]);let I=e=>y?e.metaKey:e.ctrlKey;(0,a.useEffect)(()=>{(async function(){let e=t.currentTopic;e&&(0,i.Z6)(e)&&void 0!==t.currentTopic&&await m.fetchAutocompleteSuggestions(e,"")})()},[m,t.currentTopic]),(0,a.useEffect)(()=>{s.J.setSavedMessage(p,f)},[p,f]),(0,o.N)(()=>{let e=0;!function t(){if(!C.current||!v.current||!j.current)return;e++,0===C.current.scrollHeight&&e<10&&setTimeout(t,1),C.current.style.height="0";let n=C.current.scrollHeight,r=Math.min(n,300);j.current.style.height=`${n}px`,C.current.style.height=`${n}px`,v.current.style.height=`${r}px`}()},[f,C,j]);let R=async e=>{b(!0),"Enter"!==e.key||e.shiftKey||e.ctrlKey||e.altKey||e.nativeEvent.isComposing?I(e)&&e.shiftKey&&"s"===e.key?(e.preventDefault(),await n.sendMessageToNewThread(p,f,t.currentReferences,t.context)):"ArrowUp"===e.key&&C.current&&(""===C.current.value||N.current>0)&&0===C.current.selectionStart&&S?.length>N.current?(e.preventDefault(),N.current++,g(S[S.length-N.current].content||"")):"ArrowDown"===e.key&&N.current>0&&C.current&&C.current.selectionStart===C.current.value.length&&(e.preventDefault(),N.current--,0===N.current?g(""):g(S[S.length-N.current].content||"")):(e.preventDefault(),await E()),T()},T=(0,a.useCallback)(()=>{C?.current&&j?.current&&v?.current&&(j.current.scrollTop=C.current.scrollTop,j.current.scrollLeft=C.current.scrollLeft)},[C]),E=async r=>{if(b(!1),t.defaultRecipient&&!f.includes(`@${t.defaultRecipient}`)&&(t.defaultRecipient=void 0),r?.preventDefault(),await (0,l.yO)(f,t,n)){"/new"===f.trim()&&s.J.setSavedMessageFast(p,null),g("");return}if(e.isLoading)e.onAbort?.();else{if(!f)return;g(""),await e.onSubmit?.(f)}},L=(0,a.useCallback)(e=>{b(!0),C?.current&&(g(e.target.value),N.current=0,T())},[T,C]);return{typingHasStarted:x,textAreaRef:C,textareaPreviewRef:j,textAreaPreviewContainerRef:v,text:f,setText:g,handleSubmit:E,handleKeyDown:R,handleScroll:T,handleChange:L,handleStop:(0,a.useCallback)(()=>n.stopStreaming(),[n]),shouldShowKnowledge:t.renderKnowledgeBases&&(t.currentTopic&&(0,i.Z6)(t.currentTopic)||!t.currentTopic)}}function p({text:e,textareaPreviewRef:t}){let n=(0,u.b)(),[r,o]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),{agents:c,agentsPath:m,messages:p}=(0,d.Pk)();return(0,a.useEffect)(()=>{if(!t.current)return;let r=e.match(/^@\S+/g);if(r&&r.length>0){let t;if(!c){m&&n.fetchAgents(m);return}if(0===c.length)return;let a=(0,i.Q7)(p);if(a.length>0){let e=a[0];t=c.filter(t=>t.slug===e.name)}else t=c;let s=r[0],d=s.substring(1);if(t.find(e=>e.slug===d)){o(s),l(e.replace(s,""));return}}o(""),l("")},[c,m,n,p,e,t]),{mention:r,textAfterMention:s}}},51550:(e,t,n)=>{n.d(t,{A:()=>r});let r=(e,t)=>{let n=new URL(e,window.location.origin),r=new URL(t,window.location.origin);return r.href.includes("#")&&n.host===r.host&&n.pathname===r.pathname&&n.search===r.search}},67726:(e,t,n)=>{n.d(t,{l:()=>r});let r=()=>void 0},24620:(e,t,n)=>{n.d(t,{Y:()=>r});function r(){let e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}},23581:(e,t,n)=>{n.d(t,{A:()=>s});let{getItem:r,setItem:o,removeItem:a}=(0,n(74572).A)("localStorage"),i="REACT_PROFILING_ENABLED",s={enable:()=>o(i,"true"),disable:()=>a(i),isEnabled:()=>!!r(i)}},43151:(e,t,n)=>{n.d(t,{D7:()=>o,MQ:()=>r,gE:()=>a});let r=e=>{if(e){if(e.startsWith("refs/tags/"))return"tag";if(e.startsWith("refs/heads/"))return"branch"}},o=(e,t)=>"branch"===t?`refs/heads/${e}`:"tag"===t?`refs/tags/${e}`:e,a=e=>{if(!e)return;if(!r(e))return e;let[,,...t]=e.split("/");return t.join("/")}},67327:(e,t,n)=>{n.d(t,{Kq:()=>SoftNavErrorEvent,RQ:()=>SoftNavEndEvent,ni:()=>SoftNavSuccessEvent,sW:()=>SoftNavStartEvent});var r=n(27260);let o=class SoftNavEvent extends Event{constructor(e,t){super(t),this.mechanism=e}};let SoftNavStartEvent=class SoftNavStartEvent extends o{constructor(e){super(e,r.z.START)}};let SoftNavSuccessEvent=class SoftNavSuccessEvent extends o{constructor(e,t){super(e,r.z.SUCCESS),this.visitCount=t}};let SoftNavErrorEvent=class SoftNavErrorEvent extends o{constructor(e,t){super(e,r.z.ERROR),this.error=t}};let SoftNavEndEvent=class SoftNavEndEvent extends o{constructor(e){super(e,r.z.END)}}},56725:(e,t,n)=>{n.d(t,{Bu:()=>h,SC:()=>c,Ti:()=>m,iS:()=>d,k5:()=>l,o4:()=>u,rZ:()=>p});var r=n(27260),o=n(67327),a=n(47175),i=n(54861);let s=0;function l(){s=0,document.dispatchEvent(new Event(r.z.INITIAL)),(0,i.xT)()}function c(e){(0,i.LM)()||(document.dispatchEvent(new Event(r.z.PROGRESS_BAR.START)),document.dispatchEvent(new o.sW(e)),(0,i.Vy)(e),(0,i.ZW)(),(0,i.HK)(),(0,a.E5)())}function d(e={}){g(e)&&(s+=1,document.dispatchEvent(new o.ni((0,i.di)(),s)),m(e))}function u(e={}){if(!g(e))return;s=0;let t=(0,i.my)()||i.BW;document.dispatchEvent(new o.Kq((0,i.di)(),t)),f(),(0,a.Cd)(t),(0,i.xT)()}function m(e={}){if(!g(e))return;let t=(0,i.di)();f(),document.dispatchEvent(new o.RQ(t)),(0,i.Ff)(),(0,i.JA)(t)}function p(e={}){g(e)&&((0,a.Im)(),document.dispatchEvent(new Event(r.z.RENDER)))}function h(){document.dispatchEvent(new Event(r.z.FRAME_UPDATE))}function f(){document.dispatchEvent(new Event(r.z.PROGRESS_BAR.END))}function g({skipIfGoingToReactApp:e,allowedMechanisms:t=[]}={}){return(0,i.LM)()&&(0===t.length||t.includes((0,i.di)()))&&(!e||!(0,i.gc)())}},27260:(e,t,n)=>{n.d(t,{z:()=>r});let r=Object.freeze({INITIAL:"soft-nav:initial",START:"soft-nav:start",SUCCESS:"soft-nav:success",ERROR:"soft-nav:error",FRAME_UPDATE:"soft-nav:frame-update",END:"soft-nav:end",RENDER:"soft-nav:render",PROGRESS_BAR:{START:"soft-nav:progress-bar:start",END:"soft-nav:progress-bar:end"}})},47175:(e,t,n)=>{n.d(t,{Cd:()=>l,E5:()=>s,Im:()=>c,nW:()=>i});var r=n(51528),o=n(54861);let a="stats:soft-nav-duration",i={turbo:"TURBO",react:"REACT","turbo.frame":"FRAME",ui:"UI",hard:"HARD"};function s(){performance.clearResourceTimings(),performance.mark(a)}function l(e){(0,r.i)({turboFailureReason:e,turboStartUrl:(0,o.dR)(),turboEndUrl:window.location.href})}function c(){let e=function(){if(0===performance.getEntriesByName(a).length)return null;performance.measure(a,a);let e=performance.getEntriesByName(a).pop();return e?e.duration:null}();if(!e)return;let t=i[(0,o.di)()],n=Math.round(e);t===i.react&&document.dispatchEvent(new CustomEvent("staffbar-update",{detail:{duration:n}})),(0,r.i)({requestUrl:window.location.href,softNavigationTiming:{mechanism:t,destination:(0,o.fX)()||"rails",duration:n,initiator:(0,o.Pv)()||"rails"}})}},92240:(e,t,n)=>{n.d(t,{G:()=>r});let r=e=>({"data-testid":e})},71312:(e,t,n)=>{n.d(t,{S:()=>s,s:()=>i});var r=n(96540),o=n(51848),a=n(31481);function i(){let e=(0,r.useContext)(a.I);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:t,category:n,metadata:i}=e;return{sendAnalyticsEvent:(0,r.useCallback)((e,r,a={})=>{let s={react:!0,app_name:t,category:n,...i};(0,o.BI)(e,{...s,...a,target:r})},[t,n,i])}}function s(){let{sendAnalyticsEvent:e}=i();return{sendClickAnalyticsEvent:(0,r.useCallback)((t={})=>{e("analytics.click",void 0,t)},[e])}}},95140:(e,t,n)=>{n.d(t,{I:()=>i});var r=n(96540),o=n(59840),a=n(47831);function i(e,t,n=[]){let i=(0,r.useCallback)(e,n),s=(0,a.BP)(),l=(0,r.useRef)(s===a.O8.ClientRender),[c,d]=(0,r.useState)(()=>s===a.O8.ClientRender?i():t),u=(0,r.useCallback)(()=>{d(i)},[i]);return(0,o.m)(()=>{l.current||d(i),l.current=!1},[i,...n]),[c,u]}},4954:(e,t,n)=>{n.d(t,{u:()=>i});var r=n(83056),o=n(28784),a=n(96540);function i(e,t,n,i){let[s,l]=(0,a.useState)({loading:!0}),c=t&&e&&n&&i?(0,r.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"file-contributors",path:i}):null;return(0,a.useEffect)(()=>{if(!c)return;let e=!1;return(async()=>{l({loading:!0});let t=await (0,o.lS)(c);if(!e)try{t.ok?l({contributors:await t.json()}):l({error:!0})}catch{l({error:!0})}})(),function(){e=!0}},[c]),s}},59840:(e,t,n)=>{n.d(t,{m:()=>a});var r=n(96540),o=n(97156);function a(e,t){o.KJ&&(0,r.useLayoutEffect)(e,t)}},73272:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(59840),o=n(96540);function a(){let e=(0,o.useRef)(!1),t=(0,o.useCallback)(()=>e.current,[]);return(0,r.m)(()=>(e.current=!0,()=>{e.current=!1}),[]),t}},92836:(e,t,n)=>{n.d(t,{X:()=>o});var r=n(95140);function o(e){let t=e.join(","),[n]=(0,r.I)(()=>{let e=/Windows/.test(navigator.userAgent)?"windows":/Macintosh/.test(navigator.userAgent)?"mac":null;return!!e&&t.includes(e)},!1,[t]);return n}},88299:(e,t,n)=>{n.d(t,{E:()=>m,q:()=>u});var r=n(5225),o=n(83056),a=n(27260),i=n(28784),s=n(96540);async function l(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let c=new Map,d=(0,r.A)(l,{cache:c});function u(){c.clear()}function m(e,t,n,r){let[i,l]=(0,s.useState)(),[c,m]=(0,s.useState)(!1),[p,h]=(0,s.useState)(!0),f=t&&e&&n&&r?(0,o.IO9)({repo:{name:t,ownerLogin:e},commitish:n,action:"latest-commit",path:r}):null;return(0,s.useEffect)(()=>(document.addEventListener(a.z.START,u),()=>{document.removeEventListener(a.z.START,u)}),[]),(0,s.useEffect)(()=>{let e=!1;return(async()=>{if(!f)return;m(!1),h(!0),l(void 0);let t=await d(f);if(!e){try{t?l(t):m(!0)}catch{m(!0)}h(!1)}})(),function(){e=!0}},[f,n]),[i,p,c]}},51012:(e,t,n)=>{n.d(t,{N:()=>a});var r=n(97156),o=n(96540);let a=void 0!==r.cg?.document?.createElement?o.useLayoutEffect:o.useEffect},27788:(e,t,n)=>{n.d(t,{Z:()=>u,o:()=>m});var r=n(96540),o=n(47767),a=n(45588),i=n(84976),s=n(51550),l=n(92812),c=n(56725),d=n(99523);let u=()=>{let{routes:e}=r.useContext(l.B),t=(0,o.Zp)();return r.useCallback((o,i={})=>{let l=(0,a.o1)(o).pathname;if((0,a.ue)(e,l)){(0,s.A)(location.href,o.toString())||(0,c.SC)("react");let{preventAutofocus:e,...n}=i;(0,r.startTransition)(()=>{t(o,e?{...n,state:{[d.V]:!0,...n.state}}:n);let{turbo:r,...a}=window.history.state??{};window.history.replaceState({...a,skipTurbo:!0},"",location.href)})}else{let e="string"==typeof o?o:(0,a.AO)(o);(async()=>{let{softNavigate:t}=await Promise.all([n.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),n.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(n.bind(n,63120));t(e)})()}},[t,e])},m=()=>{let[e]=(0,i.ok)(),t=u(),{pathname:n}=(0,o.zy)(),a=r.useCallback((r,o={})=>{t({pathname:n,search:(0,i.PI)("function"==typeof r?r(e):r).toString()},o)},[e,t,n]);return[e,a]}},83784:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(73272),o=n(96540);let a=function(e){let t=(0,r.A)(),[n,a]=(0,o.useState)(e);return[n,(0,o.useCallback)(e=>{t()&&a(e)},[t])]}},37190:(e,t,n)=>{n.d(t,{y:()=>i});var r=n(74848),o=n(96540),a=n(31481);function i({children:e,appName:t,category:n,metadata:i}){let s=(0,o.useMemo)(()=>({appName:t,category:n,metadata:i}),[t,n,i]);return(0,r.jsx)(a.I.Provider,{value:s,children:e})}try{i.displayName||(i.displayName="AnalyticsProvider")}catch{}},39794:(e,t,n)=>{n.d(t,{P:()=>m,c:()=>p});var r=n(74848),o=n(38621),a=n(75177),i=n(55847),s=n(34614),l=n(86079),c=n(45357),d=n(91078),u=n(32645);function m({onClose:e}){return(0,r.jsx)(l.l,{width:"large",title:"Extensions",position:{narrow:"fullscreen",regular:"center"},onClose:e,renderBody:()=>(0,r.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",textAlign:"center",alignItems:"center",justifyContent:"center",px:4,py:8,flex:1,height:"100%"},children:(0,r.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,color:"fg.muted"},children:[(0,r.jsx)(o.TelescopeIcon,{size:24}),(0,r.jsx)(a.A,{as:"h3",sx:{fontSize:2,fontWeight:"bold",mt:2,color:"fg.default"},children:"Chat with your favorite tools and services"}),(0,r.jsx)(a.A,{as:"p",sx:{fontSize:1,fontWeight:"normal"},children:"Browse the marketplace to find extensions for the tools and services you rely on"}),(0,r.jsx)(i.Q,{as:"a",href:c.bn,children:"Browse marketplace"}),(0,r.jsx)(a.A,{sx:{mt:2},children:(0,r.jsx)(s.A,{href:"https://gh.io/copilot-extensions-docs",children:"Documentation"})})]})})})}function p({onClose:e}){let t=(0,d.b)();return(0,r.jsx)(l.l,{width:"large",title:"Extensions",position:{narrow:"fullscreen",regular:"center"},onClose:e,renderBody:()=>(0,r.jsx)(a.A,{sx:{display:"flex",flexDirection:"column",textAlign:"center",px:4,py:10,height:"100%",alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:2,color:"fg.muted"},children:[(0,r.jsx)(a.A,{sx:{display:"flex",color:"attention.fg"},children:(0,r.jsx)(o.AlertIcon,{size:24})}),(0,r.jsx)(a.A,{as:"h3",sx:{fontSize:2,fontWeight:"bold",mt:2,color:"fg.default"},children:"Extensions aren't supported by this model"}),(0,r.jsxs)(a.A,{as:"p",sx:{fontSize:1,fontWeight:"normal"},children:["Switch back to the ",u.U.displayName," model or start a new conversation"]}),(0,r.jsx)(i.Q,{onClick:()=>{t.selectThread(null),t.selectModel(u.U)},children:"New conversation"})]})})})}try{m.displayName||(m.displayName="NoAgentsAvailableDialog")}catch{}try{p.displayName||(p.displayName="AgentsNotSupportedDialog")}catch{}},19002:(e,t,n)=>{n.d(t,{A:()=>c});var r=n(74848),o=n(38621),a=n(55847),i=n(76206),s=n(61053),l=n(91078);function c(){let{mode:e}=(0,s.Pk)(),t=(0,l.b)();return(0,r.jsx)(a.Q,{leadingVisual:o.ArrowLeftIcon,variant:"invisible",onClick:()=>(0,i.s0)(t.showTopicPicker,e),sx:{color:"fg.muted",marginLeft:"assistive"===e?"-8px":void 0},children:"All repositories"})}try{c.displayName||(c.displayName="AllTopicsButton")}catch{}},69167:(e,t,n)=>{n.d(t,{j:()=>m});var r=n(74848),o=n(22868),a=n(71375),i=n(16823),s=n(30729),l=n(96540),c=n(45357),d=n(48962),u=n(91078);function m({children:e,textAreaRef:t}){let n=(0,u.b)(),[m,p]=(0,l.useState)(()=>"undefined"!=typeof document);(0,l.useEffect)(()=>p(!0),[]);let[h,f]=(0,l.useState)(null),g=(0,c.JE)(h?.trigger.triggerChar===c.Z3),x=(0,l.useMemo)(()=>{if(!h)return null;let e=t.current?.value??"",a=t.current?.selectionStart??0;if((e[0]??"")!==h?.trigger.triggerChar||a>1&&e[a-2]?.match(/\s/))return null;let l=h.query.toLowerCase(),u=e=>{let t=e.toLowerCase();return t.startsWith(l)&&t!==l};switch(h.trigger.triggerChar){case d.Pv:return(0,d.Qe)({manager:n}).filter(e=>u(e.command)).map(e=>({value:e.command,key:e.command,render:t=>(0,r.jsxs)(i.l.Item,{...t,children:[(0,r.jsx)(i.l.LeadingVisual,{children:(0,r.jsx)(s.A,{icon:e.icon})}),(0,r.jsx)("span",{className:"text-normal",children:e.label}),(0,r.jsxs)(i.l.Description,{variant:"inline",children:[d.Pv,e.command]})]},e.label)}));case c.Z3:if(g.disabled)break;if(g.loading)return"loading";return(g.availableAgents?.filter(e=>u(e.slug)).slice(0,10)??[]).map(e=>({value:e.slug,key:e.slug,render:t=>(0,r.jsxs)(i.l.Item,{...t,children:[(0,r.jsx)(i.l.LeadingVisual,{children:(0,r.jsx)(o.r,{src:e.avatarUrl})}),e.name,(0,r.jsxs)(i.l.Description,{variant:"inline",children:[c.Z3,e.slug]}),g.showLimit&&(0,r.jsx)(i.l.Description,{variant:"block",children:"You're limited to one agent per thread."})]},e.slug)}))}return null},[g.availableAgents,g.disabled,g.loading,g.showLimit,n,h,t]);return m?(0,r.jsx)(a.a,{fullWidth:!0,suggestions:x,triggers:[{triggerChar:d.Pv},{triggerChar:c.Z3}],tabInsertsSuggestions:!1,onHideSuggestions:()=>f(null),onShowSuggestions:e=>f(e),children:e}):(0,r.jsx)("div",{children:e})}try{m.displayName||(m.displayName="Autocomplete")}catch{}},49305:(e,t,n)=>{n.d(t,{r:()=>eZ});var r,o=n(74848),a=n(51848),i=n(38621),s=n(75177),l=n(30595),c=n(55847),d=n(84217),u=n(52464),m=n(30729),p=n(96540),h=n(78556),f=n(71498),g=n(25962),x=n(76206),b=n(57938),y=n(61053),A=n(91078),C=n(85490),j=n(92240),v=n(76049),S=n(61043),N=n(87330),w=n(99910),I=n(45357),R=n(39794);function T(e){let{disabled:t,loading:n,imperativelyFetch:r}=(0,I.JE)(!1),a=(0,I.kw)(e),[s,l]=(0,p.useState)(null),c=async()=>{if(t)return l("disabled");let e=await r();if(!e||0===e.agents.length)return l("noAgentsAvailable");a()};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(N.K,{icon:i.MentionIcon,onClick:c,onMouseDown:e=>e.preventDefault(),size:"small","aria-label":"Add an extension",variant:"invisible",className:"fgColor-muted",loading:n}),"disabled"===s&&(0,o.jsx)(R.c,{onClose:()=>l(null)}),"noAgentsAvailable"===s&&(0,o.jsx)(R.P,{onClose:()=>l(null)})]})}try{T.displayName||(T.displayName="AgentButton")}catch{}var E=n(69167);let L={"fade-in-duration":"InputTip-module__fade-in-duration--Go6O6"},k=()=>{let e=(0,p.useMemo)(()=>{let e=["Shift + Enter for new line","Type / for commands","Type @ for extensions","\u2191/\u2193 to cycle previous inputs"];return e[Math.floor(Math.random()*e.length)]},[]);return(0,o.jsx)("p",{className:`hide-sm mb-0 f6 fgColor-muted pointer-none anim-fade-in ${L["fade-in-duration"]}`,children:e})};try{k.displayName||(k.displayName="InputTip")}catch{}var O=n(10443),P=n(28118);let D=e=>{let t=(0,y.Pk)(),n=(0,A.b)(),r=t.knowledgeBases.length>0,{typingHasStarted:a,textAreaRef:i,textareaPreviewRef:l,textAreaPreviewContainerRef:u,text:m,setText:p,handleSubmit:h,handleKeyDown:f,handleScroll:C,handleChange:N,handleStop:I,shouldShowKnowledge:R}=(0,w.o)({isLoading:e.isLoading,onSubmit:e.onSubmit,onAbort:e.onAbort,textAreaRef:e.textAreaRef}),L=t.currentTopic&&(0,x.Z6)(t.currentTopic),D=m.length<3,$=e.isLoading?`Copilot is responding\u{2026}`:t.defaultRecipient?void 0:"Ask Copilot";return t.defaultRecipient&&""===m&&!a&&p(`@${t.defaultRecipient} `),(0,o.jsxs)("div",{children:[(0,o.jsx)(v.A,{open:R&&r&&t.renderAttachKnowledgeBaseHerePopover,sx:{bottom:"57px"},caret:"bottom-left",children:(0,o.jsxs)(v.A.Content,{sx:{mt:2,width:"300px"},className:"color-shadow-medium",children:[(0,o.jsx)(d.A,{as:"h4",sx:{fontSize:2,mb:2},children:"An organization has shared a knowledge base with you"}),(0,o.jsx)("p",{children:"Select a knowledge base to chat with Copilot and get answers from Markdown documentation stored in GitHub."}),(0,o.jsx)(c.Q,{onClick:()=>{n.dismissAttachKnowledgeBaseHerePopover()},children:"Got it"})]})}),(0,o.jsxs)(s.A,{className:"copilot-chat-input",...(0,j.G)("copilot-chat-input"),sx:{position:"relative",width:"100%",overflow:"hidden",display:"flex",backgroundColor:"canvas.default",border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"var(--borderRadius-medium)","> div":{flex:1},":focus-within .copilot-keyboard-shortcuts":{opacity:1,visibility:"visible"},":has(textarea:focus)":{outline:"2px solid var(--focus-outlineColor, var(--color-accent-emphasis))",borderColor:"transparent"}},children:[(0,o.jsxs)("div",{className:"d-flex position-absolute",style:{left:8,bottom:8},children:[R&&(b.W.magicKBs?(0,o.jsx)(O.I8,{}):(0,o.jsx)(O.pV,{panelWidth:e.panelWidth,inputRef:i})),L&&!b.W.magicKBs&&(0,o.jsx)(P.J,{panelWidth:e.panelWidth,inputRef:i}),(0,o.jsx)(T,{inputRef:i,inputOnChange:N})]}),(0,o.jsxs)(s.A,{as:"form",onSubmit:h,className:"width-full d-flex flex-column gap-2",sx:{".copilot-chat-textarea::placeholder":{userSelect:"none"}},children:[(0,o.jsxs)(s.A,{ref:u,sx:{maxHeight:"30dvh",overflowY:"auto",flexGrow:1,position:"relative","> div":{display:"block"}},children:[(0,o.jsx)(E.j,{textAreaRef:i,children:(0,o.jsx)(S.Ay,{id:g.wg,className:"copilot-chat-textarea",autoComplete:"off",autoCorrect:"off",spellCheck:"false",role:"textbox","aria-multiline":"true",block:!0,ref:i,resize:"none",onKeyDown:f,onScroll:C,onChange:N,placeholder:$,value:m,sx:{border:"none",borderRadius:0,borderTopLeftRadius:"var(--borderRadius-medium)",borderTopRightRadius:"var(--borderRadius-medium)",display:"contents","> textarea":{position:"absolute",top:0,left:0,padding:"8px 12px 2px",background:"transparent",color:"transparent",caretColor:"var(--fgColor-default, var(--color-fg-default))",overflowY:"hidden",verticalAlign:"middle",resize:"none",zIndex:1},":focus-within":{boxShadow:"none"}}})}),(0,o.jsx)(M,{text:m,textareaPreviewRef:l})]}),(0,o.jsxs)("div",{className:"d-flex flex-items-center flex-justify-end gap-2 px-2 pb-2",children:[D&&(0,o.jsx)(k,{}),e.isStreaming?(0,o.jsx)(_,{onSubmit:I}):(0,o.jsx)(B,{isLoading:e.isLoading,onSubmit:h})]})]})]})]})};function M(e){let{text:t,textareaPreviewRef:n}=e,{mention:r,textAfterMention:a}=(0,w._)(e);return(0,o.jsx)(s.A,{id:"copilot-chat-textarea-preview","aria-hidden":!0,className:"textarea-preview",ref:n,role:"presentation",sx:{bg:"canvas.default",borderRadius:"var(--borderRadius-medium) var(--borderRadius-medium) 0 0",height:"inherit",lineHeight:"20px",overflowY:"hidden",padding:"8px 12px 2px",position:"absolute",inset:0,whiteSpace:"pre-wrap",zIndex:0,"> .chat-token":{backgroundColor:"var(--bgColor-accent-muted, var(--color-accent-subtle))",borderRadius:"var(--borderRadius-small)",color:"var(--fgColor-accent, var(--color-accent-fg))"}},children:r?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"chat-token",children:r}),a]}):t})}function B({isLoading:e,onSubmit:t}){return(0,o.jsx)(N.K,{variant:"invisible",size:"small",onClick:t,icon:i.PaperAirplaneIcon,"aria-label":"Send now",disabled:e,tooltipDirection:"n"})}function _({onSubmit:e}){return(0,o.jsx)(N.K,{variant:"invisible",size:"small",unsafeDisableTooltip:!0,onClick:e,icon:i.SquareFillIcon,"aria-label":"Stop response",tooltipDirection:"w"})}try{D.displayName||(D.displayName="ChatInput")}catch{}try{M.displayName||(M.displayName="TextareaPreview")}catch{}try{B.displayName||(B.displayName="SubmitButton")}catch{}try{_.displayName||(_.displayName="StopButton")}catch{}var $=n(7572),F=n(30569),G=n(22868),U=n(66330),H=n(92979),W=n(82678),z=n(89169),V=n(16823),K=n(65481),q=n(20053),J=n(89970),Y=n(18659),X=n(79929),Q=n(695),Z=n(3167),ee=n(84252),et=n(23398),en=n(30631),er=n(88365);let eo=({panelWidth:e,suggestionKind:t})=>{let n=(0,y.Pk)(),r=(0,A.b)(),s=(0,p.useCallback)(e=>{r.sendChatMessage(r.getSelectedThread(n),e.question,n.currentReferences,n.currentTopic,n.context),(0,a.BI)("copilot_generated_suggestion_click",{skill:e.skill,contextType:n.context?.[0]?.type,content:"initial"===t?e.question:null})},[r,n,t]),l=(0,p.memo)(function({suggestion:t}){return(0,o.jsxs)(V.l.Item,{onSelect:()=>s(t),sx:{mx:0,border:"1px solid",borderColor:"border.default",width:"fit-content"},children:[(0,o.jsx)(V.l.LeadingVisual,{children:(0,o.jsx)(m.A,{icon:i.PaperAirplaneIcon})}),(0,o.jsx)(en.A,{maxWidth:e?e-80:er.J.DEFAULT_PANEL_WIDTH,title:t.question,children:(0,o.jsx)("span",{children:t.question})})]})}),c="loading"===n.messagesLoading.state||!!n.streamingMessage,{suggestions:d}=n,u=!!(!c&&!n.showTopicPicker&&0===n.currentReferences.length);return b.W.staticThreadSuggestions&&u&&d&&d.suggestions?(0,o.jsxs)(V.l,{className:"copilot-suggestions",sx:{pt:0,pb:"initial"===t?3:0,display:"flex",gap:2,flexDirection:"column"},children:[void 0!==t&&(0,o.jsx)(V.l.Heading,{as:"h2",sx:{fontSize:0,mx:0,color:"fg.muted",fontWeight:600},children:function(e){return e?`Ask about the ${e.replace(/-/g," ")}:`:"Ask anything:"}(d.referenceType)}),d?.suggestions.map(e=>o.jsx(l,{suggestion:e},e.question))]}):null},ea=(0,p.memo)(eo);try{eo.displayName||(eo.displayName="CopilotSuggestions")}catch{}try{(r=CopilotSuggestion).displayName||(r.displayName="CopilotSuggestion")}catch{}var ei=n(35978),es=n(21176),el=n(19774);let ec=({children:e})=>{let t=`
    @keyframes dot1 {
      0%, 75% { opacity: 1; }
      100% { opacity: 0; }
    }
    @keyframes dot2 {
      0% { opacity: 0; }
      15% { opacity: 0; }
      25%, 75% { opacity: 1; }
      100% { opacity: 0; }
    }
    @keyframes dot3 {
      0% { opacity: 0; }
      40% { opacity: 0; }
      50%, 75% { opacity: 1; }
      100% { opacity: 0; }
    }
  `;return(0,o.jsxs)(o.Fragment,{children:[e,(0,o.jsx)("style",{children:t}),[1,2,3].map(e=>(0,o.jsx)(u.A,{sx:{opacity:0,animation:"2s infinite",animationName:`dot${e}`},children:"."},`dot${e}`))]})};try{ec.displayName||(ec.displayName="WithAnimatedEllipsis")}catch{}let ed=({isLatestMessage:e,isStreaming:t,panelWidth:n,...r})=>{let a=(0,y.Pk)(),i=(0,A.b)(),{message:l}=(0,Q.V)(),c=(0,x.Th)(l,a.currentUserLogin),d="Copilot"===c.name,h="user"===c.type,f=d||(0,x.yh)(c),g=d&&l.agentErrors?.length,C=!g&&!!d&&!!l.error&&l.error.isError,j=new Date(Date.parse(l.createdAt||"")),v=r.isLoading||t,S=d&&!r.excludeFeedback&&!v,N=(0,p.useRef)([]),w=(0,p.useRef)(null),I=(0,p.useRef)(!1),R=(0,p.useRef)(null),T=l.interrupted,E=l.clientConfirmations&&l.clientConfirmations.length>0,L=b.W.copilotImmersiveV1&&"immersive"===a.mode,[k,O]=(0,p.useState)([]),[P,D]=(0,p.useState)(void 0),[M,B]=(0,p.useState)([]),_=!C&&(S||d&&!!l.content&&!t)&&!l.confirmations,en=(0,p.useCallback)(async()=>a.agentsPath?await i.fetchAgents(a.agentsPath):[],[i,a.agentsPath]),{html:er,hasCitations:eo,referenceMap:ed}=(0,p.useMemo)(()=>{let e="assistive"===a.mode;return d&&"ask-docs"===l.intent?(0,Y.o)(l.content,{references:l.references,openLinksInCurrentTab:e,agents:a.agents,fetchAgents:en}):{html:(0,J.K)(l.content,{references:l.references??void 0,annotations:l.copilotAnnotations,openLinksInCurrentTab:e,agents:a.agents,fetchAgents:en}),hasCitations:!1,referenceMap:null}},[d,l.intent,l.content,l.references,l.copilotAnnotations,a.mode,a.agents,en]),eu=!!(d&&r.isLoading||er||l.references?.length||l.confirmations?.length||l.skillExecutions?.length||C||g);(0,W.G)({containerRef:w,bindKeys:128,focusableElementFilter:e=>(I.current||N.current.includes(e)||e.classList.contains("reference-action")||N.current.push(e),!0),getNextFocusable:(e,t)=>{let n=N.current.indexOf(t);if("next"===e){if(n+2>N.current.length)return r.setParentFocusZoneEnabled?.(!0),t?.setAttribute("tabindex","-1"),N.current[0]?.setAttribute("tabindex","0"),r.inputRef?.current||void 0;if(r.setParentFocusZoneEnabled?.(!1),-1!==n)return N.current[n+1]}if("previous"===e&&(1===n&&r.setParentFocusZoneEnabled?.(!0),n>0))return N.current[n-1]}},[]),(0,p.useEffect)(()=>{e&&t&&(0,$.i)("Copilot is responding")},[e,t]),(0,p.useEffect)(()=>{e&&!t&&w.current&&(0,$.C)(w.current)},[e,t]),(0,p.useEffect)(()=>{if(!b.W.newReferencesUI)return;let e=(l.skillExecutions??[]).find(e=>!k.some(t=>t.slug===e.slug));e&&(O([...k,e]),D(e))},[l.skillExecutions,k]),(0,p.useEffect)(()=>{if(!b.W.newReferencesUI)return;let e=(l.skillExecutions??[]).filter(e=>"completed"===e.status&&e.references&&e.references.length>0&&!M.some(t=>e.slug===t.slug));e.length>0&&B([...M,...e])},[M,l.skillExecutions]);let ep=(0,p.useCallback)(()=>{N.current=N.current.filter(e=>!e.classList.contains("feedback-action")),I.current=!0},[]),eg=(0,p.useCallback)(async(e,t)=>{await i.sendChatMessage(i.getSelectedThread(a),`@${c.name} ${ef(e.state)} Confirmation: ${t}`,l.references??[],a.currentTopic,a.context,e)},[i,a,c.name,l.references]),ex=(0,p.useCallback)(e=>{let t=e.target.href,n=l.references?.find(e=>e.url===t);n&&"immersive"===a.mode&&(i.selectReference(n),e.preventDefault())},[i,l.references,a.mode]),eb=(0,p.useCallback)(e=>{let t=e.target;if(t.open&&R.current){let e=t.querySelectorAll(".reference-action"),n=N.current.indexOf(R.current);n>=0&&(N.current=[...N.current.slice(0,n+1),...e,...N.current.slice(n+1)])}else N.current=N.current.filter(e=>!e.classList.contains("reference-action"))},[]),ey="immersive"===a.mode?"var(--bgColor-default, var(--color-canvas-default))":"var(--overlay-bgColor, var(--color-canvas-overlay, #161b22))";return(0,o.jsxs)(s.A,{className:"message-container",tabIndex:0,ref:w,sx:{p:3,borderBottom:"assistive"!==a.mode||e?"none":"1px solid var(--borderColor-muted, var(--color-border-muted))",fontSize:1,borderRadius:L&&!f?2:0,marginTop:L?3:0,backgroundColor:L&&!f?"var(--bgColor-inset)":"",width:L&&!f?"66%":"100%",alignSelf:L&&!f?"end":"",position:L?"relative":"static","&:hover, &:focus-within":{".message-actions":{opacity:1,pointerEvents:"auto"}},"&:hover":{".message-actions":{transition:"opacity 0.1s ease-in-out",transitionDelay:"0.2s"}}},children:[!L||f?(0,o.jsxs)(s.A,{as:L?"div":"h2",sx:{width:"100%",display:"flex",alignItems:"center",gap:2,fontSize:1,marginBottom:b.W.newReferencesUI&&l.references&&!v?1:2},children:[d?(0,o.jsx)(et.A,{isLoading:v,isError:C&&l.error?.type!=="agentUnauthorized",mode:a.mode}):(!L||f)&&(0,o.jsx)(s.A,{sx:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,o.jsx)(G.r,{src:c.avatarURL,size:24})}),(0,o.jsx)(s.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexGrow:1},children:(0,o.jsxs)(s.A,{sx:{display:"flex",gap:2,alignItems:"baseline"},children:[L?null:(0,o.jsx)(u.A,{"data-testid":"chat-message-author-name",sx:{fontWeight:"bold"},children:c.name}),E&&(0,o.jsxs)(u.A,{sx:{fontWeight:"normal"},children:[l.clientConfirmations?.[0]?.state," the action"]}),!L&&(0,o.jsx)(u.A,{sx:{fontSize:0,fontWeight:400,color:"fg.subtle"},children:d&&v?b.W.newReferencesUI?(0,o.jsx)(ec,{children:(0,el.WA)(P)}):"Responding...":(0,o.jsx)(z.A,{date:j,format:"relative"})})]})})]}):null,b.W.newReferencesUI&&d&&v&&M.length>0&&(0,o.jsx)(V.l,{children:M.map((e,t)=>{let n=(0,el.gB)(e);if(n)return(0,o.jsxs)(V.l.Item,{sx:{fontSize:1},children:[(0,o.jsx)(V.l.LeadingVisual,{children:(0,o.jsx)(m.A,{icon:n.icon})}),n.loadingText]},t)})}),eu&&(0,o.jsxs)("div",{className:(0,q.$)(X.A.message),children:[(0,o.jsxs)(s.A,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".snippet-clipboard-content":{position:"relative",overflow:"auto",display:"flex",justifyContent:"space-between",backgroundColor:"canvas.subtle",marginBottom:3,pre:{marginBottom:0},zIndex:1,"clipboard-copy":{width:"28px",height:"28px"}}},children:[!b.W.newReferencesUI&&d&&l.skillExecutions?.map((e,t)=>o.jsx(es.C,{functionCall:e,manager:i,panelWidth:n},t)),b.W.newReferencesUI&&(h||"assistant"===l.role)&&(0,o.jsx)("div",{className:"mb-2",children:(0,o.jsx)(Z.n,{references:l.references??[],referenceMap:ed,showReferenceNumbers:eo,onToggle:eb,summaryRef:R})}),d&&r.isLoading?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(H.O,{variant:"rounded",height:"12px",width:"random"}),(0,o.jsx)(H.O,{variant:"rounded",height:"12px",width:"random"}),(0,o.jsx)(H.O,{variant:"rounded",height:"12px",width:"random"})]}):!E&&(0,o.jsx)(U.G,{onLinkClick:ex,verifiedHTML:er}),!b.W.newReferencesUI&&(h||"assistant"===l.role)&&(0,o.jsx)(Z.n,{references:l.references??[],referenceMap:ed,showReferenceNumbers:eo,onToggle:eb,summaryRef:R}),C?(0,o.jsx)(em,{manager:i}):null,l.agentErrors?.length?(0,o.jsx)(eh,{errors:l.agentErrors}):null,T?(0,o.jsx)(K.A,{"data-testid":"chat-message-interrupted",sx:{fontSize:1,px:2,py:1,zIndex:-1},children:"Copilot was interrupted before it could finish this message."}):null,(d||(0,x.yh)(c))&&(0,x.Ye)(l.confirmations).map((t,n)=>"indexrepo"===t.confirmation.name?null:(0,o.jsx)(ee.m,{confirmation:t,handleConfirmation:eg,isLatestMessage:e},n))]}),e&&_&&b.W.followUpThreadSuggestions&&(0,o.jsx)(ea,{panelWidth:n}),_&&(0,o.jsxs)(s.A,{className:"message-actions",sx:{display:"inline-flex",alignItems:"center",position:e?void 0:"absolute",bottom:e?void 0:"-2.25rem",backgroundColor:ey,borderRadius:e?void 0:2,boxShadow:e?void 0:"var(--shadow-floating-small)",opacity:e?void 0:0,pointerEvents:e?void 0:"none","&::before":{content:e?void 0:'""',inset:"-0.5rem -0.75rem",zIndex:-1,position:"absolute"}},children:[S&&(0,o.jsx)(ei.G,{returnFocusRef:w,setParentFocusZoneEnabled:r.setParentFocusZoneEnabled,onFeedbackSubmitted:ep}),d&&!!l.content&&!t&&(0,o.jsx)(F.T,{textToCopy:l.content??"",ariaLabel:"Copy to clipboard",size:"small",className:"d-flex flex-items-center"})]})]})]})},eu=({message:e,...t})=>(0,o.jsx)(Q.$,{message:e,children:(0,o.jsx)(ed,{...t})});function em({manager:e}){let{message:t}=(0,Q.V)(),{error:n}=t;if(!n)return null;switch(n.type){case"agentUnauthorized":return(0,o.jsx)(ep,{error:n,manager:e});case"agentRequest":return(0,o.jsx)(eh,{errors:[n.details]});default:return(0,o.jsx)(K.A,{variant:"warning",sx:{fontSize:1,px:2,py:1,zIndex:-1},children:n.message||"Something went wrong"})}}function ep({error:e,manager:t}){let{details:n}=e,[r,a]=(0,p.useState)(!1),s=(0,p.useCallback)(()=>{a(!0),t.dispatch({type:"MESSAGE_ADDED",message:(0,x.Y6)({role:"user",content:`Dismissed the connection with ${n.name}.`})}),t.dispatch({type:"MESSAGE_ADDED",message:(0,x.Y6)({role:"assistant",content:`I was unable to connect you to ${n.name} because you cancelled the authentication.`})})},[n.name,t]);return(0,o.jsxs)("div",{className:"position-relative d-flex flex-column flex-items-center gap-3 border rounded-2 p-5",children:[!r&&(0,o.jsx)(N.K,{"aria-label":"Close",className:"position-absolute top-0 right-0 mt-2 mr-2",icon:i.XIcon,onClick:s,variant:"invisible",unsafeDisableTooltip:!0}),(0,o.jsxs)("div",{className:"d-flex flex-items-center gap-2",children:[(0,o.jsx)(i.MarkGithubIcon,{size:48,className:"border circle borderColor-muted"}),(0,o.jsx)(i.LinkIcon,{className:"fgColor-muted"}),(0,o.jsx)("img",{className:(0,q.$)("avatar",X.A.agentUnauthorizedAvatar,"border circle borderColor-muted"),src:n.avatar_url,alt:`icon for ${n.name}`})]}),(0,o.jsxs)("p",{className:"h4 m-0 text-center",children:["Connect with ",n.name]}),(0,o.jsxs)("p",{className:"fgColor-muted text-center",children:["To use the ",n.name," extension, you\u2019ll need to connect your GitHub account to your ",n.name," account."]}),!r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Q,{as:"a",variant:"primary",size:"large",className:"width-full",href:n.authorize_url,rel:"noopener",target:"_blank",children:"Connect"}),(0,o.jsxs)("p",{className:"fgColor-muted text-center f6 m-0",children:["Click connect to be redirected to ",n.authorize_url]})]})]})}function eh({errors:e}){return(0,o.jsx)("div",{className:"d-flex flex-column gap-2",children:e.map((e,t)=>(0,o.jsxs)("div",{className:"p-3 border rounded-2",children:[(0,o.jsxs)("div",{className:"text-bold",children:[(0,o.jsx)(i.AlertFillIcon,{className:"mr-1 fgColor-attention"})," ","http"===e.type?`${e.code} ${e.identifier}`:`${ef(e.type)} error`]}),(0,o.jsx)("div",{children:e.message})]},t))})}function ef(e){return e.charAt(0).toUpperCase()+e.slice(1)}try{ed.displayName||(ed.displayName="InnerChatMessage")}catch{}try{eu.displayName||(eu.displayName="ChatMessage")}catch{}try{em.displayName||(em.displayName="ErrorMessage")}catch{}try{ep.displayName||(ep.displayName="AgentUnauthorizedError")}catch{}try{eh.displayName||(eh.displayName="AgentErrors")}catch{}var eg=n(85349),ex=n(34614),eb=n(60717),ey=n(94977),eA=n(33333);let eC=new Set(["repository","magic-knowledge-base"]),ej=()=>{let{currentReferences:e,mode:t,renderKnowledgeBaseAttachedToChatPopover:n}=(0,y.Pk)(),r=e.filter(e=>!eC.has(e.type)),a=(0,A.b)(),l=(0,p.useCallback)(e=>a.removeReference(e),[a]),[h,f]=(0,p.useState)(!1),g=r[0],[b,C]=(0,p.useState)(g?.type==="docset"?g:void 0);return((0,p.useEffect)(()=>{g?.type==="docset"&&C(g)},[g]),(0,p.useEffect)(()=>{(async()=>{if(b){let e=await a.fetchKnowledgeBases();e.ok&&!e.payload.find(e=>e.id===b.id)&&(C(void 0),l(0))}})()},[]),(0,p.useEffect)(()=>{(async()=>{if(b&&void 0===b.repos){let e=await a.fetchKnowledgeBases();if(e.ok){let t=e.payload.find(e=>e.id===b.id);t&&C({type:"docset",...t})}}})()},[b,a,a.service,l]),0===r.length)?null:(0,o.jsxs)(s.A,{sx:{mt:"auto",position:"relative"},children:[(0,o.jsx)(v.A,{open:b&&n,sx:{bottom:"75px",left:"50%",transform:"translateX(-50%)"},caret:"bottom",children:(0,o.jsxs)(v.A.Content,{sx:{mt:2,width:"300px"},className:"color-shadow-medium",children:[(0,o.jsx)(d.A,{as:"h4",sx:{fontSize:2,mb:2},children:"Copilot will now use content within the knowledge base to answer your questions"}),(0,o.jsx)("p",{children:"Remove the knowledge base to switch back to your original context."}),(0,o.jsx)(c.Q,{onClick:()=>{a.dismissKnowledgeBaseAttachedToChatPopover()},children:"Got it"})]})}),(0,o.jsxs)(s.A,{sx:{border:"1px solid",borderColor:"border.default",borderRadius:2,display:"flex",gap:2,p:2,pl:3,mx:"assistive"===t?3:0,mb:3},children:[(0,o.jsx)(m.A,{icon:b?i.BookIcon:i.PaperclipIcon,sx:{color:"fg.muted"}}),(0,o.jsxs)(s.A,{sx:{flex:1,display:"flex",flexDirection:"column",gap:b?1:2},children:[(0,o.jsx)(u.A,{sx:{fontWeight:"bold",fontSize:0,display:"block",lineHeight:1.25},children:b?`Chatting with ${(0,x.z$)(b)}`:`Chatting with ${r.length} attachment${r.length>1?"s":""}`}),b?(0,o.jsx)(s.A,{sx:{fontSize:0,lineHeight:1.25},...(0,j.G)("docset-reference"),children:b.repos?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,{sx:{color:"fg.muted"},children:"Knowledge base with"})," ",(0,o.jsx)(eg.T,{open:h,onOpen:()=>f(!0),onClose:()=>f(!1),renderAnchor:e=>(0,o.jsx)(ex.A,{...e,as:"button",sx:{color:"fg.default",fontWeight:"bold"},children:`${b.repos?.length} ${b.repos?.length===1?"repository":"repositories"}`}),side:"outside-top",overlayProps:{portalContainerName:eA.E5},children:(0,o.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",minWidth:"320px",maxWidth:"100vw",maxHeight:"100vw",overflow:"auto"},children:[(0,o.jsxs)(s.A,{sx:{display:"flex",py:2,pr:2,alignItems:"center",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"},children:[(0,o.jsx)(u.A,{sx:{pl:3,flex:1,fontWeight:"bold"},children:b.name}),(0,o.jsx)(N.K,{unsafeDisableTooltip:!0,icon:i.XIcon,onClick:()=>f(!1),"aria-label":"Close docset overlay",variant:"invisible"})]}),(0,o.jsxs)(s.A,{sx:{display:"flex",flex:1,flexDirection:"column",px:3,pt:2,pb:3,gap:2},children:[(0,o.jsx)("div",{children:b.description}),(0,o.jsx)(s.A,{sx:{color:"fg.muted"},children:"Repository content in the knowledge base"}),b.repos&&b.repos.map(e=>(0,o.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(m.A,{icon:i.RepoIcon,sx:{color:"fg.muted"}}),(0,o.jsx)(u.A,{sx:{pl:2},children:e})]},e))]})]})})]}):(0,o.jsx)(u.A,{sx:{color:"fg.muted"},children:"Loading repositories..."})}):(0,o.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:2},children:r.length>0&&r.map((e,t)=>(0,o.jsx)(eb.A,{text:(0,x.z$)(e),onRemove:()=>l(t)},(0,x.z$)(e)))})]}),b&&(0,o.jsx)(ey.A,{"aria-label":"Remove knowledge reference",direction:"nw",children:(0,o.jsx)(N.K,{unsafeDisableTooltip:!0,icon:i.XIcon,"aria-label":"Remove knowledge reference",size:"small",variant:"invisible",onClick:()=>{l(0),C(void 0)}})})]})]})};try{eC.displayName||(eC.displayName="INVISIBLE_REFERENCES")}catch{}try{ej.displayName||(ej.displayName="CurrentChatReferences")}catch{}var ev=n(97564),eS=n(33067),eN=n(19002);function ew({docset:e,size:t}){return(0,o.jsx)(G.r,{src:e.avatarUrl,square:"organization"===e.ownerType,size:t})}try{ew.displayName||(ew.displayName="KnowledgeBaseAvatar")}catch{}var eI=n(16372);function eR({currentTopic:e,indexingState:t,okToIndex:n,triggerIndexing:r}){let[a,l]=(0,p.useState)(!1),[d,u]=(0,p.useState)(!1),[m,h]=(0,p.useState)(!1),f=(0,p.useCallback)(()=>{h(!0),l(!0),r(),(0,$.i)("Indexing requested.")},[r]),g=(0,x.P)(e),b=g?"knowledge base":"repository",y=g?t.docs:t.code;return y===eS.W5.Indexed?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A,{sx:{px:3,pb:3},children:(0,o.jsx)(ek,{})}),m&&(0,o.jsxs)(s.A,{sx:{borderTop:"1px solid",py:2,borderColor:"border.muted",textAlign:"center"},children:["You indexed this repository.",void 0!==t.remainingRepoIndexTokens&&(0,o.jsx)("span",{className:"color-fg-muted",children:` ${t.remainingRepoIndexTokens} repositories remaining.`})]})]}):(0,o.jsx)(s.A,{className:"indexed-state-container",sx:{display:"flex",flexDirection:"column",alignItems:"center",m:3,mt:0,p:3,gap:3,border:"1px solid",borderColor:"border.default",borderRadius:"6px",textAlign:d?void 0:"center"},children:d?(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)(N.K,{icon:i.ArrowLeftIcon,onClick:()=>u(!1),"aria-label":"Go back.",variant:"invisible",className:"mr-2",sx:{height:"16px",marginTop:"2px"}}),(0,o.jsxs)("p",{className:"m-0",children:["Under your plan, limited repositories can be concurrently indexed for natural language search."," ",(0,o.jsx)(ex.A,{inline:!0,href:"https://docs.github.com/en/copilot/managing-copilot/managing-github-copilot-in-your-organization/customizing-copilot-for-your-organization/indexing-repositories-for-copilot-chat#about-indexing-repositories",target:"_blank",rel:"noopener noreferrer",children:"Learn more"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eT,{indexedState:y,canIndexStatus:t.requestStatus,topicType:b,remainingRepoIndexTokens:"repository"===b?t.remainingRepoIndexTokens:void 0}),(0,o.jsxs)("div",{className:"d-flex",children:[n&&(0,o.jsxs)(c.Q,{variant:"primary",onClick:f,disabled:a,className:"mr-2",children:["Index ",e.name]}),t.code!==eS.W5.Unknown&&(0,o.jsx)(c.Q,{onClick:()=>u(!0),children:"Learn more"})]})]})})}function eT({indexedState:e,canIndexStatus:t,topicType:n,remainingRepoIndexTokens:r}){switch(e){case eS.W5.Indexing:return(0,o.jsx)(eL,{topicType:n,remainingRepoIndexTokens:r});case eS.W5.Indexed:return(0,o.jsx)(ek,{});case eS.W5.Unindexed:return(0,o.jsx)(eE,{canIndexStatus:t,topicType:n,remainingRepoIndexTokens:r});default:return(0,o.jsx)(eO,{topicType:n})}}function eE({canIndexStatus:e,topicType:t,remainingRepoIndexTokens:n}){switch(e){case eS.xG.Requested:return(0,o.jsx)(eL,{topicType:t,remainingRepoIndexTokens:n});case eS.xG.RequestFailed:return(0,o.jsxs)(s.A,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,o.jsx)(m.A,{icon:i.AlertIcon,size:16,sx:{color:"fg.muted"}}),(0,o.jsx)("div",{children:(0,o.jsx)(u.A,{sx:{ml:2},"aria-live":"polite",children:"Unable to queue for semantic indexing right now \u2014 try again later."})})]});default:return(0,o.jsxs)("div",{className:"d-flex flex-direction-v flex-column",children:[e===eS.xG.CanIndex?(0,o.jsx)("span",{children:`Unlock natural language search and improve Copilot's understanding by indexing this ${t}.`}):(0,o.jsxs)("span",{children:["This ",t," is not currently indexed."]}),void 0!==n&&e!==eS.xG.Forbidden&&(0,o.jsx)("span",{className:"color-fg-muted",children:`${n} repositories remaining.`})]})}}function eL({topicType:e,remainingRepoIndexTokens:t}){return(0,o.jsxs)(s.A,{sx:{display:"flex",gap:1,flexDirection:"column",alignItems:"center"},children:[(0,o.jsxs)("span",{"aria-live":"polite",children:["Copilot is indexing this ",e,"."]}),void 0!==t&&(0,o.jsx)("span",{className:"color-fg-muted",children:`${t} repositories remaining.`}),(0,o.jsxs)("div",{className:"d-flex",children:[(0,o.jsx)(l.A,{size:"small",sx:{color:"fg.muted"}}),(0,o.jsx)("span",{className:"ml-2",children:"This may take a few minutes."})]})]})}function ek(){return(0,o.jsxs)(s.A,{sx:{display:"flex",alignItems:"center"},children:[(0,o.jsx)(m.A,{icon:i.DotFillIcon,size:16,sx:{color:"success.fg"}}),(0,o.jsx)(s.A,{sx:{color:"fg.muted",fontSize:0,ml:1},children:"Indexed for improved understanding and accuracy."})]})}function eO({topicType:e}){return(0,o.jsxs)(s.A,{sx:{display:"flex",gap:3,alignItems:"center"},children:[(0,o.jsx)(l.A,{size:"small",sx:{color:"fg.muted",flexShrink:0}}),(0,o.jsxs)("span",{children:["Checking for semantic ","repository"===e?"code":""," search availability\u2026"]})]})}try{eR.displayName||(eR.displayName="TopicIndexState")}catch{}try{eT.displayName||(eT.displayName="IndexedStateInfo")}catch{}try{eE.displayName||(eE.displayName="NotIndexedState")}catch{}try{eL.displayName||(eL.displayName="IndexingInProgressState")}catch{}try{ek.displayName||(ek.displayName="IndexedState")}catch{}try{eO.displayName||(eO.displayName="LoadingState")}catch{}function eP(){let{currentTopic:e,mode:t,messages:n}=(0,y.Pk)(),r=(0,x.P)(e),a=(0,x.Z6)(e),l="immersive"===t&&b.W.copilotImmersiveV1,c=e?.name,d=null;e&&a&&(c=d=`${e.ownerLogin}/${e.name}`);let p=r?e.repos:d?[d]:[],[h,f]=(0,eS.M8)(p),g=h.requestStatus===eS.xG.CanIndex&&(a&&h.code===eS.W5.Unindexed||r&&h.docs===eS.W5.Unindexed),A=(a&&h.code===eS.W5.Unindexed||r&&h.docs===eS.W5.Unindexed)&&h.requestStatus!==eS.xG.CanIndex,C=a||r,j=(0,o.jsx)("p",{children:"Explore and learn about programming-related concepts using natural language."}),v=(0,o.jsxs)(u.A,{as:"p",sx:{mb:0},children:["Copilot is powered by AI, so mistakes are possible. Review output carefully before use."," ",(0,o.jsx)(ex.A,{inline:!0,href:"https://docs.github.com/en/copilot/github-copilot-enterprise/copilot-chat-in-github/about-github-copilot-chat",target:"_blank",rel:"noopener noreferrer",children:"Learn more about GitHub Copilot Chat."})]}),S=e?r?(0,o.jsxs)("span",{children:[e.description&&(0,o.jsx)("p",{children:e.description}),(0,o.jsxs)("p",{children:["Knowledge bases allow you to chat with Copilot about docs content from multiple repositories using natural language questions like ",(0,o.jsx)("i",{children:'"How do I get started with ___?"'})," or"," ",(0,o.jsx)("i",{children:'"Explain concept ___"'}),"."]}),!l&&v]}):(0,o.jsxs)(o.Fragment,{children:[!b.W.staticThreadSuggestions&&(0,o.jsxs)("p",{children:["You can ask questions like ",(0,o.jsx)("i",{children:'"What does this file do?"'})," or"," ",(0,o.jsx)("i",{children:'"Where is this functionality defined?"'})]}),(0,o.jsx)(u.A,{sx:{mb:0},children:v})]}):(0,o.jsxs)("span",{children:[!l&&j,!l&&v]});return(0,o.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",alignItems:"start",gap:2,color:l?"fg.muted":"fg.default",borderBottom:l?"1px solid var(--borderColor-muted, var(--color-border-muted))":"1px solid var(--borderColor-default, var(--color-border-default))",marginBottom:l?3:0,paddingBottom:l?3:0},children:["immersive"===t&&0===n.length&&(0,o.jsx)(eN.A,{}),(0,o.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",width:"100%"},children:[(0,o.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",p:3,pb:0,gap:2},children:[e&&(0,o.jsx)(s.A,{sx:{flexShrink:0},children:r?(0,o.jsx)(ew,{docset:e,size:32}):(0,o.jsx)(eI.W,{ownerLogin:e.ownerLogin,ownerType:e.ownerType,size:32})}),(0,o.jsxs)("div",{children:[!l&&(0,o.jsx)(s.A,{sx:{display:"flex",gap:2},children:(0,o.jsx)(u.A,{as:"h1",sx:{fontSize:2,lineHeight:1.25,wordBreak:"break-word"},children:e?`Chatting about ${c}`:"Chatting about code and programming"})}),(0,o.jsx)(u.A,{sx:{fontSize:0,color:"fg.muted"},children:e&&(r?(0,o.jsxs)("span",{children:[e?.visibleOutsideOrg?"Public":"Private"," knowledge base"]}):(0,o.jsxs)("span",{children:[(0,o.jsx)(u.A,{sx:{textTransform:"capitalize"},children:e?.visibility})," repository"]}))})]})]}),(0,o.jsx)(s.A,{sx:{p:3},children:S}),r&&(0,o.jsxs)(s.A,{sx:{p:3,pt:0},children:[(0,o.jsx)(s.A,{sx:{color:"fg.muted",fontWeight:600,fontSize:0},children:"Repositories included in this knowledge base"}),e.repos.map(e=>(0,o.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",pt:2,pb:2,gap:2},children:[(0,o.jsx)(m.A,{icon:i.RepoIcon,sx:{color:"fg.muted"}}),(0,o.jsx)(ex.A,{href:`/${e}`,sx:{color:"fg.default"},children:e})]},e))]}),C&&(0,o.jsx)(eR,{currentTopic:e,indexingState:h,okToIndex:g,triggerIndexing:f}),A&&(0,o.jsx)(eD,{canIndexStatus:h.requestStatus,currentTopic:e,hitIndividualLimit:void 0!==h.remainingRepoIndexTokens&&h.remainingRepoIndexTokens<=0})]})]})}function eD({canIndexStatus:e,currentTopic:t,hitIndividualLimit:n}){let r;switch(e){case eS.xG.Unauthorized:r=(0,o.jsx)("span",{children:"Ask an organization owner to have this repository indexed for semantic code search."});break;case eS.xG.Unknown:return null;case eS.xG.Forbidden:r=(0,o.jsx)("span",{children:"You can only index repositories that your organization owns."});break;case eS.xG.QuotaExhausted:r=n?(0,o.jsx)("span",{children:"You have reached your semantic search token limit. Please wait for more tokens to be granted."}):(0,o.jsxs)("span",{children:["Your organization has reached its limit for semantic search indexing. Contact your GitHub representative to increase your limit.",(0,ev.G7)("COPILOT_SEMANTIC_CODE_SEARCH_SETTINGS")&&(0,o.jsxs)(o.Fragment,{children:[" ","Organization administrators can"," ",(0,o.jsx)(ex.A,{inline:!0,href:`/organizations/${t.ownerLogin}/settings/copilot/semantic_code_search`,children:"manage indexed repositories"}),"."]})]});break;case eS.xG.ServiceUnavailable:r=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,{sx:{fontWeight:600},children:"Indexing temporarily unavailable due to heavy load."}),(0,o.jsx)("span",{children:"Please check back later."})]});break;default:return null}return(0,o.jsx)(s.A,{sx:{p:3,display:"flex",alignItems:"center",gap:2,bg:"canvas.subtle",borderRadius:"0 0 6px 6px",borderTop:"1px solid var(--borderColor-default, var(--color-border-default))"},children:r})}try{eP.displayName||(eP.displayName="TopicIndexedMessage")}catch{}try{eD.displayName||(eD.displayName="CannotIndexReason")}catch{}var eM=n(87726),eB=n(24128);function e_({mode:e}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.A,{sx:{height:"3rem",mb:2,display:"flex",justifyContent:"center"},children:(0,o.jsx)(eB.A,{})}),(0,o.jsx)(d.A,{as:"h1",sx:{textAlign:"center",fontSize:3,mb:2},children:"Ask Copilot"}),(0,o.jsx)(u.A,{as:"p",sx:{textAlign:"center",color:"fg.muted",mb:"immersive"===e?5:3,px:3,textWrap:"balance"},children:"Select a repository to get started. Ask questions about your codebase to get answers fast and learn your way around."})]})}try{e_.displayName||(e_.displayName="ChatWithCopilotHeader")}catch{}var e$=n(70170),eF=n(73766),eG=n(38936),eU=n(56226),eH=n(67749),eW=n(18312);function ez(){let e=(0,A.b)(),{currentRepository:t,mode:n,selectedThreadID:r}=(0,y.Pk)(),[a,c]=(0,p.useState)(""),d=(0,e$.s)(e=>c(e),400,{start:!1}),[m,h]=(0,p.useState)(void 0),f=(0,p.useCallback)(()=>h(void 0),[]),x=(0,p.useCallback)(async(t,o)=>{if(f(),!t){e.showTopicPicker(!1),e.clearCurrentTopic(),e.clearCurrentReferences(),"immersive"===n&&window.history.pushState(null,"","/copilot"),r&&er.J.setSelectedTopic(r,null);return}void 0!==o&&(await e.fetchCurrentRepo(Number(o)),e.showTopicPicker(!1))},[f,e,n,r]),{repositories:b,loading:C}=function(e,t,n,r,a,s){let{topRepositoriesCache:l}=(0,y.Pk)(),c=(0,A.b)(),[d,u]=(0,p.useState)([]),[m,h]=(0,p.useState)(!l),f=(0,p.useRef)(void 0),g=(0,eW.useRelayEnvironment)(),x=(0,eW.useFragment)(eG.Sy,n??null);if(x&&!l&&!e){let{topRepositories:e}=x,n=eV((e.edges||[]).flatMap(e=>e?.node?[(0,eW.readInlineData)(eG.R6,e.node)]:[]),t,a),{ownerLogin:l,name:d}=s??{};if(s&&!n.find(e=>e.key===`${l}/${d}`)){let e=s.name;n.splice(0,0,{key:e,actionItem:"workspace"===a?(0,o.jsxs)(V.l.LinkItem,{as:eU.N,to:`/copilot/r/${e}`,onClick:()=>t(e,s.id),children:[(0,o.jsx)(V.l.LeadingVisual,{children:(0,o.jsx)(eI.W,{ownerLogin:s.ownerLogin,ownerType:s.ownerType,size:16})}),s.ownerLogin,"/",e,(0,o.jsx)(V.l.TrailingVisual,{children:(0,o.jsx)(i.ArrowRightIcon,{})})]},e):(0,o.jsxs)(V.l.Item,{onSelect:()=>t(e,s.id),children:[(0,o.jsx)(V.l.LeadingVisual,{children:(0,o.jsx)(eI.W,{ownerLogin:s.ownerLogin,ownerType:s.ownerType,size:16})}),s.ownerLogin,"/",e,(0,o.jsx)(V.l.TrailingVisual,{children:(0,o.jsx)(i.ArrowRightIcon,{})})]},e)})}setTimeout(()=>c.setTopRepositoryTopics(n),10),h(!1),r(void 0)}let b=(0,p.useCallback)(async()=>{try{let e=await (0,eW.fetchQuery)(g,eG.m,{topRepositoriesFirst:4}).toPromise();r(e?.viewer)}catch{}finally{h(!1)}},[g,r]);return((0,p.useEffect)(()=>{b()},[b]),(0,p.useEffect)(()=>{let n=async e=>{h(!0);let n=((await new Promise((t,n)=>{(0,eW.fetchQuery)(g,eG.XD,{searchQuery:(0,eF.J)(e)}).subscribe({start:e=>{f.current?.unsubscribe(),f.current=e},next:e=>{t(e)},error:e=>{n(e)}})})).search.nodes||[]).flatMap(e=>e?[(0,eW.readInlineData)(eG.R6,e)]:[]);u(n.length?eV(n,t,a):[]),h(!1)};e?n(e):l&&u(l)},[e,a,t,g,l]),l&&!e)?{repositories:l,loading:!1}:{repositories:d,loading:m}}(a,x,m,h,n,t),j=(0,p.useMemo)(()=>C?"Loading repositories":0===b.length?"No repositories found":1===b.length?"1 repository found":`${b.length} repositories found`,[C,b.length]);return(0,o.jsxs)(s.A,{sx:{border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:2,display:"flex",flexDirection:"column",mb:3},children:[(0,o.jsx)(s.A,{sx:{p:3,pb:0},children:(0,o.jsx)(eH.A,{id:g.uN,leadingVisual:i.SearchIcon,name:"topic-search","aria-label":"Search repositories to chat about",placeholder:"Search repositories to chat about",onChange:e=>d(e.target.value),sx:{width:"100%","input:placeholder-shown":{textOverflow:"ellipsis"}}})}),(0,o.jsxs)(V.l,{children:[(0,o.jsx)("div",{role:"status",className:"sr-only",children:j}),C?(0,o.jsx)(s.A,{as:"li",sx:{display:"flex",justifyContent:"center",py:2,height:"190px",alignItems:"center"},children:(0,o.jsx)(l.A,{})}):0===b.length?(0,o.jsxs)(V.l.Item,{disabled:!0,children:[(0,o.jsx)(V.l.LeadingVisual,{sx:{color:"fg.muted"},children:(0,o.jsx)(i.CircleSlashIcon,{})}),(0,o.jsx)(u.A,{sx:{color:"fg.muted"},children:"No results found"})]}):(0,o.jsx)(o.Fragment,{children:b.length>0&&(0,o.jsxs)(V.l.Group,{children:[(0,o.jsx)(V.l.GroupHeading,{as:"h3",children:"Recent repositories"}),b.map(e=>e.actionItem)]})}),(0,o.jsx)(V.l.Divider,{}),(0,o.jsxs)(V.l.Item,{id:"chat-with-no-context",onSelect:()=>x(void 0),sx:{"#chat-with-no-context--label":{marginBottom:"0px !important"}},children:["General purpose chat",(0,o.jsx)(V.l.TrailingVisual,{children:(0,o.jsx)(i.ArrowRightIcon,{})})]},"chat-with-no-context")]})]})}function eV(e,t,n){return e.map(({owner:{login:e,avatarUrl:r},isInOrganization:a,name:s,databaseId:l})=>{let c=`${e}/${s}`;return{key:c,actionItem:"workspace"===n?(0,o.jsxs)(V.l.LinkItem,{as:eU.N,to:`/copilot/r/${c}`,onClick:()=>t(c,l??0),children:[(0,o.jsx)(V.l.LeadingVisual,{children:(0,o.jsx)(G.r,{src:r,square:a,size:16})}),e,"/",s,(0,o.jsx)(V.l.TrailingVisual,{children:(0,o.jsx)(i.ArrowRightIcon,{})})]},c):(0,o.jsxs)(V.l.Item,{onSelect:()=>t(c,l??0),children:[(0,o.jsx)(V.l.LeadingVisual,{children:(0,o.jsx)(G.r,{src:r,square:a,size:16})}),e,"/",s,(0,o.jsx)(V.l.TrailingVisual,{children:(0,o.jsx)(i.ArrowRightIcon,{})})]},c)}})}try{ez.displayName||(ez.displayName="TopicList")}catch{}let eK=()=>{let e=(0,y.Pk)(),t=(0,p.useMemo)(()=>e.ssoOrganizations?e.ssoOrganizations.map(e=>e.login):[],[e.ssoOrganizations]);return(0,o.jsx)(s.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,height:"100%"},children:(0,o.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[(0,o.jsx)(e_,{mode:e.mode}),(0,o.jsx)(s.A,{sx:{px:3,"> button":{m:"0 auto"}},children:(0,o.jsx)(ez,{})}),(0,o.jsx)(eM.x,{portalContainerName:eA.E5,protectedOrgs:t,redirectURI:()=>`/search/refresh_blackbird_caches?return_to=${location.href}`,sx:{mx:3,mb:3}}),(0,o.jsx)(eq,{currentTopic:e.currentTopic})]})})};function eq({currentTopic:e}){return(0,x.P)(e)?(0,o.jsx)(s.A,{sx:{mt:3,mb:4},children:(0,o.jsx)(eJ,{docset:e})}):null}function eJ({docset:e}){return(0,o.jsxs)(s.A,{sx:{display:"flex",flexDirection:"column",gap:3,border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"var(--borderRadius-large)",padding:3},children:[(0,o.jsxs)(s.A,{sx:{display:"flex",alignItems:"baseline",gap:2},children:[(0,o.jsx)(ew,{docset:e,size:24}),(0,o.jsx)(d.A,{as:"h3",sx:{fontSize:1,m:0},children:e.name})," ",(0,o.jsx)(u.A,{sx:{fontSize:0,color:"fg.muted"},children:"Knowledge base added to conversation"})]}),(0,o.jsx)(d.A,{as:"h4",sx:{fontSize:0,m:0,color:"fg.muted",fontWeight:"500"},children:"Repositories in this knowledge base"}),(0,o.jsx)(s.A,{sx:{display:"flex",flexWrap:"wrap",gap:3},children:e.repos.map(e=>(0,o.jsxs)(s.A,{sx:{whiteSpace:"nowrap"},children:[(0,o.jsx)(i.RepoIcon,{}),` ${e}`]},e))})]})}try{eK.displayName||(eK.displayName="TopicPicker")}catch{}try{eq.displayName||(eq.displayName="TopicDescription")}catch{}try{eJ.displayName||(eJ.displayName="DocsetDescription")}catch{}let eY=({messages:e,isWaitingOnCopilot:t,inputRef:n,onMessageReceived:r,panelWidth:a})=>{let i=(0,y.Pk)(),{showTopicPicker:l}=i,c=b.W.copilotImmersiveV1&&"immersive"===i.mode,{containerRef:d,setFocusZoneEnabled:u}=(0,f.o)(t,e,r);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"sr-only",children:"Copilot Chat"}),l?(0,o.jsx)(eK,{}):(0,o.jsxs)(s.A,{ref:d,sx:{display:"flex",flexDirection:"column",minHeight:"0",flexGrow:1},children:[(0,o.jsxs)(s.A,{className:"copilot-messages-container",sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[!c&&(0,o.jsx)(eP,{}),e.map((t,r)=>(0,o.jsx)(eu,{isLatestMessage:"assistant"===t.role&&r===e.length-1,message:t,inputRef:n,panelWidth:a,setParentFocusZoneEnabled:u},r)),i.streamingMessage&&(0,o.jsx)(eu,{message:i.streamingMessage,isStreaming:!0,isLatestMessage:!0,panelWidth:a})]}),!l&&i.currentReferences.length>0&&(0,o.jsx)(ej,{})]})]})},eX=()=>(0,o.jsxs)(s.A,{sx:{m:"auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,o.jsx)(l.A,{size:"large"}),(0,o.jsx)(s.A,{sx:{p:3,color:"fg.subtle"},children:"Loading conversation\u2026"})]}),eQ=()=>{let{mode:e,reviewLab:t}=(0,y.Pk)();return(0,o.jsxs)(s.A,{sx:{display:"flex",gap:"2",alignItems:"center",py:3,pr:3,pl:"immersive"===e?3:2,color:"fg.subtle"},children:[(0,o.jsx)(m.A,{icon:i.AlertIcon}),"Failed to load previous messages.",t&&(0,o.jsx)(o.Fragment,{children:"\xa0You are in a review lab. Please check that you are connected to the Developer VPN."})]})},eZ=({inputRef:e,panelWidth:t})=>{let n=(0,y.Pk)(),r=(0,A.b)(),{currentReferences:i,messagesLoading:l,messagesRestored:c,threadsLoading:d,currentTopic:u,messages:m,mode:f,selectedThreadID:j,showTopicPicker:v,context:S,scrollToTop:N}=n,w=r.getSelectedThread(n),I=(0,p.useMemo)(()=>(0,x.k4)(Object.keys(g.Pe)).slice(0,4).map(e=>({heading:e,content:(0,x.k4)(g.Pe[e])[0]})),[]),{textAreaRef:R}=(0,h.Y)(e),T=(0,p.useRef)(null),E=(0,p.useRef)(!0),L=(0,p.useRef)(N);(0,p.useEffect)(()=>{if(!j||"assistive"===f)return;let e=`${x.Jz}/c/${j}`;window.location.pathname!==e&&0!==m.length&&history.pushState(null,"",e)},[j,f,m.length]);let k=(0,p.useCallback)(async e=>{L.current=!1,""!==e.trim()&&await r.sendChatMessage(w,e,i,u,S,void 0,n.customInstructions,void 0,n.mode)},[S,i,u,r,n.customInstructions,w,n.mode]),O=(0,p.useCallback)(e=>{let t=e.target;E.current=1>Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)},[]),P=(0,p.useCallback)(({forceScroll:e})=>{T.current&&(E.current||e)&&!L.current&&((0,C.ov)(T.current)?T.current.scrollTo(0,T.current.scrollHeight):window.scrollTo(0,document.body.scrollHeight))},[]),M=c&&m.length>0,B="loading"===l.state&&n.selectedThreadID&&!v&&!M,_="error"===l.state||"error"===d.state,$="loaded"===l.state||M,F=b.W.copilotImmersiveV1&&"immersive"===n.mode,[G]=(0,p.useState)(n.renderAttachKnowledgeBaseHerePopover),U=!!(!B&&!n.currentTopic&&!v&&0===m.length&&!G&&0===i.length);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.A,{className:"copilot-chat-messages",onScroll:O,ref:T,sx:{overflowY:"auto",overscrollBehavior:"contain",display:"flex",flexDirection:"column",flex:"1 1 auto",scrollbarGutter:"stable"},children:[B&&(0,o.jsx)(eX,{}),_&&(0,o.jsx)(eQ,{}),$&&!B&&(0,o.jsx)(eY,{...n,inputRef:R,onMessageReceived:P,panelWidth:t}),(0,o.jsx)(eA.Cb,{})]}),U&&(0,o.jsx)(s.A,{className:"copilot-chat-messages",sx:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:2,px:3,mb:3,scrollbarGutter:"stable"},children:I.map((e,t)=>(0,o.jsx)(e0,{heading:e.heading,content:e.content,onSubmit:()=>{r.sendChatMessage(r.getSelectedThread(n),e.content,n.currentReferences,n.currentTopic,n.context),(0,a.BI)("copilot_chat_suggestion_click",{topic:n.currentTopic?.name})}},t))}),!B&&!v&&(0,o.jsxs)(s.A,{className:"copilot-chat-input copilot-chat-input-outer",sx:{display:"flex",flexDirection:"column",mt:"auto",px:3,pb:3,zIndex:1},children:[!U&&0===m.length&&!n.showTopicPicker&&(0,o.jsx)(ea,{panelWidth:t,suggestionKind:"initial"}),(0,o.jsx)(D,{textAreaRef:R,onSubmit:k,isLoading:n.isWaitingOnCopilot||"loading"===n.slashCommandLoading.state,isStreaming:!!n.streamingMessage,panelWidth:t}),F&&(0,o.jsx)(s.A,{sx:{textAlign:"center",mt:2,color:"fg.subtle",fontSize:"12px"},children:"Copilot can make mistakes. Review output before use."})]}),(0,o.jsx)(eA.zc,{})]})};function e0({heading:e,content:t,onSubmit:n}){return(0,o.jsxs)(c.Q,{sx:{bg:"canvas.default",height:"auto",minWidth:"auto",borderBottom:"1px solid",borderColor:"border.default",border:"1px solid var(--borderColor-default, var(--color-border-default))",flex:"1 1 49%",display:"flex",flexDirection:"column",justifyContent:"center",p:2},onClick:n,children:[(0,o.jsx)(d.A,{as:"h3",sx:{textAlign:"center",fontSize:1,m:0,mb:1,wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},children:e}),(0,o.jsx)(u.A,{as:"p",sx:{fontSize:0,fontWeight:400,textAlign:"center",color:"fg.muted",m:0,textWrap:"balance",wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},children:t})]})}try{eY.displayName||(eY.displayName="Messages")}catch{}try{eX.displayName||(eX.displayName="Loading")}catch{}try{eQ.displayName||(eQ.displayName="Error")}catch{}try{eZ.displayName||(eZ.displayName="Chat")}catch{}try{e0.displayName||(e0.displayName="SuggestedPrompt")}catch{}},695:(e,t,n)=>{n.d(t,{$:()=>i,V:()=>s});var r=n(74848),o=n(96540);let a=(0,o.createContext)(void 0),i=({message:e,children:t})=>{let n=(0,o.useMemo)(()=>({message:e}),[e]);return(0,r.jsx)(a.Provider,{value:n,children:t})},s=()=>{let e=(0,o.useContext)(a);if(!e)throw Error("useChatMessage must be used with ChatMessageProvider.");return e};try{a.displayName||(a.displayName="ChatMessageContext")}catch{}try{i.displayName||(i.displayName="ChatMessageProvider")}catch{}},3167:(e,t,n)=>{n.d(t,{n:()=>v,d:()=>j});var r,o=n(74848),a=n(38621),i=n(38695),s=n(75177),l=n(52464),c=n(16823),d=n(30729),u=n(76206),m=n(61053),p=n(22986),h=n(77729),f=n(13180),g=n(89323),x=n(96540),b=n(91078),y=n(33333),A=n(57171);function C({n:e,reference:t}){let n=(0,m.Pk)(),r=(0,b.b)(),i=(0,x.useRef)(null),s=n?.mode??"assistive",l=(0,x.useCallback)(e=>{if(e.target instanceof Node&&i.current?.contains(e.target)){e.stopPropagation(),e.preventDefault();return}"immersive"===s&&(["repository","docset","third-party"].includes(t.type)||(e.preventDefault(),r.selectReference(t)))},[r,s,t]),{currentReferences:d}=n??{currentReferences:[]},p=(0,x.useMemo)(()=>d.map(e=>(0,u.Vb)(e)),[d]),h=(0,x.useMemo)(()=>(0,u.Vb)(t),[t]),C=(0,x.useMemo)(()=>p.includes(h),[p,h]),j=(0,x.useCallback)(e=>{e.stopPropagation(),C||r.addReference(t,"refMenu")},[r,t,C]),v=(0,u.JP)(t),S=(0,u.Xs)(v),N=(0,A.a)(t,(0,u.P)(n?.currentTopic));return(0,o.jsxs)(c.l.LinkItem,{onClick:l,href:v,rel:"noopener",sx:{wordBreak:"break-word"},className:"reference-action",target:"third-party"===t.type?"_blank":void 0,children:[N&&(0,o.jsx)(c.l.LeadingVisual,{children:(0,o.jsx)(N,{})}),"number"==typeof e?(0,o.jsxs)("span",{children:[e," - "]}):null,(0,u.z$)(t),(0,o.jsx)(c.l.TrailingVisual,{children:(0,o.jsxs)(g.W,{anchorRef:i,children:[(0,o.jsx)(g.W.Anchor,{children:(0,o.jsx)(f.v,{icon:a.KebabHorizontalIcon,sx:{height:20},variant:"invisible",size:"small","aria-label":"More reference options",label:"More reference options",tooltipDirection:"nw",className:"reference-action"})}),(0,o.jsx)(y.UJ,{portalContainerName:y.Dq,children:(0,o.jsxs)(c.l,{children:[S&&("immersive"===s||"third-party"===t.type?(0,o.jsxs)(c.l.LinkItem,{href:v,onClick:e=>{e.stopPropagation()},rel:"noopener",target:"_blank",children:[(0,o.jsx)(c.l.LeadingVisual,{children:(0,o.jsx)(a.LinkIcon,{})}),"Open"]}):(0,o.jsxs)(c.l.Item,{onSelect:e=>{e.stopPropagation(),r.selectReference(t)},children:[(0,o.jsx)(c.l.LeadingVisual,{children:(0,o.jsx)(a.LinkIcon,{})}),"Preview"]})),(0,o.jsxs)(c.l.Item,{onSelect:j,disabled:C,children:[(0,o.jsx)(c.l.LeadingVisual,{children:(0,o.jsx)(a.PaperclipIcon,{})}),"Attach to chat"]})]})})]})})]})}try{C.displayName||(C.displayName="OutputReference")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}let j=["file","file-diff","snippet","symbol","commit","pull-request","third-party"];function v(e){let{referenceMap:t,showReferenceNumbers:n,onToggle:r,summaryRef:p}=e,f=(0,m.Pk)(),g=(0,h.k)(e.references,t).filter(e=>j.includes(e.type)),x=(0,u.P)(f?.currentTopic)&&g.every(S);if(0===g.length)return null;let b=x?`Search results from ${f.currentTopic.name}`:`${g.length} ${1===g.length?"reference":"references"}`;return(0,o.jsxs)(i.A,{sx:{"&[open]":{".references-chevron-down":{display:"none !important"},".references-chevron-up":{display:"inline-block !important"}}},onToggle:r,children:[(0,o.jsxs)(s.A,{ref:p,as:"summary",sx:{display:"flex",justifyContent:"start",alignItems:"center",gap:1,mt:2,color:"fg.muted","&:hover":{color:"fg.default"}},children:[(0,o.jsx)(l.A,{sx:{fontWeight:"normal",fontSize:0},children:b}),(0,o.jsx)(d.A,{icon:a.ChevronDownIcon,className:"references-chevron-down"}),(0,o.jsx)(d.A,{icon:a.ChevronUpIcon,sx:{display:"none !important"},className:"references-chevron-up"})]}),(0,o.jsx)(c.l,{sx:{mt:2,mx:"-1rem",p:0},children:g.map((e,t)=>(0,o.jsx)(C,{reference:e,n:n?e.n:null},t))})]})}function S(e){return"snippet"===e.type&&!!e.languageName&&p.Y.has(e.languageName)}try{v.displayName||(v.displayName="ChatReferences")}catch{}},84252:(e,t,n)=>{n.d(t,{m:()=>d});var r=n(74848),o=n(75177),a=n(84217),i=n(52464),s=n(55847),l=n(96540),c=n(61053);function d({confirmation:e,handleConfirmation:t,isLatestMessage:n}){let d=(0,c.Pk)(),u=JSON.stringify(Object.values(e.confirmation).sort()),m=d.allClientConfirmations?.includes(u),[p,h]=(0,l.useState)(m&&!n),f=n=>{h(!0),t({state:n,confirmation:e.confirmation},e.title)};return(0,r.jsxs)(o.A,{className:"border rounded-2",sx:{display:"flex",flexDirection:"column",p:3,marginTop:3},children:[(0,r.jsx)(a.A,{as:"h3",sx:{mb:1,fontSize:1,lineHeight:"condensed"},children:e.title}),(0,r.jsx)(i.A,{as:"p",sx:{color:"fg.muted",mb:0},children:e.message}),!p&&(0,r.jsxs)(o.A,{sx:{display:"flex",justifyContent:"flex-start",gap:2,mt:3},children:[(0,r.jsx)(s.Q,{variant:"primary",onClick:()=>f("accepted"),children:"Allow"}),(0,r.jsx)(s.Q,{onClick:()=>f("dismissed"),children:"Dismiss"})]})]})}try{d.displayName||(d.displayName="Confirmation")}catch{}},23398:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(74848),o=n(38621),a=n(75177),i=n(30595),s=n(57938);function l(e){let{isLoading:t,isError:n,hasUnreadMessages:l,fill:c,bg:d,borderColor:u,customIcon:m,mode:p}=e,h=!!s.W.copilotImmersiveV1&&!!p&&"immersive"===p;return(0,r.jsxs)(a.A,{sx:{borderRadius:"100%",position:h?"absolute":"relative",bg:h?"":d||(n?"attention.subtle":"canvas.subtle"),width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center",border:h?"":"1px solid",borderColor:h?"":u||(n?"attention.muted":"border.default"),color:c||(t?"accent.fg":h?"fg.muted":"fg.default"),flexShrink:0,left:h?"-24px":"0",top:h?"21px":"0"},children:[(0,r.jsx)(a.A,{sx:{position:"absolute",display:t?"flex":"none"},children:(0,r.jsx)(i.A,{size:"medium",sx:{width:24,height:24,color:"accent.fg"}})}),l&&(0,r.jsx)(a.A,{className:"unread-indicator",sx:{width:"10px",height:"10px",left:"16px",top:"-2px",borderColor:"canvas.default"}}),m||(0,r.jsx)(o.CopilotIcon,{size:h?24:12}),n?(0,r.jsx)(a.A,{sx:{position:"absolute",bottom:0,right:0,transform:"translate(4px,4px)",color:"attention.fg"},children:(0,r.jsx)(o.AlertFillIcon,{size:12})}):null]})}try{l.displayName||(l.displayName="CopilotBadge")}catch{}},11963:(e,t,n)=>{n.d(t,{J:()=>m});var r=n(74848),o=n(16255),a=n(75177),i=n(82560),s=n(34614),l=n(67749),c=n(86079),d=n(96540),u=n(88043);let m=({onDismiss:e,experimentsDialogRef:t})=>{let[n,m]=(0,d.useState)(()=>(0,u.f)().join(",")),[p,h]=(0,d.useState)(void 0),f=(0,d.useRef)("\u200B"),g=()=>{let t=[];for(let e of n.split(","))if(""!==e.trim()){if(2!==e.split("=").length){h(`Invalid experiment key=value pair${f.current}`),f.current+="\u200B";return}h(""),t.push(e)}(0,u.R)(t),e()};return(0,r.jsx)(o.Z,{children:(0,r.jsxs)(c.l,{ref:t,onClose:e,title:"Experiments",width:"xlarge",children:[(0,r.jsx)(c.l.Body,{children:(0,r.jsx)(a.A,{sx:{p:3},children:(0,r.jsxs)(i.A,{children:[(0,r.jsx)(i.A.Label,{children:"Experiments"}),(0,r.jsx)(i.A.Caption,{children:(0,r.jsxs)("span",{children:["List experiments as comma separated ",(0,r.jsx)("code",{children:"key=value"})," pairs. To see available experiments,"," ",(0,r.jsx)(s.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),(0,r.jsx)(l.A,{sx:{width:"100%",my:2},"aria-label":"Experiments",name:"experiments",value:n,onChange:e=>m(e.target.value),onKeyDown:e=>{"Enter"===e.key&&g()}}),p&&(0,r.jsx)(i.A.Validation,{variant:"error",children:p})]})})}),(0,r.jsx)(c.l.Footer,{children:(0,r.jsx)(c.l.Buttons,{buttons:[{type:"button",onClick:e,content:"Cancel"},{type:"submit",onClick:g,content:"Save",buttonType:"primary"}]})})]})})};try{m.displayName||(m.displayName="ExperimentsDialog")}catch{}},35978:(e,t,n)=>{n.d(t,{G:()=>C});var r=n(74848),o=n(38621),a=n(87330),i=n(61797),s=n(96540),l=n(57938),c=n(61053),d=n(91078),u=n(695),m=n(75177),p=n(52464),h=n(19797),f=n(82560),g=n(65607),x=n(61043),b=n(55847);let y=({feedbackType:e,onClose:t,onSubmit:n,formLabel:o})=>{let a="NEGATIVE"===e,i=(0,s.useRef)(null),l=(0,d.b)(),{message:c}=(0,u.V)(),y=c.id,A=c.threadID,C=(0,s.useCallback)(e=>{e?.stopPropagation(),"Escape"===e.key&&t()},[t]),j=(0,s.useCallback)(async t=>{t.preventDefault();let r=new FormData(i.current),o=r.get("text_response").trim().substring(0,500),a=r.getAll("response_type[]");await l.service.sendFeedback({feedback:e,feedbackChoice:a,messageId:y,threadId:A,textResponse:o}),n()},[l.service,e,y,A,n]);return(0,r.jsxs)(m.A,{sx:{p:3},as:"form",name:`form-${y}`,onKeyDown:C,onSubmit:j,ref:i,"aria-labelledby":o,children:[(0,r.jsx)(p.A,{as:"p",sx:{m:0},id:`description-${y}`,children:"Please help us improve GitHub Copilot by sharing more details about this response."}),a&&(0,r.jsxs)(h.A,{sx:{mt:3},"aria-describedby":`description-${y}`,children:[(0,r.jsx)(h.A.Label,{sx:{fontSize:1,fontWeight:"bold"},children:"This response is\u2026"}),(0,r.jsxs)(f.A,{children:[(0,r.jsx)(g.A,{value:"offensive_or_discriminatory",name:"response_type[]",autoFocus:!0}),(0,r.jsx)(f.A.Label,{sx:{fontWeight:"normal"},children:"harmful or unsafe"})]}),(0,r.jsxs)(f.A,{children:[(0,r.jsx)(g.A,{value:"poorly_formatted",name:"response_type[]"}),(0,r.jsx)(f.A.Label,{sx:{fontWeight:"normal"},children:"poorly formatted"})]}),(0,r.jsxs)(f.A,{children:[(0,r.jsx)(g.A,{value:"not_true",name:"response_type[]"}),(0,r.jsx)(f.A.Label,{sx:{fontWeight:"normal"},children:"not true"})]}),(0,r.jsxs)(f.A,{children:[(0,r.jsx)(g.A,{value:"unhelpful",name:"response_type[]"}),(0,r.jsx)(f.A.Label,{sx:{fontWeight:"normal"},children:"not helpful"})]})]}),a&&(0,r.jsxs)(f.A,{sx:{mt:3},id:`textarea-${y}`,children:[(0,r.jsx)(f.A.Label,{sx:{fontSize:1},children:"How could we improve this response?"}),(0,r.jsx)(x.Ay,{"aria-describedby":`textarea-${y}-caption feedback-description`,block:!0,name:"text_response"})]}),(0,r.jsx)(m.A,{sx:{display:"flex",justifyContent:"flex-end",mt:3},children:(0,r.jsx)(b.Q,{variant:"primary",type:"submit",children:"Submit feedback"})})]},`form-${y}`)};try{y.displayName||(y.displayName="FeedbackForm")}catch{}let A="copilot-feedback-header",C=({returnFocusRef:e,setParentFocusZoneEnabled:t,onFeedbackSubmitted:n})=>{let{message:m}=(0,u.V)(),p=m.id,h=m.threadID,f=(0,d.b)(),{optedInToUserFeedback:g}=(0,c.Pk)(),[x,b]=(0,s.useState)(!0),[C,j]=(0,s.useState)(void 0),[v,S]=(0,s.useState)(!1),N=l.W.copilotImmersiveV1,w=(0,s.useCallback)(async n=>{t?.(!0),e.current?.focus(),await f.service.sendFeedback({feedback:n||C,messageId:p,threadId:h}),b(!1)},[f.service,p,e,t,C,h]),I=(0,s.useCallback)(()=>{t?.(!0),e.current?.focus(),b(!1)},[e,t]);return(0,r.jsxs)(r.Fragment,{children:[C?(0,r.jsx)(a.K,{"aria-label":`${"POSITIVE"===C?"positive":"negative"} feedback submitted`,icon:"POSITIVE"===C?o.ThumbsupIcon:o.ThumbsdownIcon,variant:"invisible",size:N?"medium":"small",disabled:!0,sx:{color:"fg.default",bg:"canvas.subtle"}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.K,{disabled:!x,icon:o.ThumbsupIcon,"aria-label":"Good response",onClick:()=>{j("POSITIVE"),n?.(),w("POSITIVE")},variant:"invisible",size:N?"medium":"small",className:"feedback-action"}),(0,r.jsx)(a.K,{disabled:!x,icon:o.ThumbsdownIcon,size:N?"medium":"small","aria-label":"Bad response",onClick:()=>{j("NEGATIVE"),n?.(),g?S(!0):w("NEGATIVE")},variant:"invisible",className:"feedback-action","data-testid":"feedback-negative-button"})]}),"NEGATIVE"===C&&x&&g&&(0,r.jsxs)(i.A,{returnFocusRef:e,isOpen:v,onDismiss:()=>{t?.(!0),S(!1)},"aria-labelledby":A,"data-testid":"feedback-dialog",sx:{overflowX:"hidden",overflowY:"auto"},children:[(0,r.jsx)(i.A.Header,{id:A,children:"Provide additional feedback"}),(0,r.jsx)(y,{feedbackType:C,onClose:w,onSubmit:I,formLabel:A})]})]})};try{C.displayName||(C.displayName="Feedback")}catch{}},21176:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(74848),o=n(57938),a=n(61053),i=n(19774);let s=({functionCall:e,manager:t,panelWidth:n})=>{let{functionMetadata:s,functionRenderer:l,parsedArgs:c}=(0,i.BO)(e),{mode:d}=(0,a.Pk)(),u="immersive"===d&&!o.W.copilotImmersiveV1;return(0,r.jsx)(r.Fragment,{children:e&&s&&l&&c&&l(e,s,t,n,c,u)})};try{s.displayName||(s.displayName="FunctionCallBadge")}catch{}},19774:(e,t,n)=>{n.d(t,{WA:()=>ej,gB:()=>ev,BO:()=>eC});var r=n(74848),o=n(24116),a=n(51848),i=n(36062),s=n(67726),l=n(38621),c=n(30631),d=n(75177),u=n(84217),m=n(52464),p=n(55847),h=n(34614),f=n(96540),g=n(89426),x=n(88365),b=n(30595),y=n(16823),A=n(30729),C=n(76206),j=n(61053);let v={functionReferenceListContainer:"FunctionLoadingUtils-module__functionReferenceListContainer--nLEFp",functionLoading:"FunctionLoadingUtils-module__functionLoading--ksfrz",functionReferenceButton:"FunctionLoadingUtils-module__functionReferenceButton--RThXV",functionReferenceButtonContents:"FunctionLoadingUtils-module__functionReferenceButtonContents--p5oMB",functionReferenceTitle:"FunctionLoadingUtils-module__functionReferenceTitle--P1oyO",functionReferenceListFooter:"FunctionLoadingUtils-module__functionReferenceListFooter--xNrSv"};function S({chatManager:e,functionCall:t,skillArgs:n}){let o=n.query;return(0,r.jsx)(z,{additionalFooterContent:(0,r.jsx)(h.A,{href:"https://privacy.microsoft.com/en-us/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"}),chatManager:e,errorButtonText:`An error occurred when searching for \u{201C}${o}\u{201D}`,errorTitle:"An error occurred when searching the web",toolLink:"https://bing.com",toolName:"Bing search",functionCall:t,inProgressMessage:`Searching the web for \u{201C}${o}\u{201D}`,noResultsMessage:`No web search results for \u{201C}${o}\u{201D} were found`,resultsMapper:e=>(e.references?.[0]?.results??[]).map(e=>({title:e.title,url:e.url,description:e.excerpt})),successButtonText:`Using web search results for \u{201C}${o}\u{201D}`,useSelectReference:!1})}function N({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=n.query,i=n.scopingQuery;i&&(i=Y(i));let s="semanticsearch"===n.kind?"semantic":"lexicalsearch"===n.kind?"lexical":"code";return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when searching for \u{201C}${a}\u{201D}`,errorTitle:"An error occurred when searching code",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:`${s.charAt(0).toUpperCase()+s.slice(1)} search`,functionCall:t,inProgressMessage:`Searching for \u{201C}${a}\u{201D}${i&&` in ${i}`}`,noResultsMessage:`No results were found when ${s} searching for \u{201C}${a}\u{201D}${i&&` in ${i}`}`,resultsMapper:X,successButtonText:`Using ${s} search results for \u{201C}${a}\u{201D}${i&&` in ${i}`}`,useSelectReference:o})}function w({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=n.query,i=n.kbID,{knowledgeBases:s}=(0,j.Pk)(),l=s.find(e=>e.id===i),c=l?.name??"the knowledge base";return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when searching for \u{201C}${a}\u{201D} in ${c}`,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:t,inProgressMessage:`Searching the ${c} knowledge base for \u{201C}${a}\u{201D}`,noResultsMessage:`No results were found when searching the ${c} knowledge base for \u{201C}${a}\u{201D}`,resultsMapper:X,successButtonText:`Using search results from the ${c} knowledge base for \u{201C}${a}\u{201D}`,useSelectReference:o})}function I({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=n.query;return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when searching for \u{201C}${a}\u{201D} in knowledge bases`,errorTitle:"An error occurred when searching the knowledge base",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Knowledge base search",functionCall:t,inProgressMessage:`Searching in knowledge bases for \u{201C}${a}\u{201D}`,noResultsMessage:`No results were found when searching in knowledge bases for \u{201C}${a}\u{201D}`,resultsMapper:X,successButtonText:`Using search results from knowledge bases for \u{201C}${a}\u{201D}`,useSelectReference:o})}function R({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=n.filename,i=n.scopingQuery;return a=a?a.split("/").pop()??a:"unknown",i&&(i=Y(i)),(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when finding \u{201C}${a}\u{201D}`,errorTitle:"An error occurred when searching for a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Path search",functionCall:t,inProgressMessage:`Finding \u{201C}${a}\u{201D}${i&&` in ${i}`}`,noResultsMessage:`No files matching \u{201C}${a}\u{201D}${i&&` in ${i}`} were found`,resultsMapper:e=>(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:`${e.repoOwner}/${e.repoName}`,leadingIcon:l.FileIcon,reference:e,title:(0,C.Xo)(e),url:e.url}:void 0),successButtonText:`Using \u{201C}${a}\u{201D}${i&&` in ${i}`}`,useSelectReference:o})}function T({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let{path:a,repo:i,ref:s}=n;return(0,r.jsx)(z,{chatManager:e,errorButtonText:L(`An error occurred when finding \u{201C}${a}\u{201D} in ${i}`,s),errorTitle:"An error occurred when finding a file",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file",functionCall:t,inProgressMessage:L(`File results for \u{201C}${a} in ${i}`,s),noResultsMessage:L(`No files matching \u{201C}${a}\u{201D} in ${i} were found`,s),resultsMapper:e=>(e.references??[]).map(e=>"file-v2"===e.type?{description:`${e.repoName}/${e.path}`,leadingIcon:l.FileIcon,reference:e,title:(0,C.Xo)(e),url:e.url}:void 0),successButtonText:L(`Using results for \u{201C}${a}\u{201D} in ${i}`,s),useSelectReference:o})}function E({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let{path:a,repo:i,ref:s}=n;return(0,r.jsx)(z,{chatManager:e,errorButtonText:L(`An error occurred when finding file changes for \u{201C}${a}\u{201D} in ${i}`,s),errorTitle:"An error occurred when finding the file changes",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get file changes",functionCall:t,inProgressMessage:L(`File changes results for \u{201C}${a} in ${i}`,s),noResultsMessage:L(`No files changes were found for \u{201C}${a}\u{201D} in ${i}`,s),resultsMapper:e=>(e.references??[]).map(e=>"file-changes"===e.type?{description:`${e.repository.name}/${a}`,leadingIcon:l.FileIcon,reference:e,title:(0,C.Xo)(e),url:e.url}:void 0),successButtonText:L(`Using results for \u{201C}${a}\u{201D} in ${i}`,s),useSelectReference:o})}let L=(e,t)=>t?`${e} on ref ${t}`:e;function k({chatManager:e,functionCall:t,skillArgs:n}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching issue #${n.issueNumber} in ${n.repo}`,errorTitle:"An error occurred when fetching an issue",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get issue",functionCall:t,inProgressMessage:`Fetching issue #${n.issueNumber} in ${n.repo}`,noResultsMessage:`Unable to fetch issue #${n.issueNumber} in ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"issue"===e.type?{description:`#${e.number} \xb7 ${e.repository.owner}/${e.repository.name}`,leadingIcon:"open"===e.state?l.IssueOpenedIcon:l.IssueClosedIcon,leadingIconColor:"open"===e.state?"open.fg":"done.fg",title:e.title??"Issue",url:e.url}:void 0),successButtonText:`Using issue #${n.issueNumber} in ${n.repo}`,useSelectReference:!1})}function O({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=n.tagName||"";return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching release ${a} in ${n.repo}`,errorTitle:"An error occurred when fetching release",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get release",functionCall:t,inProgressMessage:`Fetching release ${a} in ${n.repo}`,noResultsMessage:`Unable to fetch release ${a} in ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"release"===e.type?{description:`Release ${a} \xb7 ${e.repository.owner}/${e.repository.name}`,leadingIcon:l.TagIcon,title:e.name??"Release",url:e.url}:void 0),successButtonText:`Using release ${a} in ${n.repo}`,useSelectReference:o})}function P({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=n.symbolName,i=n.scopingQuery;return i=i?Y(i):"",(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when searching for symbol \u{201C}${a}\u{201D} in ${i}`,errorTitle:"An error occurred when retrieving issues",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Symbol search",functionCall:t,inProgressMessage:`Searching for symbol \u{201C}${a}\u{201D} in ${i}`,noResultsMessage:`No results were found when searching for symbol \u{201C}${a}\u{201D} in ${i}`,resultsMapper:X,successButtonText:`Using search results for the symbol \u{201C}${a}\u{201D} from ${i}`,useSelectReference:o})}function D({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching alert information for ${n.url}`,errorTitle:"An error occurred when fetching alert information",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get alert information",functionCall:t,inProgressMessage:"Fetching alert information",noResultsMessage:"Unable to fetch alert information",resultsMapper:e=>(e.references??[]).map(e=>"alert.api"===e.type?{description:"Alert",leadingIcon:()=>(0,r.jsx)(l.ShieldIcon,{}),title:"Alert"}:void 0),successButtonText:"Using alert information",useSelectReference:o})}function M({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching commits for pull request #${n.pullRequestNumber} in ${n.repo}`,errorTitle:"An error occurred when fetching commits for a pull request",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get pull request commits",functionCall:t,inProgressMessage:`Fetching commits for pull request #${n.pullRequestNumber} in ${n.repo}`,noResultsMessage:`Unable to fetch commits for pull request #${n.pullRequestNumber} in ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"commit"===e.type?{description:`Pull request #${n.pullRequestNumber} \xb7 ${n.repo}`,leadingIcon:l.GitCommitIcon,title:e.message??"Commit",url:e.permalink}:void 0),successButtonText:`Using commits for pull request #${n.pullRequestNumber} in ${n.repo}`,useSelectReference:o})}function B({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching commit ${n.commitish} in ${n.repo}`,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get commit",functionCall:t,inProgressMessage:`Fetching commit ${n.commitish} in ${n.repo}`,noResultsMessage:`Unable to fetch commit ${n.commitish} in ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"commit"===e.type?{description:`${e.oid} \xb7 ${e.repository.owner}/${e.repository.name}`,leadingIcon:l.GitCommitIcon,title:e.message??"Commit",url:e.permalink}:void 0),successButtonText:`Using commit ${n.commitish} in ${n.repo}`,useSelectReference:o})}function _({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching repository ${n.repo}`,errorTitle:"An error occurred when fetching repository",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get repository",functionCall:t,inProgressMessage:`Fetching repository ${n.repo}`,noResultsMessage:`Unable to fetch repository ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"repository"===e.type?{description:e.description||"",title:e.name,leadingIcon:l.RepoIcon}:void 0),successButtonText:`Using repository ${n.repo}`,useSelectReference:o})}function $({chatManager:e,functionCall:t,useSelectReference:n}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:"An error occurred when trying to fetch diff",errorTitle:"An error occurred when fetching diff",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get diff",functionCall:t,inProgressMessage:"Fetching diff..",noResultsMessage:"Unable to fetch diff",resultsMapper:e=>(e.references??[]).map(e=>"tree-comparison"===e.type?{title:"Displaying diff",description:`Using ${e.diffHunks.length} diff ${1===e.diffHunks.length?"hunk":"hunks"}`}:void 0),successButtonText:"Using results of getdiff call",useSelectReference:n})}function F({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:"An error occurred when diff by range",errorTitle:"An error occurred when fetching diff by range",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get diff by range",functionCall:t,inProgressMessage:`Fetching diff in ${n.repo}`,noResultsMessage:`Unable to fetch diff in ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"tree-comparison"===e.type?{title:`Displaying diff in ${n.repo}`,description:`Using ${e.diffHunks.length} diff ${1===e.diffHunks.length?"hunk":"hunks"}`}:void 0),successButtonText:`Using diff in ${n.repo}`,useSelectReference:o})}function G({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:"An error occurred when fetching discussion",errorTitle:"An error occurred when fetching discussion",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get discussion",functionCall:t,inProgressMessage:`Fetching discussion ${n.discussionNumber}`,noResultsMessage:`Unable to fetch discussion ${n.discussionNumber}`,resultsMapper:e=>(e.references??[]).map(e=>"discussion"===e.type?{title:e.title??"Discussion",description:`Using discussion #${e.number} for ${e.repository.owner}/${e.repository.name}`,url:e.url,leadingIcon:l.CommentDiscussionIcon}:void 0),successButtonText:`Using discussion #${n.discussionNumber}`,useSelectReference:o})}function U({functionCall:e}){let{status:t}=e;if("started"===t)return(0,r.jsxs)("div",{className:v.functionLoading,children:[(0,r.jsx)(b.A,{size:"small"})," Coming up with a plan"]})}function H({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a=W(n);return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching logs for ${a} in ${n.repo}`,errorTitle:"An error occurred when fetching a commit",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get job logs",functionCall:t,inProgressMessage:`Fetching logs for ${a} in ${n.repo}`,noResultsMessage:`Unable to fetch logs for ${a} in ${n.repo}`,resultsMapper:e=>(e.references??[]).filter(e=>"job"===e.type).map(e=>({description:`${e.id} \xb7 ${e.repoOwner}/${e.repoName}`,leadingIcon:l.PlayIcon,title:"Job"})),successButtonText:`Using logs for ${a} in ${n.repo}`,useSelectReference:o})}function W(e){return e.jobId?`job ${e.jobId}`:e.runId?`workflow run ${e.runId}`:e.pullRequestNumber?`pull request ${e.pullRequestNumber}`:e.workflowPath?`workflow ${e.workflowPath}`:"unknown job"}function z({additionalFooterContent:e,chatManager:t,errorButtonText:n,errorTitle:o,functionCall:a,inProgressMessage:i,noResultsMessage:s,resultsMapper:d,successButtonText:u,toolLink:m,toolName:h,useSelectReference:g}){let[x,C]=(0,f.useState)(!1),j=(0,f.useId)(),S=d(a),{status:N,errorMessage:w}=a;if(a.references?.length===1){let e=a.references[0];if(e)switch(e.type){case"text":N="error",w=e.text;break;case"unsupported":N="unsupported",w=e.text}}return"started"===N?(0,r.jsxs)("div",{className:v.functionLoading,children:[(0,r.jsx)(b.A,{size:"small"})," ",i]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Q,{"aria-expanded":x,"aria-controls":j,className:v.functionReferenceButton,leadingVisual:x?l.ChevronUpIcon:l.ChevronDownIcon,onClick:()=>C(e=>!e),variant:"invisible",sx:{marginBottom:1},children:(0,r.jsx)("span",{className:v.functionReferenceButtonContents,children:"error"===N?n:"unsupported"===N?s:u})}),x&&(0,r.jsxs)("div",{id:j,className:v.functionReferenceListContainer,children:[(0,r.jsx)(y.l,{children:"error"===N?(0,r.jsxs)(y.l.Item,{children:[o,(0,r.jsx)(y.l.Description,{variant:"block",children:w})]}):"unsupported"===N?(0,r.jsxs)(y.l.Item,{children:[w,(0,r.jsx)(y.l.Description,{children:""})]}):0===S.length?(0,r.jsxs)(y.l.Item,{children:[s,(0,r.jsx)(y.l.Description,{children:"Try modifying your query by reframing your question."})]}):S.map((e,n)=>e&&(0,r.jsxs)(y.l.LinkItem,{className:"width-fit",href:e.url,onClick:n=>{g&&e.reference&&(t.selectReference(e.reference),n.preventDefault())},target:"_blank",rel:"noopener",children:[e.leadingIcon&&(0,r.jsx)(y.l.LeadingVisual,{children:(0,r.jsx)(A.A,{icon:e.leadingIcon,sx:{...e.leadingIconColor&&{color:e.leadingIconColor}}})}),(0,r.jsx)(c.A,{className:v.functionReferenceTitle,title:e.title,children:e.title}),(0,r.jsx)(y.l.Description,{variant:"block",children:e.description})]},n))}),(0,r.jsxs)("span",{className:v.functionReferenceListFooter,children:["Copilot used the"," ",(0,r.jsx)("a",{href:m,target:"_blank",rel:"noopener noreferrer",children:h})," ","tool",e&&(0,r.jsxs)(r.Fragment,{children:[". ",e]})]})]})]})}function V({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){return(0,r.jsx)(z,{chatManager:e,errorButtonText:`An error occurred when fetching pull request #${n.pullRequestNumber} in ${n.repo}`,errorTitle:"An error occurred when fetching commits for a pull request",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:"Get pull request",functionCall:t,inProgressMessage:`Fetching pull request #${n.pullRequestNumber} in ${n.repo}`,noResultsMessage:`Unable to fetch pull request #${n.pullRequestNumber} in ${n.repo}`,resultsMapper:e=>(e.references??[]).map(e=>"pull-request"===e.type?{description:`Pull request #${n.pullRequestNumber} \xb7 ${n.repo}`,leadingIcon:l.GitPullRequestIcon,title:e.title??"PullRequest",url:e.url}:void 0),successButtonText:`Using pull request #${n.pullRequestNumber} in ${n.repo}`,useSelectReference:o})}function K({chatManager:e,functionCall:t,skillArgs:n,useSelectReference:o}){let a="GitHub API",i=t.references?.[0];if(i){let e=i.type;if(e.endsWith(".api")){let t=e.split(".")[0];t&&(a=`${t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")} API`)}else"api-response"===i.type&&(a=`${i.resourceType} API`)}let s=n.endpointDescription?{errorButtonText:`An error occurred when using the GitHub API to ${n.endpointDescription}`,inProgressMessage:`Using the GitHub API to ${n.endpointDescription}`,noResultsMessage:`Unable to use the GitHub API to ${n.endpointDescription}`,successButtonText:`Using the GitHub API to ${n.endpointDescription}`}:{errorButtonText:`An error occurred when fetching from ${n.endpoint}`,inProgressMessage:`Fetching endpoint ${n.endpoint}`,noResultsMessage:`Unable to fetch from ${n.endpoint}`,successButtonText:`Using endpoint ${n.endpoint}`};return(0,r.jsx)(z,{chatManager:e,errorTitle:"An error occurred when fetching data from the GitHub API",toolLink:"https://docs.github.com/en/enterprise-cloud@latest/copilot/github-copilot-enterprise/copilot-chat-in-github/using-github-copilot-chat-in-githubcom#currently-available-skills",toolName:a,functionCall:t,errorButtonText:s.errorButtonText,inProgressMessage:s.inProgressMessage,noResultsMessage:s.noResultsMessage,successButtonText:s.successButtonText,useSelectReference:o,resultsMapper:e=>e.references?.filter(e=>"text"!==e.type).map(e=>(function(e,t){switch(e.type){case"release.api":return{description:`Release ${e.tag_name} \xb7 ${t.repo}`,leadingIcon:l.TagIcon,title:e.name??"Release",url:e.html_url};case"issue.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:l.IssueOpenedIcon,title:e.title??"Issue",url:e.html_url};case"pull-request.api":return{description:`#${e.number} \xb7 ${t.repo}`,leadingIcon:l.GitPullRequestIcon,title:e.title??"Pull request",url:e.html_url};case"repository.api":return{description:e.description||"",title:e.name,leadingIcon:l.RepoIcon,url:e.html_url};case"commit.api":return{description:`${e.sha} \xb7 ${t.repo}`,leadingIcon:l.GitCommitIcon,title:e.commit.message??"Commit",url:e.html_url};case"topic.api":return{description:e.short_description||"",leadingIcon:l.HashIcon,title:e.display_name??e.name};case"api-response":switch(e.resourceType){case"Repository":return{description:e.data.description||"",title:e.data.name,leadingIcon:l.RepoIcon,url:e.data.html_url};case"Issue":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:l.IssueOpenedIcon,title:e.data.title??"Issue",url:e.data.html_url};case"Release":return{description:`Release ${e.data.tag_name} \xb7 ${t.repo}`,leadingIcon:l.TagIcon,title:e.data.name??"Release",url:e.data.html_url};case"PullRequest":return{description:`#${e.data.number} \xb7 ${t.repo}`,leadingIcon:l.GitPullRequestIcon,title:e.data.title??"Pull request",url:e.data.html_url};case"Commit":return{description:`${e.data.sha} \xb7 ${t.repo}`,leadingIcon:l.GitCommitIcon,title:e.data.commit.message??"Commit",url:e.data.html_url};case"Topic":return{description:e.data.short_description||"",leadingIcon:l.HashIcon,title:e.data.display_name??e.data.name};default:return{description:"API endpoint returned results successfully",leadingIcon:l.InfoIcon,title:"API results"}}default:return{description:"API endpoint returned results successfully",leadingIcon:l.InfoIcon,title:"API results"}}})(e,n))??[]})}let q="https://docs.github.com/en/support/contacting-github-support/using-copilot-in-github-support";function J({chatManager:e,functionCall:t,skillArgs:n}){let o=n.rawUserQuery;return(0,r.jsx)(z,{additionalFooterContent:(0,r.jsx)(h.A,{href:q,rel:"nofollow",target:"_blank",children:"Information on using Copilot in GitHub Support"}),chatManager:e,errorButtonText:`An error occurred when searching for \u{201C}${o}\u{201D}`,errorTitle:"An error occurred when searching support documents",toolLink:q,toolName:"Support Search",functionCall:t,inProgressMessage:`Searching support documents for \u{201C}${o}\u{201D}`,noResultsMessage:`No support documents for \u{201C}${o}\u{201D} were found`,resultsMapper:e=>(e.references?.[0]?.results??[]).map(e=>({title:e.title,url:e.url,description:e.url})),successButtonText:`Using support search results for \u{201C}${o}\u{201D}`,useSelectReference:!1})}function Y(e){return e.startsWith("repo:")?e.substring(5):e}function X(e){return(e.references??[]).map(e=>"file"===e.type||"snippet"===e.type?{description:(0,C.Z8)(e),leadingIcon:l.CodeIcon,reference:e,title:(0,C.z$)(e),url:e.url}:void 0)}try{S.displayName||(S.displayName="BingFunctionButton")}catch{}try{N.displayName||(N.displayName="CodeSearchButton")}catch{}try{w.displayName||(w.displayName="KnowledgeBaseSearchButton")}catch{}try{I.displayName||(I.displayName="KnowledgeBaseRepoSearchButton")}catch{}try{R.displayName||(R.displayName="PathSearchButton")}catch{}try{T.displayName||(T.displayName="GetFileButton")}catch{}try{E.displayName||(E.displayName="GetFileChangesButton")}catch{}try{k.displayName||(k.displayName="GetIssueButton")}catch{}try{O.displayName||(O.displayName="GetReleaseButton")}catch{}try{P.displayName||(P.displayName="SymbolSearchButton")}catch{}try{D.displayName||(D.displayName="GetAlertButton")}catch{}try{M.displayName||(M.displayName="GetPullRequestCommitsButton")}catch{}try{B.displayName||(B.displayName="GetCommitButton")}catch{}try{_.displayName||(_.displayName="GetRepoButton")}catch{}try{$.displayName||($.displayName="GetDiffButton")}catch{}try{F.displayName||(F.displayName="GetDiffByRangeButton")}catch{}try{G.displayName||(G.displayName="GetDiscussionButton")}catch{}try{U.displayName||(U.displayName="PlanButton")}catch{}try{H.displayName||(H.displayName="GetJobLogsButton")}catch{}try{z.displayName||(z.displayName="ExpandableFunctionButton")}catch{}try{V.displayName||(V.displayName="GetPullRequestButton")}catch{}try{K.displayName||(K.displayName="GetGitHubDataButton")}catch{}try{J.displayName||(J.displayName="SupportSearchButton")}catch{}let Q=()=>(0,r.jsx)(l.SearchIcon,{}),Z=()=>(0,r.jsx)(l.FileIcon,{}),ee=()=>(0,r.jsx)(l.FileIcon,{}),et=()=>(0,r.jsx)(l.CodeSquareIcon,{}),en=()=>(0,r.jsx)(l.IssueOpenedIcon,{}),er=()=>(0,r.jsx)(l.GitCommitIcon,{}),eo=()=>(0,r.jsx)(l.TagIcon,{}),ea=()=>(0,r.jsx)(l.RepoIcon,{}),ei=()=>(0,r.jsx)(l.PlayIcon,{}),es=()=>(0,r.jsx)(l.DiffIcon,{}),el=()=>(0,r.jsx)(l.BookIcon,{}),ec=()=>(0,r.jsx)(l.CommentDiscussionIcon,{}),ed=()=>(0,r.jsx)(l.GitPullRequestIcon,{}),eu=()=>(0,r.jsx)(l.TasklistIcon,{}),em="responding",ep=e=>{switch(e.kind){case"bing-search":return{id:"bing-search",referenceType:"web-search",loadingText:`Using Bing to search for "${e.query}"`,completedText:`Bing results for "${e.query}"`,icon:o._,name:"Bing search",activeSkillText:"searching Bing"};case"codesearch":case"lexicalsearch":case"semanticsearch":return{id:"codesearch",loadingText:`Search for "${e.query}" in "${e.scopingQuery}"`,completedText:`Search results for "${e.query}" in "${e.scopingQuery}"`,icon:Q,name:"Code search",activeSkillText:"searching the codebase"};case"kb-search":return{id:"kb-search",loadingText:`Searching for "${e.query}" in the knowledge base`,completedText:`Knowledge base search results for "${e.query}"`,icon:el,name:"Knowledge base search",activeSkillText:"searching the knowledge base"};case"kb-repo-search":return{id:"kb-repo-search",loadingText:`Searching for "${e.query}" in knowledge bases`,completedText:`Knowledge base repository search results for "${e.query}"`,icon:el,name:"Knowledge base repository search",activeSkillText:"searching available knowledge base"};case"githubissuecreate":return{id:"githubissuecreate",loadingText:"Create issue",completedText:"Create issue",icon:en,name:"List issues",activeSkillText:"retrieving issues"};case"pathsearch":return{id:"pathsearch",loadingText:`Reading file "${e.filename}" in "${e.scopingQuery}"`,completedText:`File contents for "${e.filename}" in "${e.scopingQuery}"`,icon:Z,name:"File search",activeSkillText:"searching for files"};case"show-symbol-definition":return{id:"show-symbol-definition",loadingText:`Search for "${e.symbolName}" in "${e.scopingQuery}"`,completedText:`Search results for "${e.symbolName}" in "${e.scopingQuery}"`,icon:et,name:"Symbol search",activeSkillText:"searching for symbols"};case"getissue":return{id:"getissue",loadingText:`Retrieving issue #${e.issueNumber} in ${e.repo}`,completedText:`Issue #${e.issueNumber} in ${e.repo}`,icon:en,name:"Get issue",activeSkillText:"getting issue"};case"getalert":return{id:"getalert",loadingText:"Retrieving information about alerts",completedText:"Including information about alerts",icon:()=>(0,r.jsx)(l.ShieldIcon,{}),name:"Get alert",activeSkillText:"getting alert"};case"getprcommits":return{id:"getprcommits",loadingText:`Retrieving commits for pull request #${e.pullRequestNumber} in ${e.repo}`,completedText:`Commits for pull request #${e.pullRequestNumber} in ${e.repo}`,icon:er,name:"Get pull request commits",activeSkillText:"getting pull request commits"};case"getcommit":return{id:"getcommit",loadingText:`Retrieving commit #${e.commitish} in ${e.repo}`,completedText:`Commit #${e.commitish} in ${e.repo}`,icon:er,name:"Get commit",activeSkillText:"getting commit"};case"getrelease":{let t=e.tagName||"";return{id:"getrelease",loadingText:`Retrieving release ${t} in ${e.repo}`,completedText:`Release ${t} in ${e.repo}`,icon:eo,name:"Get release",activeSkillText:"getting release"}}case"get-github-data":return{id:"get-github-data",loadingText:`Fetching ${e.endpoint}`,completedText:`Results of ${e.endpoint}`,icon:eo,name:"Get GitHub Data",activeSkillText:"getting data"};case"getrepo":return{id:"getrepo",loadingText:`Fetching information about ${e.repo}`,completedText:`Details about ${e.repo}`,icon:ea,name:"Get repository",activeSkillText:"getting repository details"};case"get-actions-job-logs":{let t=W(e),n=t.charAt(0).toUpperCase()+t.slice(1);return{id:"get-actions-jog-logs",loadingText:`Retrieving ${t} in ${e.repo}`,completedText:`${n} in ${e.repo}`,icon:ei,name:"Get job logs",activeSkillText:"getting job logs"}}case"getdiff":return{id:"getdiff",loadingText:"Fetching diff",completedText:"Details about diff",icon:es,name:"Get diff",activeSkillText:"getting diff"};case"getdiscussion":return{id:"getdiscussion",loadingText:`Fetching discussion ${e.discussionNumber}`,completedText:`Details about discussion #${e.discussionNumber}`,icon:ec,name:"Get discussion",activeSkillText:"getting discussion"};case"get-diff-by-range":return{id:"get-diff-by-range",loadingText:"Fetching diff",completedText:"Using results of get diff by range",icon:es,name:"Get diff by range",activeSkillText:"getting diff by range"};case"getfile":return{id:"getfile",loadingText:"Searching for file",completedText:"Using results of get file",icon:ee,name:"Get file",activeSkillText:"searching for file"};case"getfilechanges":return{id:"getfilechanges",loadingText:"Searching for file changes",completedText:`File changes for ${e.path} in ${e.repo}`,icon:ee,name:"Get file changes",activeSkillText:"searching for file changes"};case"getpullrequest":return{id:"getpullrequest",loadingText:"Fetching pull request",completedText:"Using results of get pull request",icon:ed,name:"Get pull request",activeSkillText:"getting pull request"};case"planskill":return{id:"planskill",loadingText:"Creating plan...",completedText:"Plan created",icon:eu,name:"Plan skill",activeSkillText:"creating plan"};case"support-search":return{id:"supportsearch",loadingText:"Searching for support documents",completedText:"Using results of support search",icon:el,name:"Support search",activeSkillText:"searching for support documents"}}};function eh({maxWidth:e,functionMetadata:t}){return(0,r.jsxs)(r.Fragment,{children:[t.icon(),(0,r.jsx)(c.A,{title:t.completedText,sx:{maxWidth:e},children:t.completedText})]})}function ef({maxWidth:e,functionMetadata:t}){return(0,r.jsxs)(r.Fragment,{children:[t.icon(),(0,r.jsx)(c.A,{title:t.loadingText,sx:{maxWidth:e},children:t.loadingText})]})}function eg({functionCall:e,functionMetadata:t}){return(0,r.jsxs)(d.A,{sx:{p:2},children:[(0,r.jsxs)(u.A,{as:"h3",sx:{fontSize:1},children:["An error occurred while ",t.activeSkillText]}),(0,r.jsx)(m.A,{as:"p",sx:{m:0},children:e.errorMessage}),(0,r.jsxs)(m.A,{as:"p",sx:{mt:2,mb:0,fontSize:0,fontWeight:"normal",color:"fg.subtle"},children:["Copilot used the ",(0,r.jsx)(m.A,{sx:{fontWeight:"semibold"},children:t.name})," tool"]})]})}function ex({functionCall:e,functionMetadata:t,panelWidth:n}){let o=n?n-130:x.J.DEFAULT_PANEL_WIDTH,a=e?.status==="error"?(0,r.jsx)(eg,{functionCall:e,functionMetadata:t}):e?.status==="completed"?(0,r.jsx)(eh,{maxWidth:o,functionMetadata:t}):(0,r.jsx)(ef,{maxWidth:o,functionMetadata:t});return(0,r.jsx)(d.A,{sx:{display:"flex",gap:"6px",alignItems:"center"},children:a})}function eb({disabled:e,functionCall:t,functionMetadata:n,onClick:o,panelWidth:a}){return(0,r.jsx)(p.Q,{disabled:e,onClick:o,sx:{alignSelf:"flex-start"},children:(0,r.jsx)(ex,{functionCall:t,functionMetadata:n,panelWidth:a})})}function ey({...e}){let[t,n]=(0,f.useState)(!1),[o,c]=(0,f.useState)(),d=e.parsedArgs,u=d.repo?.split("/"),m=u&&u[0]&&u[1]?{owner:u[0],name:u[1]}:void 0;return(0,r.jsxs)(r.Fragment,{children:[o?(0,r.jsxs)("div",{className:"d-flex flex-row gap-2 flex-items-center",children:[(0,r.jsx)(l.IssueOpenedIcon,{className:"fgColor-open"}),(0,r.jsx)(h.A,{href:o.url,children:o.title})]}):(0,r.jsx)(eb,{disabled:!1,onClick:()=>n(e=>!e),...e}),t&&(0,r.jsx)(i.or,{isCreateDialogOpen:t,navigate:s.l,onCreateSuccess:({issue:e})=>{(0,a.BI)("copilot_chat_issue_created",{titleChanged:d.title!==e.title}),c({url:e.url,title:e.title}),n(!1)},optionConfig:{issueCreateArguments:{repository:m,initialValues:{title:d.title,body:d.body}}},setIsCreateDialogOpen:n})]})}function eA(e,t,n,o,a,i){if(!e||"confirmation error"===e.errorMessage)return null;{let s={functionCall:e,functionMetadata:t,panelWidth:o,parsedArgs:a};switch(a.kind){case"bing-search":return(0,r.jsx)(S,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"codesearch":case"lexicalsearch":case"semanticsearch":return(0,r.jsx)(N,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getcommit":return(0,r.jsx)(B,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getissue":return(0,r.jsx)(k,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"pathsearch":return(0,r.jsx)(R,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"show-symbol-definition":return(0,r.jsx)(P,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getalert":return(0,r.jsx)(D,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getprcommits":return(0,r.jsx)(M,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getrelease":return(0,r.jsx)(O,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getrepo":return(0,r.jsx)(_,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getdiff":return(0,r.jsx)($,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"get-diff-by-range":return(0,r.jsx)(F,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getfile":return(0,r.jsx)(T,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getfilechanges":return(0,r.jsx)(E,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getdiscussion":return(0,r.jsx)(G,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"get-actions-job-logs":return(0,r.jsx)(H,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"githubissuecreate":return(0,r.jsx)(ey,{...s,parsedArgs:a});case"kb-search":return(0,r.jsx)(w,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"kb-repo-search":return(0,r.jsx)(I,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"getpullrequest":return(0,r.jsx)(V,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"planskill":return(0,r.jsx)(U,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"get-github-data":return(0,r.jsx)(K,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});case"support-search":return(0,r.jsx)(J,{chatManager:n,functionCall:e,skillArgs:a,useSelectReference:i});default:return(0,r.jsx)("div",{className:"border rounded-2 p-2",children:(0,r.jsx)(ex,{...s})})}}}function eC(e){return(0,f.useMemo)(()=>{if(!e.arguments||!g.xP.includes(e.slug))return{functionMetadata:void 0,functionRenderer:void 0,parsedArgs:void 0};let t={...JSON.parse(e.arguments),kind:e.slug};return{functionMetadata:ep(t),functionRenderer:eA,parsedArgs:t}},[e])}function ej(e){if(!e)return em;let t=ev(e);return t?.activeSkillText||em}function ev(e){if(e)return ep({...JSON.parse(e?.arguments||"{}"),kind:e.slug})}try{Q.displayName||(Q.displayName="CodeSearchIcon")}catch{}try{Z.displayName||(Z.displayName="PathSearchIcon")}catch{}try{ee.displayName||(ee.displayName="GetFileIcon")}catch{}try{et.displayName||(et.displayName="SymbolSearchIcon")}catch{}try{en.displayName||(en.displayName="IssueIcon")}catch{}try{er.displayName||(er.displayName="CommitIcon")}catch{}try{eo.displayName||(eo.displayName="ReleaseIcon")}catch{}try{ea.displayName||(ea.displayName="RepositoryIcon")}catch{}try{ei.displayName||(ei.displayName="JobIcon")}catch{}try{es.displayName||(es.displayName="DiffIcon")}catch{}try{el.displayName||(el.displayName="KnowledgeBaseIcon")}catch{}try{ec.displayName||(ec.displayName="DiscussionIcon")}catch{}try{ed.displayName||(ed.displayName="PullRequestIcon")}catch{}try{eu.displayName||(eu.displayName="PlanIcon")}catch{}try{eh.displayName||(eh.displayName="FunctionCompleted")}catch{}try{ef.displayName||(ef.displayName="FunctionLoading")}catch{}try{eg.displayName||(eg.displayName="FunctionError")}catch{}try{ex.displayName||(ex.displayName="FunctionTitle")}catch{}try{eb.displayName||(eb.displayName="FunctionButton")}catch{}try{ey.displayName||(ey.displayName="GitHubIssueCreateButton")}catch{}},39012:(e,t,n)=>{n.d(t,{Y:()=>w,i:()=>R});var r=n(74848),o=n(97564),a=n(51848),i=n(13180),s=n(24903),l=n(51528),c=n(27788),d=n(38621),u=n(75177),m=n(84217),p=n(47139),h=n(55847),f=n(89323),g=n(16823),x=n(96540),b=n(76206),y=n(87352),A=n(61053),C=n(91078),j=n(19002),v=n(23398),S=n(11963),N=n(33333);let w=e=>{let t=(0,A.Pk)(),n=(0,C.b)(),l=(0,c.Z)(),h=n.getSelectedThread(t),{showTopicPicker:f,messages:g,currentTopic:y,streamingMessage:N}=t,w=h?.name??t.restoredThreadTitle,T=(0,x.useMemo)(()=>h?`${b.Jz}/c/${h.id}`:y&&(0,b.Z6)(y)?`${b.Jz}/r/${y.ownerLogin}/${y.name}`:b.Jz,[h,y]),E=(0,x.useCallback)(async()=>h&&n.deleteThread(h),[h,n]),L=(0,o.G7)("lifecycle_label_name_updates");return(0,r.jsxs)(u.A,{sx:{display:"flex",gap:2,p:2,pl:"immersive"===t.mode?1:3,borderBottom:t.messages.length>0?"1px solid":"none",borderColor:"border.default",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)(u.A,{sx:{display:"flex",flex:1,minWidth:0},children:"thread"===t.currentView?f||e.isImmersive||0!==g.length||!t.chatIsOpen?(0,r.jsx)(m.A,{as:"h2",sx:{fontSize:1,display:"flex",alignItems:"center",flexGrow:1,gap:2,minWidth:0,cursor:"pointer"},onClick:t.chatIsOpen?()=>n.closeChat():()=>n.openChat(h,t.currentView,"header",t.chatVisibleSettingPath),children:"thread"===t.currentView?(0,r.jsxs)(r.Fragment,{children:[(g.length>0||!t.chatIsOpen)&&(0,r.jsx)(v.A,{isLoading:e.isResponding,hasUnreadMessages:e.hasUnreadMessages}),w?(0,r.jsx)("span",{className:"Truncate",children:(0,r.jsx)("span",{className:"Truncate-text",title:w,children:w})}):e.isResponding&&!t.chatIsOpen?(0,r.jsx)("span",{children:"Responding\u2026"}):t.chatIsOpen?!f&&(0,r.jsx)("span",{children:"New conversation"}):(0,r.jsx)("span",{children:"Ask Copilot"})]}):"Copilot"}):(0,r.jsx)(j.A,{}):(0,r.jsx)(I,{})}),(0,r.jsxs)(u.A,{sx:{display:"flex",alignItems:"center"},children:[t.chatIsOpen&&(0,r.jsxs)(r.Fragment,{children:[t.renderBetaLabel&&(L?(0,r.jsx)(s.X,{className:"mr-2"}):(0,r.jsx)(p.A,{variant:"success",sx:{mr:2},children:"Beta"})),"thread"===t.currentView?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.v,{hidden:0===g.length,variant:"invisible",icon:d.PlusIcon,label:"New conversation",tooltipDirection:"s",onClick:async()=>{await n.selectThread(null)},sx:{color:"fg.muted"}}),(0,r.jsx)(R,{handleDelete:E,thread:h,setShowExperimentsDialog:e.setShowExperimentsDialog})]}):(0,r.jsx)(i.v,{variant:"invisible",icon:d.PlusIcon,label:"New conversation",tooltipDirection:"w",onClick:async()=>{await n.selectThread(null)},sx:{color:"fg.muted"}})]}),!e.isImmersive&&(0,r.jsxs)(r.Fragment,{children:[t.chatIsOpen&&(0,r.jsx)(u.A,{sx:{mx:2,height:"20px",width:"1px",bg:"border.muted"}}),(0,r.jsx)(i.v,{variant:"invisible",icon:d.ScreenFullIcon,label:"Take conversation to immersive",tooltipDirection:t.chatIsOpen?"sw":"w",onClick:()=>{l(T),(0,a.BI)("dotcom_chat.activate",{target:"IMMERSIVE_OPTION",mode:"assistive"})},disabled:!!N,sx:{color:"fg.muted"}}),(0,r.jsx)(i.v,{variant:"invisible",icon:t.chatIsOpen?d.ChevronDownIcon:d.ChevronUpIcon,label:t.chatIsOpen?"Collapse":"Expand",tooltipDirection:t.chatIsOpen?"sw":"w",onClick:t.chatIsOpen?()=>n.closeChat():()=>n.openChat(h,t.currentView,"header",t.chatVisibleSettingPath),sx:{color:"fg.muted"},"data-hotkey":"Shift+Z"})]})]}),e.showExperimentsDialog&&(0,r.jsx)(S.J,{experimentsDialogRef:e.experimentsDialogRef,onDismiss:()=>e.setShowExperimentsDialog(!1)})]})},I=()=>{let{mode:e}=(0,A.Pk)(),t=(0,C.b)();return(0,r.jsx)(h.Q,{leadingVisual:d.ArrowLeftIcon,variant:"invisible",onClick:()=>t.viewCurrentThread(),sx:{color:"fg.muted",marginLeft:"assistive"===e?"-8px":void 0},children:"Back"})},R=e=>{let[t,n]=(0,x.useState)(!1),{chatVisibleSettingPath:s,mode:c}=(0,A.Pk)(),u=(0,C.b)(),m=(0,x.useCallback)(()=>{(0,o.G7)(y.l)&&u.fetchThreads(),u.viewAllThreads(),(0,a.BI)("copilot.view-conversations-clicked")},[u]),h=(0,x.useMemo)(()=>(0,l.X)(),[]),b=!e.thread;return(0,r.jsxs)(f.W,{open:t,onOpenChange:()=>n(e=>!e),children:[(0,r.jsx)(f.W.Anchor,{children:(0,r.jsx)(i.v,{icon:d.KebabHorizontalIcon,variant:"invisible",label:"Conversation options",tooltipDirection:"s",hideTooltip:t,sx:{color:"fg.muted"}})}),(0,r.jsx)(N.UJ,{children:(0,r.jsxs)(g.l,{children:[(0,r.jsxs)(g.l.Item,{variant:b?"default":"danger",onSelect:()=>{e.handleDelete(),n(!1)},disabled:b,"aria-describedby":"delete-conversation-description",children:[(0,r.jsx)(g.l.LeadingVisual,{children:(0,r.jsx)(d.TrashIcon,{})}),"Delete conversation",(0,r.jsx)("p",{id:"delete-conversation-description",className:"sr-only",children:"This is a destructive action that cannot be undone"})]}),(0,r.jsx)(g.l.Divider,{}),"assistive"===c&&(0,r.jsxs)(g.l.Item,{onSelect:m,children:[(0,r.jsx)(g.l.LeadingVisual,{children:(0,r.jsx)(d.HistoryIcon,{})}),"View all conversations"]}),(0,r.jsxs)(g.l.LinkItem,{href:"https://gh.io/copilot-in-githubdotcom",rel:"noopener noreferrer",target:"_blank",children:[(0,r.jsx)(g.l.LeadingVisual,{children:(0,r.jsx)(d.CommentDiscussionIcon,{})}),"Give feedback"]}),"assistive"===c&&(0,r.jsxs)(g.l.Item,{onSelect:()=>{u.hideChat(s)},children:[(0,r.jsx)(g.l.LeadingVisual,{children:(0,r.jsx)(d.EyeClosedIcon,{})}),"Hide Copilot chat"]}),h&&(0,r.jsxs)(g.l.Item,{onSelect:()=>e.setShowExperimentsDialog(!0),children:[(0,r.jsx)(g.l.LeadingVisual,{children:(0,r.jsx)(d.BeakerIcon,{})}),"Configure experiments",(0,r.jsx)(g.l.TrailingVisual,{children:(0,r.jsx)(p.A,{variant:"attention",children:"Staff"})})]})]})})]})};try{w.displayName||(w.displayName="Header")}catch{}try{I.displayName||(I.displayName="ReturnToCurrentThreadButton")}catch{}try{R.displayName||(R.displayName="ThreadOptionButton")}catch{}},10443:(e,t,n)=>{n.d(t,{I8:()=>_,pV:()=>L,hJ:()=>O});var r,o=n(74848),a=n(22868),i=n(92240),s=n(38621),l=n(87330),c=n(75177),d=n(16823),u=n(85349),m=n(84217),p=n(52464),h=n(55847),f=n(34614),g=n(30631),x=n(94977),b=n(30729),y=n(54692),A=n(20053),C=n(96540),j=n(40961),v=n(76206),S=n(33067),N=n(57938),w=n(88365),I=n(13369),R=n(61053),T=n(91078);let E={disabledForPreviewModelsPanel:"KnowledgeSelectPanel-module__disabledForPreviewModelsPanel--NqDvF"};function L({panelWidth:e,inputRef:t}){let[n,r]=(0,C.useState)(!1),a=(0,C.useRef)(null);return(0,o.jsx)(O,{panelWidth:e,open:n,onOpenChange:r,anchorRef:a,renderAnchor:e=>(0,o.jsx)(k,{open:n,setOpen:r,...e}),cancelReturnFocusRef:a,submitReturnFocusRef:t})}let k=(0,C.forwardRef)(function({open:e,setOpen:t,...n},r){return(0,o.jsx)(l.K,{ref:r,"aria-expanded":!!e||void 0,"aria-haspopup":!0,"aria-label":"Attach knowledge base","aria-labelledby":void 0,icon:s.BookIcon,onClick:()=>t(!e),sx:{color:"fg.muted"},variant:"invisible",...n})});function O({panelWidth:e,renderAnchor:t,anchorRef:n,open:r,onOpenChange:a,submitReturnFocusRef:s,cancelReturnFocusRef:l}){let u=(0,R.Pk)(),m=(0,T.b)(),p=(0,I.c)(),{knowledgeBases:h}=u,[f,g]=(0,C.useState)([]),[b,A]=(0,C.useState)(!0),[S,E]=(0,C.useState)(""),L=(0,C.useRef)(null),k="immersive"===u.mode&&N.W.copilotImmersiveV1;(0,C.useEffect)(()=>{r||E("")},[r]);let O=(0,C.useMemo)(()=>""===S?h:h.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())),[S,h]),D=(0,C.useMemo)(()=>O.reduce((e,t)=>{let n=e.find(e=>e.org===t.ownerLogin);return n?n.docsets.push(t):e.push({org:t.ownerLogin,docsets:[t]}),e},[]),[O]),[M,_]=(0,C.useState)(!1),G=b||"pending"===u.knowledgeBasesLoading.state,H=M||"error"===u.knowledgeBasesLoading.state;(0,C.useEffect)(()=>{let e=async()=>{A(!0),await m.fetchKnowledgeBases();let e=await m.service.listAdministratedCopilotEnterpriseOrganizations();e.ok?g(e.payload||[]):_(!0),A(!1)};r&&e()},[r]);let W=(0,C.useCallback)(e=>{"DIALOG"===e.target.tagName&&a(!1)},[a]);(0,C.useEffect)(()=>(document.addEventListener("click",W),()=>{document.removeEventListener("click",W)}),[W]),(0,C.useEffect)(()=>{if(r&&L.current){let e=L.current.querySelector("input[type=text]");e?.focus()}},[r]);let{currentReferences:z}=u,V=F(),K=e=>{m.dismissAttachKnowledgeBaseHerePopover(),m.clearCurrentReferences(),"immersive"===u.mode&&(m.clearCurrentTopic(),u.selectedThreadID&&w.J.setSelectedTopic(u.selectedThreadID,null));let t=(0,v.UU)(e);p.addToReferences(t,u)},q=(0,R.qY)(),J=(0,C.useMemo)(()=>{let e={};if("assistive"!==u.mode||!r)return e;let t=q?.current?.clientWidth||480,n=t+480>=window.innerWidth;return n&&(e.left=`${window.innerWidth-t}px !important`),n&&window.innerHeight>=480&&(e.bottom="64px"),e},[u.mode,q,r]),Y="assistive"===u.mode?{position:"fixed",bottom:0,right:`${e||w.J.DEFAULT_PANEL_WIDTH}px`,left:"auto !important",top:"auto !important",height:"325px",maxHeight:"100%",...J}:{position:["fixed","fixed","absolute"],bottom:["60px","60px","0 !important"],"@media screen and (max-height: 480px)":{bottom:"0 !important"},top:k?"":"initial !important",left:k?"":["18px","18px","calc(50% - 360px) !important"],height:"325px",maxHeight:"100%"};return H?(0,o.jsx)(x.A,{"aria-label":"There was an error loading knowledge bases",direction:"e",children:t?.({})}):u.model?.hasLimitedCapabilities?(0,o.jsx)(U,{open:r,setOpen:a}):G||0!==h.length?(0,o.jsxs)(c.A,{ref:L,sx:{flexGrow:"0 !important","> dialog":Y},...(0,i.G)("knowledge-select-panel"),children:[t?.({}),(0,o.jsxs)(y.X,{anchorRef:n,description:"Knowledge bases consolidate content from multiple repositories for an improved chat experience.",onCancel:()=>{(0,j.flushSync)(()=>a(!1)),l.current?.focus()},onSubmit:()=>{(0,j.flushSync)(()=>a(!1)),s.current?.focus()},open:r,selectionVariant:"instant",title:"Attach a knowledge base",variant:k?"modal":void 0,width:k?"large":void 0,maxHeight:k?"xlarge":void 0,children:[(0,o.jsx)(y.X.Header,{children:(0,o.jsx)(y.X.SearchInput,{onChange:e=>{E(e.currentTarget.value)},placeholder:"Search knowledge bases"})}),(0,o.jsx)(d.l,{sx:{minHeight:340},children:G?(0,o.jsx)(y.X.Loading,{children:"Fetching knowledge bases\u2026"}):0===D.length?(0,o.jsx)(y.X.Message,{variant:"empty",title:"No knowledge bases found",children:"Try a different search term"}):D.map(e=>(0,o.jsxs)(d.l.Group,{children:[(0,o.jsx)(d.l.GroupHeading,{children:e.org}),e.docsets.map(e=>(0,o.jsx)(B,{docset:e,selected:z.some(t=>(0,v.P)(t)&&t.id===e.id),onSelect:()=>K(e)},e.id))]},e.org))}),V&&(0,o.jsx)(y.X.Footer,{children:(0,o.jsx)($,{message:V})})]})]}):(0,o.jsx)(P,{administratedCopilotEnterpriseOrganizations:f,persistentPanelStyles:Y,open:r,setOpen:a,mode:u.mode})}function P({administratedCopilotEnterpriseOrganizations:e,persistentPanelStyles:t,open:n,setOpen:r,mode:a}){let d=F();return(0,o.jsx)(u.T,{open:n,onOpen:()=>r(!0),onClose:()=>r(!1),renderAnchor:({...e})=>(0,o.jsx)(k,{open:n,setOpen:r,...e}),overlayProps:{anchorSide:"outside-bottom",sx:{width:"350px",..."assistive"===a?t:{}}},children:(0,o.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column"},...(0,i.G)("empty-knowledge-base-picker"),children:[(0,o.jsx)(c.A,{sx:{borderBottom:"1px solid",borderColor:"border.muted"},children:(0,o.jsxs)(c.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",py:2,px:3},children:[(0,o.jsx)(m.A,{as:"h4",sx:{fontSize:1},children:"Attach a knowledge base"}),(0,o.jsx)(l.K,{unsafeDisableTooltip:!0,"aria-label":"Close",icon:s.XIcon,variant:"invisible",onClick:()=>r(!1)})]})}),(0,o.jsxs)(c.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:3,pt:3},children:[(0,o.jsx)(b.A,{icon:s.BookIcon,size:"medium",sx:{color:"fg.muted"}}),(0,o.jsxs)(c.A,{sx:{gap:2,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,o.jsx)(p.A,{sx:{fontSize:1,fontWeight:600},children:"You don't have any knowledge bases"}),(0,o.jsxs)(c.A,{sx:{color:"fg.muted",textAlign:"center",fontSize:0,px:3},children:[(0,o.jsx)("p",{children:"Knowledge bases consolidate content from multiple repositories for an improved chat experience."}),0===e.length&&(0,o.jsx)(p.A,{as:"p",sx:{mt:3,mb:4},...(0,i.G)("ask-admin-for-knowledge-base"),children:"Speak with an organization owner about creating a knowledge base for your organization."})]}),e.length>0&&(0,o.jsx)(D,{administratedCopilotEnterpriseOrganizations:e})]})]}),d&&(0,o.jsx)(c.A,{sx:{borderTop:"1px solid",borderColor:"border.muted",px:2,py:3},children:(0,o.jsx)($,{message:d})})]})})}function D({administratedCopilotEnterpriseOrganizations:e}){return 1===e.length?(0,o.jsx)(h.Q,{as:"a",href:G(e[0]),sx:{mb:4},...(0,i.G)("create-knowledge-base-button"),children:"Create a knowledge base"}):(0,o.jsxs)(c.A,{sx:{width:"100%",textAlign:"left",borderTop:"1px solid",borderColor:"border.muted",pt:3},...(0,i.G)("create-knowledge-base-dropdown"),children:[(0,o.jsx)(m.A,{as:"h3",sx:{fontSize:0,color:"fg.muted",pl:3},children:"Create a knowledge base for an organization"}),(0,o.jsx)(d.l,{sx:{maxHeight:"160px",overflow:"scroll"},children:e.map(e=>(0,o.jsx)(M,{org:e},e.id))})]})}function M({org:e}){return(0,o.jsx)(d.l.Item,{children:(0,o.jsxs)(f.A,{sx:{flex:1,color:"fg.default"},href:G(e),children:[(0,o.jsx)(a.r,{square:!0,src:e.avatarUrl,alt:e.login,sx:{mr:2},"aria-hidden":"true"}),(0,o.jsx)(g.A,{inline:!0,title:e.login,sx:{minWidth:"80%"},children:e.login})]})})}function B({docset:e,selected:t,onSelect:n}){let r=e.sourceRepos?.map(e=>e.id)||[],a=(0,S.r_)(r);return(0,o.jsxs)(d.l.Item,{onSelect:()=>n(),selected:t,disabled:!a,children:[e.name,(0,o.jsx)(d.l.Description,{sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",flexBasis:"content"},variant:"block",children:e.description})]},e.id)}function _(){let e=(0,R.Pk)(),t=(0,T.b)(),[n,r]=(0,C.useState)(!1),a=(0,I.c)();return(0,o.jsx)(l.K,{icon:s.BookIcon,variant:n?"primary":"invisible",size:"small",onClick:()=>{if(n)t.clearCurrentReferences();else{t.dismissAttachKnowledgeBaseHerePopover();let n=(0,v._2)();a.addToReferences(n,e)}r(!n)},"aria-label":`${n?"Disable":"Enable"} knowledge bases`})}function $({message:e}){return e?(0,o.jsx)(c.A,{"data-testid":"knowledge-select-panel-sso",sx:{color:"fg.muted",fontSize:0,ml:2},children:e}):null}function F(){let e=(0,R.Pk)(),t=e.ssoOrganizations.map(e=>e.login);for(let n of e.knowledgeBases)for(let e of n.protectedOrganizations)t.includes(e)||t.push(e);if(!t||0===t.length)return null;if(1===t.length)return`Single sign-on to see content from ${t[0]}.`;if(2===t.length)return`Single sign-on to see content from ${t[0]} and ${t[1]}.`;{let e=t.length-2;return`Single sign-on to see content from ${t[0]}, ${t[1]}, and ${e} organization${e>1?"s":""}`}}function G(e){return`/organizations/${e.login}/settings/copilot/chat_settings/new`}function U({open:e,setOpen:t}){return(0,o.jsx)(u.T,{open:e,onOpen:()=>t(!0),onClose:()=>t(!1),renderAnchor:({...n})=>(0,o.jsx)(k,{open:e,setOpen:t,...n}),children:(0,o.jsxs)("div",{className:(0,A.$)("m-3 d-flex flex-column flex-items-center text-center",E.disabledForPreviewModelsPanel),children:[(0,o.jsx)(s.AlertIcon,{className:"fgColor-attention mb-3"}),(0,o.jsx)("h3",{className:"h5 mb-2",children:"Knowledge bases aren't supported by this model"}),(0,o.jsx)("span",{className:"text-small fgColor-muted",children:"Switch back to the GPT-4o model or start a new conversation"})]})})}try{L.displayName||(L.displayName="KnowledgeSelectButton")}catch{}try{k.displayName||(k.displayName="KBIconButton")}catch{}try{(r=KBIconButtonInner).displayName||(r.displayName="KBIconButtonInner")}catch{}try{O.displayName||(O.displayName="KnowledgeSelectPanel")}catch{}try{P.displayName||(P.displayName="EmptyKnowledgeBase")}catch{}try{D.displayName||(D.displayName="CreateKnowledgeBaseButton")}catch{}try{M.displayName||(M.displayName="CreateKnowledgeBaseActionRow")}catch{}try{B.displayName||(B.displayName="KnowledgeBaseSelectRow")}catch{}try{_.displayName||(_.displayName="KnowledgeBaseToggleButton")}catch{}try{$.displayName||($.displayName="SSOFooter")}catch{}try{U.displayName||(U.displayName="DisabledForPreviewModels")}catch{}},33333:(e,t,n)=>{n.d(t,{Cb:()=>p,Dq:()=>c,E5:()=>l,Gj:()=>d,UJ:()=>h,cB:()=>u,zc:()=>m});var r=n(74848),o=n(16255),a=n(75177),i=n(89323),s=n(96540);let l="copilotChatMenuPortalRoot",c="copilotChatMessagesMenuPortalRoot",d="copilotChatPortalRoot",u=()=>{let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{(0,o.c)(e.current,d)},[]),(0,r.jsx)(a.A,{ref:e,sx:{position:"absolute",top:0,right:0,zIndex:100}})},m=()=>{let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{(0,o.c)(e.current,l)},[]),(0,r.jsx)(a.A,{ref:e,sx:{position:"absolute",top:0,right:0}})},p=()=>{let e=(0,s.useRef)(null);return(0,s.useEffect)(()=>{(0,o.c)(e.current,c)},[]),(0,r.jsx)("div",{ref:e})},h=({children:e,portalContainerName:t,...n})=>{let[o,a]=(0,s.useState)(()=>"undefined"!=typeof document);return((0,s.useEffect)(()=>a(!0),[]),o)?(0,r.jsx)(i.W.Overlay,{...n,portalContainerName:t||l,children:e}):null};try{u.displayName||(u.displayName="ChatPortalContainer")}catch{}try{m.displayName||(m.displayName="MenuPortalContainer")}catch{}try{p.displayName||(p.displayName="MessagesPortalContainer")}catch{}try{h.displayName||(h.displayName="ActionMenuOverlay")}catch{}},57171:(e,t,n)=>{n.d(t,{B:()=>h,a:()=>f});var r,o=n(74848),a=n(76206),i=n(38621),s=n(87330),l=n(20053),c=n(96540),d=n(61053),u=n(91078),m=n(22986);let p={referenceToken:"ReferenceToken-module__referenceToken--MoDht",small:"ReferenceToken-module__small--LxJV_",name:"ReferenceToken-module__name--Wq2Bs",removeButton:"ReferenceToken-module__removeButton--BIbYP",icon:"ReferenceToken-module__icon--WJse5"},h=(0,c.forwardRef)(function({reference:e,onRemove:t,size:n},r){let m=(0,u.b)(),h=(0,d.pn)(e=>"immersive"===e.mode),g=f(e,(0,a.P)((0,d.A3)("currentTopic"))),x=(0,c.useId)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("a",{href:(0,a.JP)(e),className:(0,l.$)(p.referenceToken,"small"===n&&p.small),onKeyDown:e=>{t&&("Delete"===e.key||"Backspace"===e.key)&&(e.preventDefault(),t())},onClick:t=>{!h&&(["repository","docset","third-party"].includes(e.type)||(t.preventDefault(),m.selectReference(e)))},ref:r,"aria-describedby":t&&x,children:[g&&(0,o.jsx)(g,{size:"small",className:p.icon}),(0,o.jsxs)("span",{className:p.name,children:["n"in e&&`${e.n} - `,(0,a.z$)(e)]}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.K,{tabIndex:-1,"aria-hidden":!0,size:n,icon:i.XIcon,"aria-label":"Remove",onClick:e=>{e.stopPropagation(),e.preventDefault(),t()},tooltipDirection:"n",variant:"invisible",className:p.removeButton}),(0,o.jsx)("span",{hidden:!0,id:x,children:"press backspace or delete to remove"})]})]})})});function f(e,t){switch(e.type){case"file":return i.FileIcon;case"file-diff":return i.FileDiffIcon;case"snippet":return t&&e.languageName&&m.Y.has(e.languageName)?i.BookIcon:i.CodeIcon;case"repository":return i.RepoIcon;case"symbol":return i.CodeSquareIcon;case"docset":return i.BookIcon;case"commit":return i.GitCommitIcon;case"pull-request":return i.GitPullRequestIcon;default:return}}try{h.displayName||(h.displayName="ReferenceToken")}catch{}try{(r=Icon).displayName||(r.displayName="Icon")}catch{}},28118:(e,t,n)=>{n.d(t,{J:()=>j,d:()=>S});var r=n(74848),o=n(70170),a=n(38621),i=n(64515),s=n(87330),l=n(75177),c=n(85349),d=n(16823),u=n(54692),m=n(97286),p=n(96540),h=n(40961),f=n(76206),g=n(33067),x=n(57938),b=n(88365),y=n(13369),A=n(61053);let C={chooseRepoInstructionPanel:"ReferencesSelectPanel-module__chooseRepoInstructionPanel--ZB4TR",chooseRepoTitle:"ReferencesSelectPanel-module__chooseRepoTitle--WR2cM",chooseRepoSubtitle:"ReferencesSelectPanel-module__chooseRepoSubtitle--D5U0G"},j=(0,p.forwardRef)(function({panelWidth:e,inputRef:t},n){let[o,a]=(0,p.useState)(!1),s=(0,p.useRef)(null);return(0,i.T)(n,s),(0,r.jsx)(S,{panelWidth:e,open:o,onOpenChange:a,anchorRef:s,cancelReturnFocusRef:s,submitReturnFocusRef:t,renderAnchor:({...e})=>(0,r.jsx)(v,{ref:s,open:o,setOpen:a,...e})})}),v=(0,p.forwardRef)(function({open:e,setOpen:t,...n},o){return(0,r.jsx)(s.K,{ref:o,"aria-expanded":!!e||void 0,"aria-haspopup":!0,"aria-label":"Attach files or symbols","aria-labelledby":void 0,onClick:()=>t(!e),icon:a.PaperclipIcon,variant:"invisible",sx:{flexShrink:0},...n})}),S=({panelWidth:e,renderAnchor:t,anchorRef:n,open:a,onOpenChange:i,submitReturnFocusRef:s,cancelReturnFocusRef:c})=>{let{currentTopic:C,mode:j,findFileWorkerPath:v}=(0,A.Pk)(),S=(0,g.o6)(a),L="immersive"===j&&x.W.copilotImmersiveV1,[k,O]=(0,p.useState)(""),P=(0,p.useRef)((0,o.s)(O,250));(0,p.useEffect)(()=>{a||O("")},[a]);let{initialLoading:D,filterLoading:M,selected:B,items:_,groups:$,onSelectedChange:F}=function(e,t,n,r){let o=(0,A.Pk)(),a=(0,y.c)(),[i,s]=(0,p.useState)([]),l=function(e,t,n,r){let o=(0,y.c)(),{isLoading:a,data:i}=(0,m.I)({queryKey:["copilot-chat","files-autocomplete",t?.ownerLogin,t?.name,e],queryFn:async()=>t?(await o.fetchAutocompleteSuggestions(t,e),{filePaths:Array.from(o.fileSuggestions.values()).map(e=>e.path),symbolNames:Array.from(o.symbolSuggestions.values()).map(e=>e.name)}):null,enabled:r}),[s,l]=(0,g.U2)(i?.filePaths??null,e,n),[c,d]=(0,g.U2)(i?.symbolNames??null,e,n),u=[...s.slice(0,7).map(e=>o.fileSuggestions.get(e)).filter(e=>!!e).map(e=>T(e)).filter(e=>!!e),...c.slice(0,7).map(e=>o.symbolSuggestions.get(e)).filter(e=>!!e).map(e=>T(e)).filter(e=>!!e)],p=a&&!e;return{items:u,filterLoading:!p&&(a||l||d),initialLoading:p}}(t,n,r,e);(0,p.useEffect)(()=>{e&&c(o.currentReferences.map(T).filter(e=>!!e))},[e]);let c=(0,p.useCallback)(e=>{let t=e.map(e=>e.id).filter(e=>"string"==typeof e),n=t.map(e=>R.get(e)).filter(e=>!!e);s(t),E(n,o,a)},[a,o]),d=i.map(e=>R.get(e)).filter(e=>!!e).map(e=>({...e,groupId:"0"})),u=[...d,...l.items.filter(e=>"string"==typeof e.id&&!i.includes(e.id))],h=function(e,t){if(0===e.length&&!t)return[];let n=[];for(let t of I)void 0!==e.find(e=>e.groupId===t.groupId)&&n.push(t);return n}(u,l.initialLoading||l.filterLoading);return{...l,items:u,groups:h,selected:d,onSelectedChange:c}}(a,k,(0,f.Z6)(C)?C:null,v),G="assistive"===j?{position:"fixed",bottom:0,right:`${e||b.J.DEFAULT_PANEL_WIDTH}px`,left:"auto !important",top:"auto !important",maxWidth:"100vw",width:480,minHeight:600,...S}:{};if(!(0,f.Z6)(C))return(0,r.jsx)(N,{open:a,setOpen:i});let U=e=>!!B.find(t=>t.id===e.id);return(0,r.jsxs)(l.A,{sx:{flexGrow:"0 !important","> dialog":G},children:[t?.({}),(0,r.jsxs)(u.X,{anchorRef:n,title:"Attach files and symbols",description:"Choose which files and symbols you want to chat about. Use fewer references for more accurate responses.",onCancel:()=>{(0,h.flushSync)(()=>i(!1)),s.current?.focus()},onSubmit:()=>{(0,h.flushSync)(()=>i(!1)),c.current?.focus()},open:a,selectionVariant:"multiple",variant:L?"modal":void 0,width:L?"large":void 0,maxHeight:L?"xlarge":void 0,children:[(0,r.jsx)(u.X.Header,{children:(0,r.jsx)(u.X.SearchInput,{loading:M,onChange:e=>P.current(e.target.value),placeholder:"Search files and symbols"})}),(0,r.jsx)(d.l,{sx:{minHeight:340},children:D?(0,r.jsx)(u.X.Loading,{children:"Fetching files and symbols\u2026"}):0!==$.length||M?$.map(e=>(0,r.jsxs)(d.l.Group,{children:[(0,r.jsx)(d.l.GroupHeading,{variant:"subtle",children:e.title}),_.filter(t=>t.groupId===e.groupId).map(e=>(0,r.jsx)(w,{item:e,selected:U(e),onSelect:()=>F(U(e)?B.filter(t=>t.id!==e.id):[...B,e])},e.id))]},e.groupId)):(0,r.jsx)(u.X.Message,{variant:"empty",title:"No files or symbols found",children:"Try a different search term"})})]})]})};function N({open:e,setOpen:t,renderAnchor:n}){return(0,r.jsx)(c.T,{open:e,onOpen:()=>t(!0),onClose:()=>t(!1),renderAnchor:e=>n?.(e)??(0,r.jsx)(r.Fragment,{}),children:(0,r.jsxs)("div",{className:C.chooseRepoInstructionPanel,children:[(0,r.jsx)(a.PaperclipIcon,{}),(0,r.jsx)("h3",{className:C.chooseRepoTitle,children:"Attach a repository first"}),(0,r.jsx)("p",{className:C.chooseRepoSubtitle,children:"To pick attachments, attach a repository where the files are stored."})]})})}function w({onSelect:e,selected:t,item:n}){return(0,r.jsxs)(d.l.Item,{onSelect:e,selected:t,"aria-checked":t,sx:{mx:2,'&[data-is-active-descendant="activated-directly"]':{backgroundColor:"transparent",outline:"2px solid var(--focus-outlineColor, var(--color-accent-emphasis))",outlineOffset:"-2px"}},children:[(0,r.jsx)(d.l.LeadingVisual,{children:n.renderLeadingVisual()}),(0,r.jsx)(l.A,{sx:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},children:n.text})]})}let I=[{groupId:"0",title:"Current attachments"},{groupId:"1",title:"Files"},{groupId:"2",title:"Symbols"}],R=new Map;function T(e){let t;let n=(0,f.Vb)(e),o=R.get(n);if(o)return o;switch(e.type){case"symbol":t={id:n,key:n,renderLeadingVisual:()=>(0,r.jsx)(a.CodeSquareIcon,{}),text:e.name,groupId:"2"};break;case"file":t={id:n,key:n,renderLeadingVisual:()=>(0,r.jsx)(a.FileIcon,{}),text:e.path,groupId:"1"};break;case"file-diff":t={id:n,key:n,renderLeadingVisual:()=>(0,r.jsx)(a.FileDiffIcon,{}),text:(0,f.Mw)(e),groupId:"1"}}if(t)return R.set(n,t),t}async function E(e,t,n){for(let r of t.currentReferences){let o=(0,f.Vb)(r);e.find(e=>e.id===o)||n.manager.removeReference(t.currentReferences.findIndex(e=>(0,f.Vb)(e)===o))}let r=[];for(let o of e)if(o.id&&"string"==typeof o.id&&o.text){let e=n.symbolSuggestions.get(o.text),a=n.fileSuggestions.get(o.text);e&&r.push(n.addToReferences(e,t)),a&&r.push(n.addToReferences(a,t))}await Promise.all(r)}try{j.displayName||(j.displayName="ReferencesSelectButton")}catch{}try{v.displayName||(v.displayName="ReferenceIconButton")}catch{}try{v.displayName||(v.displayName="ReferenceIconButton")}catch{}try{S.displayName||(S.displayName="ReferencesSelectPanel")}catch{}try{N.displayName||(N.displayName="ChooseRepositoryInstruction")}catch{}try{w.displayName||(w.displayName="ReferenceListItem")}catch{}},16372:(e,t,n)=>{n.d(t,{W:()=>a});var r=n(74848),o=n(22868);let a=({ownerLogin:e,ownerType:t,size:n})=>(0,r.jsx)(o.r,{src:`/${e}.png?s=40`,square:"Organization"===t,size:n});try{a.displayName||(a.displayName="RepoAvatar")}catch{}},53854:(e,t,n)=>{n.d(t,{T:()=>i});var r=n(74848),o=n(66330),a=n(89970);function i({markdown:e,onLinkClick:t,rendererConfig:n}){return(0,r.jsx)(o.G,{onLinkClick:t,verifiedHTML:(0,a.K)(e,n)})}try{i.displayName||(i.displayName="MarkdownRenderer")}catch{}},45471:(e,t,n)=>{n.d(t,{W:()=>Q});var r=n(74848),o=n(61797),a=n(42024),i=n(61053),s=n(91078),l=n(76206),c=n(97286),d=n(96540),u=n(22868),m=n(83056),p=n(43151),h=n(97156),f=n(4954),g=n(88299),x=n(38621),b=n(52464),y=n(75177),A=n(89169),C=n(30631),j=n(10871),v=n(87330),S=n(4788),N=n(22084);function w({lineNumbers:e,lines:t,trimLineBeginnings:n}){return(0,r.jsx)(y.A,{sx:{display:"flex",flexDirection:"row",overflowX:"auto",pb:3},children:(0,r.jsx)("table",{style:{fontSize:"12px",fontFamily:"ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace",overflowX:"auto"},children:e.map((e,o)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:e},e),(0,r.jsx)("td",{style:{whiteSpace:"pre",paddingLeft:"16px"},children:(0,r.jsx)(N.mo,{html:n?(t[o]??"").trimStart():t[o]||"\n"},`line-${o}`)})]},`line-row-${e}`))})})}try{w.displayName||(w.displayName="SimpleCodeListing")}catch{}function I({reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a}){let{contributors:i}=(0,f.u)(e.repoOwner,e.repoName,e.commitOID,e.path),[s]=(0,g.E)(e.repoOwner,e.repoName,e.commitOID,e.path),{lines:l,lineNumbers:c,expandUp:h,expandDown:C}=function(e,t,n){let r=(0,d.useRef)(e?.start??-1),o=(0,d.useRef)(e?.end??-1),[a,i]=(0,d.useState)(n&&e&&t?n.slice(e.start-t.start,e.end-t.start+1):[]),s=(0,d.useCallback)(()=>{n&&e&&t&&!(r.current<0)&&!(o.current<0)&&i(n.slice(r.current-t.start,o.current-t.start+1))},[n,e,t]);(0,d.useEffect)(()=>{e&&n&&(-1===r.current||-1===o.current)&&(r.current=e.start,o.current=e.end,s())},[n,e,t,s]);let l=(0,d.useCallback)(()=>{r.current=Math.max(r.current-L,t?.start??-1),s()},[t?.start,s]),c=(0,d.useCallback)(()=>{o.current=Math.min(o.current+L,t?.end??-1),s()},[t?.end,s]),u=-1!==r.current&&r.current!==t?.start,m=-1!==o.current&&o.current!==t?.end;return{lines:a,lineNumbers:a.map((e,t)=>r.current+t),expandUp:u?l:null,expandDown:m?c:null}}(t?.range,t?.expandedRange,t?.highlightedContents),j=t?.headerInfo;return(0,r.jsxs)(S.O.Frame,{children:[(0,r.jsxs)(S.O.Header,{onDismiss:a,children:[(0,r.jsx)(u.r,{square:t?.repoIsOrgOwned,src:`${e.repoOwner}.png`,sx:{mr:2,flexShrink:0}}),(0,r.jsxs)(b.A,{sx:{fontWeight:600,whiteSpace:"nowrap"},children:[e.repoOwner,"/",e.repoName]}),(0,r.jsx)(b.A,{sx:{marginX:1},children:"\xb7"}),(0,r.jsx)(b.A,{sx:{fontWeight:400},children:(0,p.gE)(e.ref)}),(0,r.jsx)(b.A,{sx:{marginX:1},children:"\xb7"}),(0,r.jsx)(b.A,{sx:{fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.path}),"snippet"===e.type&&(0,r.jsxs)("span",{children:[":",e.range.start,"-",e.range.end]})]}),(0,r.jsxs)(S.O.Body,{detailsError:o,detailsLoading:n,children:[(0,r.jsxs)(y.A,{sx:{border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},children:[(0,r.jsxs)(R,{children:[j&&(0,r.jsx)(T,{headerInfo:j}),j&&(0,r.jsx)(E,{headerInfo:j})]}),h&&(0,r.jsx)(S.O.ContentExpander,{direction:"above",onExpand:h}),(0,r.jsx)(S.O.Content,{children:(0,r.jsx)(w,{lines:l,lineNumbers:c})}),C&&(0,r.jsx)(S.O.ContentExpander,{direction:"below",onExpand:C})]}),(0,r.jsxs)(S.O.Details,{children:[(0,r.jsxs)(S.O.DetailLink,{href:(0,m.Do2)({name:e.repoName,ownerLogin:e.repoOwner}),icon:x.RepoIcon,children:[e.repoOwner,"/",e.repoName]}),i&&(0,r.jsxs)(S.O.DetailLink,{icon:x.PeopleIcon,href:(0,m.buO)({owner:e.repoOwner,repo:e.repoName,commitish:e.commitOID,filePath:e.path,lineNumber:t?.range.start}),children:[i.totalCount," ",1===i.totalCount?"contributor":"contributors"]}),s&&(0,r.jsxs)(S.O.DetailLink,{icon:x.HistoryIcon,href:(0,m.$Qz)({owner:e.repoOwner,repo:e.repoName,commitish:s?.oid}),children:[s?.author?.displayName," updated ",(0,r.jsx)(A.A,{datetime:s?.date})]}),(0,r.jsxs)(S.O.DetailLink,{icon:x.LinkExternalIcon,href:e.url,children:[e.repoOwner,"/",e.repoName,"/",e.path,"snippet"===e.type?(0,r.jsxs)(r.Fragment,{children:["#",e.range.start,"-",e.range.end]}):null]})]})]})]})}function R({children:e}){return(0,r.jsx)(y.A,{sx:{p:2,display:"flex",flex:1,alignItems:"center",justifyContent:"space-between",backgroundColor:"canvas.subtle",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0px 0px"},children:e})}function T({headerInfo:e}){return(0,r.jsx)(C.A,{title:e.blobSize,inline:!0,sx:{maxWidth:"100%",color:"fg.subtle"},"data-testid":"blob-size",children:(0,r.jsx)("span",{children:`${e.lineInfo.truncatedLoc} lines (${e.lineInfo.truncatedSloc} loc) \xb7 ${e.blobSize}`})})}function E({headerInfo:e}){let t=new URL(e.rawBlobUrl,h.fV.origin);t.searchParams.set("download","");let n={"aria-label":"Download raw content",icon:x.DownloadIcon,size:"small",onClick:async()=>{e.isLfs||await O(e.rawBlobUrl,e.displayName)},"data-testid":"download-raw-button",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0}};return(0,r.jsxs)(y.A,{sx:{display:"flex"},children:[(0,r.jsx)(j.z,{href:e.rawBlobUrl,download:e.viewable?void 0:"true",size:"small",sx:{linkButtonSx:k,px:2,borderTopRightRadius:0,borderBottomRightRadius:0,borderRight:"none"},"data-testid":"raw-button",children:"Raw"}),e.isLfs?(0,r.jsx)(v.K,{unsafeDisableTooltip:!0,as:"a","data-turbo":"false",href:t.toString(),...n}):(0,r.jsx)(v.K,{unsafeDisableTooltip:!0,...n})]})}let L=25,k={"&:hover:not([disabled])":{textDecoration:"none"},"&:focus:not([disabled])":{textDecoration:"none"},"&:active:not([disabled])":{textDecoration:"none"}};async function O(e,t){let n=await fetch(e,{method:"get"}),r=await n.blob(),o=document.createElement("a");o.setAttribute("download",t);let a=URL.createObjectURL(r);o.href=a,o.setAttribute("target","_blank"),o.click(),URL.revokeObjectURL(a)}try{I.displayName||(I.displayName="CodeReferencePreview")}catch{}try{R.displayName||(R.displayName="BlobPreviewHeader")}catch{}try{T.displayName||(T.displayName="BlobSize")}catch{}try{E.displayName||(E.displayName="RawButtons")}catch{}var P=n(30729),D=n(53854);function M({reference:e,detailsLoading:t,detailsError:n,onDismiss:o}){return(0,r.jsxs)(S.O.Frame,{children:[(0,r.jsxs)(S.O.Header,{onDismiss:o,children:[(0,r.jsx)(P.A,{icon:x.GitCommitIcon,sx:{mr:2}}),(0,r.jsx)(y.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.message})]}),(0,r.jsxs)(S.O.Body,{detailsError:n,detailsLoading:t,children:[(0,r.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",p:3},children:[(0,r.jsx)(u.r,{src:`${e.author.login}.png`,sx:{mr:2,flexShrink:0}}),(0,r.jsx)(y.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.author.login})]}),(0,r.jsx)(y.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,r.jsx)(S.O.Content,{children:(0,r.jsx)(D.T,{markdown:e.message})}),(0,r.jsx)(y.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,r.jsxs)(S.O.Details,{children:[(0,r.jsxs)(S.O.DetailLink,{href:(0,m.Do2)({name:e.repository.name,ownerLogin:e.repository.owner}),icon:x.RepoIcon,children:[e.repository.owner,"/",e.repository.name]}),(0,r.jsxs)(S.O.DetailLink,{href:e.permalink,icon:x.LinkExternalIcon,children:[e.repository.owner,"/",e.repository.name,"/commit/",e.oid]})]})]})]})}try{M.displayName||(M.displayName="CommitReferencePreview")}catch{}var B=n(58081);function _({reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a}){let{contributors:i}=(0,f.u)(e.repoOwner,e.repoName,e.commitOID,e.path),[s]=(0,g.E)(e.repoOwner,e.repoName,e.commitOID,e.path);return(0,r.jsxs)(S.O.Frame,{children:[(0,r.jsxs)(S.O.Header,{onDismiss:a,children:[(0,r.jsx)(u.r,{square:t?.repoIsOrgOwned,src:`${e.repoOwner}.png`,sx:{mr:2,flexShrink:0}}),(0,r.jsxs)(b.A,{sx:{fontWeight:600,whiteSpace:"nowrap"},children:[e.repoOwner,"/",e.repoName]}),(0,r.jsx)(b.A,{sx:{marginX:1},children:"\xb7"}),(0,r.jsx)(b.A,{sx:{fontWeight:400},children:(0,p.gE)(e.ref)}),(0,r.jsx)(b.A,{sx:{marginX:1},children:"\xb7"}),(0,r.jsx)(b.A,{sx:{fontWeight:400,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.path})]}),(0,r.jsxs)(S.O.Body,{detailsLoading:n,detailsError:o,children:[t&&(0,r.jsx)($,{details:t}),(0,r.jsxs)(S.O.Details,{children:[(0,r.jsxs)(S.O.DetailLink,{href:(0,m.Do2)({name:e.repoName,ownerLogin:e.repoOwner}),icon:x.RepoIcon,children:[e.repoOwner,"/",e.repoName]}),i&&(0,r.jsxs)(S.O.DetailLink,{icon:x.PeopleIcon,href:(0,m.buO)({owner:e.repoOwner,repo:e.repoName,commitish:e.commitOID,filePath:e.path,lineNumber:t?.range.start}),children:[i.totalCount," contributors"]}),s&&(0,r.jsxs)(S.O.DetailLink,{icon:x.HistoryIcon,href:(0,m.$Qz)({owner:e.repoOwner,repo:e.repoName,commitish:s?.oid}),children:[s?.author?.displayName," updated ",(0,r.jsx)(A.A,{datetime:s?.date})]}),(0,r.jsxs)(S.O.DetailLink,{icon:x.LinkExternalIcon,href:e.url,children:[e.repoOwner,"/",e.repoName,"/",e.path,t?(0,r.jsxs)(r.Fragment,{children:["#",t.range.start,"-",t.range.end]}):null]})]})]})]})}function $({details:e}){let[t,n]=(0,d.useState)(e.range.start),[o,a]=(0,d.useState)(e.range.end),i=(0,d.useMemo)(()=>F(e.contents,e.contents.length),[e.contents]),[s,l]=(0,d.useState)("preview"),c=e?.headerInfo,u=(0,d.useCallback)(()=>{n(function(e,t){let n=G(e,t),r=function(e){let t;for(let n of e)t=n;return t}(e.slice(0,n).matchAll(/^#+\s/gm));return F(e,r?.index??0)}(e.contents,t))},[e.contents,t]),m=(0,d.useCallback)(()=>{let t=o;for(;t<i&&t<o+10;)t=function(e,t){let n=G(e,t),r=e.slice(n).match(/^#+\s/m),o=r?n+r.index:e.length;return F(e,o)}(e.contents,t+1);a(t-1)},[e.contents,o,i]),p=(0,d.useMemo)(()=>{let n=e.contents;if(t){let e=function(e,t,n=t-1){let r=-1,o=-1,a=-1;for(let i=1;;i++){if(i===t&&(o=r+1),i===n+1){a=r;break}if(-1===(r=e.indexOf("\n",r+1)))break}return{startIndex:o,endIndex:a}}(n,t,o);e.endIndex>-1&&(n=n.slice(e.startIndex,e.endIndex)),n=n.replace(/^---\n[\s\S]*?\n---\n/,"")}return n},[e.contents,t,o]);return(0,r.jsxs)(y.A,{sx:{border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px 6px 0 0",marginX:3},children:[(0,r.jsxs)(R,{children:[(0,r.jsxs)(y.A,{sx:{display:"flex",alignItems:"baseline",gap:2},children:[(0,r.jsxs)(B.I,{"aria-label":"File view",size:"small",onChange:e=>{let t=["preview","code"][e];t&&s!==t&&l(t)},sx:{fontSize:1},children:[(0,r.jsx)(B.I.Button,{selected:"preview"===s,children:"Preview"},"preview'"),(0,r.jsx)(B.I.Button,{selected:"code"===s,children:"Code"},"raw")]}),c&&(0,r.jsx)(T,{headerInfo:c})]}),c&&(0,r.jsx)(E,{headerInfo:c})]}),t>1&&(0,r.jsx)(S.O.ContentExpander,{direction:"above",onExpand:u}),(0,r.jsx)(S.O.Content,{children:"preview"===s?(0,r.jsx)(y.A,{className:"js-snippet-clipboard-copy-unpositioned",sx:{".highlighted":{backgroundColor:e=>`${e.colors.accent.subtle}`}},children:(0,r.jsx)(D.T,{markdown:p,rendererConfig:{openLinksInCurrentTab:!1}})}):(0,r.jsx)("code",{children:(0,r.jsx)(y.A,{as:"pre",sx:{overflowX:"auto"},children:e.contents})})}),o<i&&(0,r.jsx)(S.O.ContentExpander,{direction:"below",onExpand:m})]})}function F(e,t){return function(e){let t=0;for(let n of e)t++;return t}(e.slice(0,t).matchAll(/\n/g))+1}function G(e,t){if(1===t)return 0;let n=-1;for(let r=2;r<=t;r++)if(-1===(n=e.indexOf("\n",n+1)))return e.length;return n+1}try{_.displayName||(_.displayName="MarkdownReferencePreview")}catch{}try{$.displayName||($.displayName="MarkdownReferencePreviewContent")}catch{}function U({reference:e,detailsLoading:t,detailsError:n,onDismiss:o}){return(0,r.jsxs)(S.O.Frame,{children:[(0,r.jsxs)(S.O.Header,{onDismiss:o,children:[(0,r.jsx)(P.A,{icon:x.GitCommitIcon,sx:{mr:2}}),(0,r.jsx)(y.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:e.title})]}),(0,r.jsxs)(S.O.Body,{detailsError:n,detailsLoading:t,children:[(0,r.jsxs)(y.A,{sx:{display:"flex",flexDirection:"row",p:3},children:[(0,r.jsx)(u.r,{src:`${e.authorLogin}.png`,sx:{mr:2,flexShrink:0}}),(0,r.jsx)(y.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",direction:"rtl"},children:e.authorLogin})]}),(0,r.jsx)(y.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,r.jsx)(S.O.Content,{children:(0,r.jsx)(D.T,{markdown:e.title})}),(0,r.jsx)(y.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}}),(0,r.jsxs)(S.O.Details,{children:[(0,r.jsxs)(S.O.DetailLink,{href:(0,m.Do2)({name:e.repository.name,ownerLogin:e.repository.ownerLogin}),icon:x.RepoIcon,children:[e.repository.ownerLogin,"/",e.repository.name]}),(0,r.jsx)(S.O.DetailLink,{href:e.url,icon:x.LinkExternalIcon,children:e.url})]})]})]})}try{U.displayName||(U.displayName="PullRequestReferencePreview")}catch{}function H({reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a}){let i=new Map,s=new Map;if(t?.kind==="suggestionSymbol")for(let e of t.suggestionDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;i.has(t)||i.set(t,[]),i.get(t).push(e)}else if(t?.kind==="codeNavSymbol"){for(let e of t.codeNavDefinitions??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;i.has(t)||i.set(t,[]),i.get(t).push(e)}for(let e of t?.codeNavReferences??[]){if(!e.highlightedContents)continue;let t=`${e.repoOwner}/${e.repoName}/${e.path}`;s.has(t)||s.set(t,[]),s.get(t).push(e)}}let l=[...i.values()][0]?.[0]??[...s.values()][0]?.[0],c=i.size>0,d=s.size>0,u=[...i.values()].length,p=[...i.values()].reduce((e,t)=>e+t.length,0),h=[...s.values()].length,b=[...s.values()].reduce((e,t)=>e+t.length,0),{contributors:y}=(0,f.u)(l?.repoOwner,l?.repoName,l?.commitOID,l?.path),[C]=(0,g.E)(l?.repoOwner,l?.repoName,l?.commitOID,l?.path);return(0,r.jsxs)(S.O.Frame,{children:[(0,r.jsx)(S.O.Header,{onDismiss:a,children:e.name}),(0,r.jsxs)(S.O.Body,{detailsError:o,detailsLoading:n,children:[c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(S.O.SectionDivider,{children:[p," ",1===p?"definition":"definitions",u>1?` across ${u} files`:null]}),[...i.values()].map((e,t)=>(0,r.jsx)(S.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t,children:(0,r.jsx)(S.O.Content,{children:e.map((e,t)=>e.highlightedContents?(0,r.jsx)(w,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:W(e)},t):null)})},e[0].path))]}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(S.O.SectionDivider,{children:[b," ",1===b?"reference":"references",h>1?` across ${h} files`:null]}),[...s.values()].map((e,t)=>(0,r.jsx)(S.O.CollapsibleSubsection,{title:e[0].path,initiallyOpen:0===t&&!c,children:(0,r.jsx)(S.O.Content,{children:e.map((e,t)=>e.highlightedContents?(0,r.jsx)(w,{trimLineBeginnings:1===e.highlightedContents.length,lines:e.highlightedContents,lineNumbers:W(e)},t):null)})},e[0].path))]}),(0,r.jsxs)(S.O.Details,{children:[l&&(0,r.jsxs)(S.O.DetailLink,{href:(0,m.Do2)({name:l.repoName,ownerLogin:l.repoOwner}),icon:x.RepoIcon,children:[l.repoOwner,"/",l.repoName]}),y&&l&&(0,r.jsxs)(S.O.DetailLink,{icon:x.PeopleIcon,href:(0,m.buO)({owner:l.repoOwner,repo:l.repoName,commitish:l.commitOID,filePath:l.path}),children:[y.totalCount," ",1===y.totalCount?"contributor":"contributors"]}),C&&l&&(0,r.jsxs)(S.O.DetailLink,{icon:x.HistoryIcon,href:(0,m.$Qz)({owner:l.repoOwner,repo:l.repoName,commitish:C?.oid}),children:[C?.author?.displayName," updated ",(0,r.jsx)(A.A,{datetime:C?.date})]}),l&&(0,r.jsxs)(S.O.DetailLink,{icon:x.LinkExternalIcon,href:(0,m.nD_)({owner:l.repoOwner,repo:l.repoName,commitish:l.commitOID,filePath:l.path}),children:[l.repoOwner,"/",l.repoName,"/",l.path]})]})]})]})}function W({range:e}){return e?Array(e.end-e.start+1).fill(null).map((t,n)=>e.start+n):[]}try{H.displayName||(H.displayName="SymbolReferencePreview")}catch{}let z=e=>e?.start?e.end?`${e.start}-${e.end}`:`${e.start}`:"",V=e=>{let t=z(e.selectedRange),n=e.url.split(window.location.host)[1];return{href:e.url+t,path:n+t,range:t}};function K({reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a}){let i=e.headFile??e.baseFile??e.head??e.base,{contributors:s}=(0,f.u)(i.repoOwner,i.repoName,i.commitOID,i.path),[l]=(0,g.E)(i.repoOwner,i.repoName,i.commitOID,i.path),{href:c,path:d,range:p}=V(e);return(0,r.jsxs)(S.O.Frame,{children:[(0,r.jsxs)(S.O.Header,{onDismiss:a,children:[(0,r.jsx)(u.r,{square:t?.repoIsOrgOwned,src:`${i.repoOwner}.png`,sx:{mr:2,flexShrink:0}}),(0,r.jsxs)(y.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},children:[i.repoOwner,"/",i.repoName,"/",i.path," ",p]})]}),(0,r.jsx)(S.O.Body,{detailsError:o,detailsLoading:n,children:(0,r.jsxs)(S.O.Details,{children:[(0,r.jsxs)(S.O.DetailLink,{href:(0,m.Do2)({name:i.repoName,ownerLogin:i.repoOwner}),icon:x.RepoIcon,children:[i.repoOwner,"/",i.repoName]}),s&&(0,r.jsxs)(S.O.DetailLink,{icon:x.PeopleIcon,href:(0,m.buO)({owner:i.repoOwner,repo:i.repoName,commitish:i.commitOID,filePath:i.path}),children:[s.totalCount," ",1===s.totalCount?"contributor":"contributors"]}),l&&(0,r.jsxs)(S.O.DetailLink,{icon:x.HistoryIcon,href:(0,m.$Qz)({owner:i.repoOwner,repo:i.repoName,commitish:l?.oid}),children:[l?.author?.displayName," updated ",(0,r.jsx)(A.A,{datetime:l?.date})]}),(0,r.jsx)(S.O.DetailLink,{icon:x.LinkExternalIcon,href:c,children:d})]})})]})}try{K.displayName||(K.displayName="FileDiffReferencePreview")}catch{}var q=n(24116);function J({dismissable:e}){let{reference:t,details:n,detailsLoading:o,detailsError:a,dismissReference:i}=X();return(0,r.jsx)(Y,{reference:t,details:n,detailsLoading:o,detailsError:a,onDismiss:e?i:void 0})}function Y({reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a}){switch(e.type){case"symbol":return(0,r.jsx)(H,{reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a},(0,l.Vb)(e));case"file":case"snippet":return"Markdown"===e.languageName?(0,r.jsx)(_,{reference:e,details:t,detailsError:o,detailsLoading:n,onDismiss:a},(0,l.Vb)(e)):(0,r.jsx)(I,{reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a},(0,l.Vb)(e));case"file-diff":return(0,r.jsx)(K,{reference:e,details:t,detailsLoading:n,detailsError:o,onDismiss:a},(0,l.Vb)(e));case"commit":return(0,r.jsx)(M,{reference:e,detailsLoading:n,detailsError:o,onDismiss:a},(0,l.Vb)(e));case"pull-request":return(0,r.jsx)(U,{reference:e,detailsLoading:n,detailsError:o,onDismiss:a},(0,l.Vb)(e));case"web-search":return(0,r.jsx)(q.I,{reference:e,onDismiss:a},(0,l.Vb)(e));default:return null}}function X(){let e=(0,s.b)(),t=(0,i.Pk)().selectedReference,{isLoading:n,isError:r,data:o}=(0,c.I)({queryKey:["copilot","references",t?.type,t?(0,l.Vb)(t):void 0],queryFn:async()=>{if(!t)return null;let n=await e.service.hydrateReference(t);return n.ok?n.payload:null},staleTime:Number.MIN_VALUE});return{reference:t,dismissReference:(0,d.useCallback)(()=>e.selectReference(null),[e]),details:o??void 0,detailsLoading:n,detailsError:r}}try{J.displayName||(J.displayName="CopilotReferencePreview")}catch{}try{Y.displayName||(Y.displayName="CopilotReferencePreviewImpl")}catch{}function Q(){let{dismissReference:e,reference:t}=X(),{screenSize:n}=(0,a.lm)(),i=n<a.Gy.large,s=t?.type==="web-search"?`Bing search results for "${t.query}"`:"Reference";return(0,r.jsxs)(o.A,{"aria-label":s,isOpen:!!t,onDismiss:e,sx:{display:"flex",flexDirection:"column",overflow:"hidden",borderRadius:"var(--borderRadius-large)",margin:0,...i?{height:["auto","auto"],top:"1dvh",width:"90dvw"}:{top:"10vh",width:"50dvw",maxWidth:"1024px"}},children:[(0,r.jsx)(o.A.Header,{children:s}),(0,r.jsx)(J,{})]})}try{Q.displayName||(Q.displayName="CopilotReferencePreviewDialog")}catch{}},4788:(e,t,n)=>{n.d(t,{O:()=>S});var r=n(74848),o=n(38621),a=n(75177),i=n(84217),s=n(87330),l=n(55847),c=n(16823),d=n(30595),u=n(30729),m=n(96540);function p({children:e}){return(0,r.jsx)(a.A,{sx:{overflow:"auto",maxHeight:"calc(100dvh - 64px - 52px)"},children:(0,r.jsx)(a.A,{sx:{overflow:"hidden",backgroundColor:"canvas.default"},children:(0,r.jsx)(a.A,{sx:{display:"flex",flexDirection:"column"},children:e})})})}function h({children:e,onDismiss:t}){return(0,r.jsxs)(i.A,{as:"h3",sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"16px",fontSize:1},children:[(0,r.jsx)(a.A,{sx:{display:"flex",flexDirection:"row",alignItems:"center",minWidth:0,"@media screen and (max-width: 768px)":{maxWidth:"80%"}},children:e}),t&&(0,r.jsx)(s.K,{unsafeDisableTooltip:!0,"aria-label":"Dismiss",icon:o.XIcon,onClick:t,variant:"invisible",sx:{flexShrink:0}})]})}function f({children:e}){return(0,r.jsx)(a.A,{sx:{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",borderTop:"1px solid var(--borderColor-default, var(--color-border-default))",backgroundColor:"canvas.subtle",px:3,py:2},children:e})}function g({children:e,title:t,initiallyOpen:n}){let[a,i]=(0,m.useState)(n??!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.Q,{onClick:()=>i(e=>!e),sx:{borderRadius:0,backgroundColor:"canvas.default",border:"none",borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))",'[data-component="buttonContent"]':{justifyContent:"start"}},children:[(0,r.jsx)(u.A,{icon:a?o.ChevronDownIcon:o.ChevronRightIcon,sx:{mr:2}}),t]}),a&&e]})}function x({children:e}){return(0,r.jsx)(a.A,{sx:{padding:3},children:e})}function b({direction:e,onExpand:t}){return(0,r.jsx)(l.Q,{onClick:t,sx:{borderRadius:0,backgroundColor:"canvas.default",border:"none",px:3,py:2,width:"100%",fontSize:0,fontWeight:"normal",color:"fg.muted",'[data-component="buttonContent"]':{justifyContent:"start"},..."above"===e?{borderBottom:"1px solid var(--borderColor-default, var(--color-border-default))"}:{borderTop:"1px solid var(--borderColor-default, var(--color-border-default))"}},children:(0,r.jsxs)(a.A,{sx:{display:"flex",alignItems:"center"},children:[(0,r.jsx)(u.A,{icon:"below"===e?o.FoldDownIcon:o.FoldUpIcon,sx:{mr:2}}),"Show content ",e]})})}function y({children:e}){return(0,r.jsx)(c.l,{children:(0,r.jsxs)(c.l.Group,{children:[(0,r.jsx)(c.l.GroupHeading,{as:"h3",children:"Reference details"}),e]})})}function A({children:e,href:t,icon:n}){return(0,r.jsxs)(c.l.LinkItem,{href:t,children:[(0,r.jsx)(c.l.LeadingVisual,{children:(0,r.jsx)(u.A,{icon:n})}),e]})}function C(){return(0,r.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",m:"auto",p:3},children:[(0,r.jsx)(d.A,{sx:{mb:2}}),(0,r.jsx)("div",{children:"Loading..."})]})}function j(){return(0,r.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",p:3},children:(0,r.jsx)(a.A,{sx:{color:"danger.fg",fontWeight:"bold"},children:"Failed to load reference details"})})}function v({children:e,detailsError:t,detailsLoading:n}){return t?(0,r.jsx)(j,{}):n?(0,r.jsx)(C,{}):(0,r.jsx)(r.Fragment,{children:e})}let S={Frame:p,Header:h,Body:v,Content:x,CollapsibleSubsection:g,ContentExpander:b,Details:y,DetailLink:A,SectionDivider:f};try{p.displayName||(p.displayName="Frame")}catch{}try{h.displayName||(h.displayName="Header")}catch{}try{f.displayName||(f.displayName="SectionDivider")}catch{}try{g.displayName||(g.displayName="CollapsibleSubsection")}catch{}try{x.displayName||(x.displayName="Content")}catch{}try{b.displayName||(b.displayName="ContentExpander")}catch{}try{y.displayName||(y.displayName="Details")}catch{}try{A.displayName||(A.displayName="DetailLink")}catch{}try{C.displayName||(C.displayName="Loading")}catch{}try{j.displayName||(j.displayName="Error")}catch{}try{v.displayName||(v.displayName="Body")}catch{}},24116:(e,t,n)=>{n.d(t,{_:()=>d,I:()=>c});var r=n(74848),o=n(75177),a=n(52464),i=n(34614),s=n(4788);let l={"bing-icon":"WebSearchReferencePreview-module__bing-icon--kFZ4I"};function c({reference:e,onDismiss:t}){return(0,r.jsxs)(s.O.Frame,{children:[(0,r.jsx)(s.O.Header,{onDismiss:t,children:(0,r.jsxs)(o.A,{sx:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:2},children:[(0,r.jsx)(d,{}),(0,r.jsxs)(a.A,{sx:{fontSize:0,fontWeight:400,color:"fg.muted"},children:[(0,r.jsxs)(a.A,{sx:{fontSize:1,fontWeight:600,color:"fg.default"},children:[e.results.length," ",1===e.results.length?" result ":" results "]}),"from Bing search."]})]})}),(0,r.jsx)(s.O.Body,{detailsError:!1,detailsLoading:!1,children:(0,r.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",px:3,gap:3,pb:3},children:[e.results.map((e,t)=>(0,r.jsxs)(o.A,{sx:{display:"flex",flexDirection:"column",gap:1,border:"1px solid var(--borderColor-default, var(--color-border-default))",borderRadius:"6px",padding:3},children:[(0,r.jsx)(i.A,{sx:{fontWeight:600,fontSize:2},href:e.url,rel:"nofollow",children:e.title}),(0,r.jsx)("div",{children:e.excerpt}),(0,r.jsx)(o.A,{sx:{fontSize:0,color:"fg.muted"},children:e.url})]},t)),(0,r.jsx)(a.A,{sx:{fontSize:0,fontWeight:400},children:(0,r.jsx)(i.A,{href:"https://privacy.microsoft.com/en-us/privacystatement",rel:"nofollow",target:"_blank",children:"Microsoft Privacy Statement"})})]})})]})}let d=()=>(0,r.jsx)("div",{className:l["bing-icon"]});try{c.displayName||(c.displayName="WebSearchReferencePreview")}catch{}try{d.displayName||(d.displayName="BingIcon")}catch{}},13180:(e,t,n)=>{n.d(t,{v:()=>u});var r,o=n(74848),a=n(12480),i=n(87330),s=n(94977),l=n(96540);let c=e=>` ${e.split(" ").map(e=>`<${e.replaceAll("Mod",(0,a.U0)()?"Cmd":"Ctrl").replaceAll("Command","Cmd").replaceAll("Control","Ctrl").toLowerCase()}>`).join(" / ")}`,d=e=>e.replaceAll("{CMD_CTRL}",(0,a.U0)()?"Command":"Control"),u=(0,l.forwardRef)(({label:e,hideTooltip:t,icon:n,shortcut:r,sx:a,tooltipDirection:u,...m},p)=>{let h=(0,l.useCallback)(()=>{let a={display:"flex"};return u?.includes("w")&&(a={...a,pl:2,ml:-2}),u?.includes("e")&&(a={...a,pr:2,mr:-2}),u?.includes("s")&&(a={...a,pb:2,mb:-2}),(u?.includes("n")||!u)&&(a={...a,pt:2,mt:-2}),t?(0,o.jsx)(n,{}):(0,o.jsx)(s.A,{"aria-label":`${e}${r?c(r):""}`,className:"icon-button-with-tooltip__tooltip",direction:u,sx:a,children:(0,o.jsx)(n,{})})},[t,e,r,u,n]);return(0,o.jsx)(i.K,{unsafeDisableTooltip:!0,ref:p,icon:h,"aria-keyshortcuts":r?d(r):void 0,sx:{...a,"&:focus-visible, &:hover":{"& .icon-button-with-tooltip__tooltip":{"&::after, &::before":{display:"inline-block",textDecoration:"none",animationName:"tooltip-appear",animationDuration:"0.1s",animationFillMode:"forwards",animationTimingFunction:"ease-in"}}},"&:hover .icon-button-with-tooltip__tooltip":{"&::after, &::before":{animationDelay:"0.4s"}}},...m,"aria-label":e})});u.displayName="IconButtonWithTooltip";try{(r=TooltippedIcon).displayName||(r.displayName="TooltippedIcon")}catch{}},24903:(e,t,n)=>{n.d(t,{X:()=>s});var r=n(74848),o=n(47139),a=n(46698),i=n(81816);let s=({children:e="Preview",feedbackUrl:t,className:n})=>(0,r.jsx)(i.V,{className:n,label:(0,r.jsx)(o.A,{variant:"success",children:e}),link:t?(0,r.jsx)(a.A,{feedbackUrl:t}):void 0});try{s.displayName||(s.displayName="BetaLabel")}catch{}},46698:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(74848),o=n(34614);let a={link:"FeedbackLink-module__link--uY6Kq"},i=({feedbackUrl:e})=>(0,r.jsx)(o.A,{className:a.link,href:e,children:"Give feedback"});try{i.displayName||(i.displayName="FeedbackLink")}catch{}},81816:(e,t,n)=>{n.d(t,{V:()=>a});var r=n(74848),o=n(39954);let a=({label:e,link:t,className:n})=>t?(0,r.jsxs)(o.B,{direction:"horizontal",gap:"condensed",align:"baseline",className:n,children:[e," ",t]}):n?(0,r.jsx)("span",{className:n,children:e}):(0,r.jsx)(r.Fragment,{children:e});try{a.displayName||(a.displayName="LabelWithLink")}catch{}},47831:(e,t,n)=>{n.d(t,{BP:()=>d,D3:()=>c,O8:()=>r});var r,o=n(74848),a=n(96540),i=n(97156),s=n(59840);!function(e){e.ServerRender="ServerRender",e.ClientHydrate="ClientHydrate",e.ClientRender="ClientRender"}(r||(r={}));let l=(0,a.createContext)("ClientRender");function c({wasServerRendered:e,children:t}){let[n,r]=(0,a.useState)(()=>i.X3?"ServerRender":e?"ClientHydrate":"ClientRender");return(0,s.m)(()=>{"ClientRender"!==n&&r("ClientRender")},[n]),(0,o.jsx)(l.Provider,{value:n,children:t})}function d(){return(0,a.useContext)(l)}try{l.displayName||(l.displayName="RenderPhaseContext")}catch{}try{c.displayName||(c.displayName="RenderPhaseProvider")}catch{}},22084:(e,t,n)=>{n.d(t,{mo:()=>h,oG:()=>u,yx:()=>m});var r,o=n(74848),a=n(75177),i=n(52464),s=n(42838),l=n.n(s),c=n(96540);function d(e){if("html"in e&&void 0!==e.html){let{html:t,...n}=e;return{safeHTML:t,props:n}}let{unverifiedHTML:t,unverifiedHTMLConfig:n,...r}=e,o={...n,RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1};return{safeHTML:l().sanitize(t,o),props:r}}let u=p(a.A);u.displayName="SafeHTMLBox";let m=p(i.A);function p(e){return(0,c.forwardRef)((t,n)=>{let{safeHTML:r,props:a}=d(t);return(0,o.jsx)(e,{ref:n,...a,dangerouslySetInnerHTML:r?{__html:r}:void 0})})}m.displayName="SafeHTMLText";let h=(0,c.forwardRef)((e,t)=>{let{safeHTML:n,props:r}=d(e);return(0,o.jsx)("div",{ref:t,...r,dangerouslySetInnerHTML:n?{__html:n}:void 0})});h.displayName="SafeHTMLDiv";try{(r=SafeHTMLComponent).displayName||(r.displayName="SafeHTMLComponent")}catch{}},42024:(e,t,n)=>{n.d(t,{Gy:()=>r,LB:()=>d,lm:()=>c,nn:()=>u});var r,o=n(74848),a=n(70170),i=n(96540);!function(e){e[e.small=1]="small",e[e.medium=544]="medium",e[e.large=768]="large",e[e.xlarge=1012]="xlarge",e[e.xxlarge=1280]="xxlarge",e[e.xxxlarge=1350]="xxxlarge",e[e.xxxxlarge=1440]="xxxxlarge"}(r||(r={}));let s=[1440,1350,1280,1012,768,544,1],l=i.createContext({screenSize:1});function c(){return i.useContext(l)}function d({children:e,initialValue:t}){let n=(0,i.useSyncExternalStore)(()=>()=>{},()=>t??u(window.innerWidth),()=>t??1),r=(0,i.useRef)(n),[s,c]=(0,i.useState)(n),d=(0,i.useCallback)(()=>{let e=u(window.innerWidth);r.current!==e&&(r.current=e,c(e))},[]);(0,i.useEffect)(()=>{let e=new ResizeObserver((0,a.s)(d));return e.observe(document.documentElement),()=>e.disconnect()},[d]);let m=(0,i.useMemo)(()=>({screenSize:s}),[s]);return(0,o.jsx)(l.Provider,{value:m,children:e})}function u(e){for(let t of s)if(e>=t)return t;return 1}try{l.displayName||(l.displayName="ScreenContext")}catch{}try{d.displayName||(d.displayName="ScreenSizeProvider")}catch{}},87726:(e,t,n)=>{n.d(t,{x:()=>m});var r=n(74848),o=n(38621),a=n(75177),i=n(65481),s=n(34614),l=n(89323),c=n(16823),d=n(30729),u=n(47767);function m({portalContainerName:e,protectedOrgs:t,redirectURI:n,sx:l}){let c=(0,u.zy)();if(!t||0===t.length)return null;let m=(0,r.jsx)("b",{children:t.slice(0,3).join(", ")});return 2===t.length&&(m=(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:t[0]})," and ",(0,r.jsx)("b",{children:t[1]})]})),3===t.length&&(m=(0,r.jsxs)("span",{children:[(0,r.jsx)("b",{children:t.slice(0,2).join(", ")}),", and ",(0,r.jsx)("b",{children:t[2]})]})),(0,r.jsx)(a.A,{sx:l,"data-testid":"sso-banner",children:(0,r.jsx)(a.A,{sx:{fontSize:1},children:(0,r.jsx)("section",{"aria-label":"Single sign on information",children:(0,r.jsx)(i.A,{sx:{p:3,borderRadius:2,borderWidth:1,borderStyle:"solid",borderColor:"accent.muted",fontSize:1},children:1===t.length?(0,r.jsxs)("div",{children:[(0,r.jsx)(d.A,{icon:o.ShieldLockIcon}),(0,r.jsx)(s.A,{inline:!0,href:`/orgs/${t[0]}/sso?return_to=${h({location:c,redirectURI:n})}`,children:"Single sign-on"}),"\xa0to see results in the ",(0,r.jsx)("b",{children:t[0]})," organization."]}):(0,r.jsxs)(a.A,{sx:{display:"flex",alignItems:"baseline",flexWrap:"wrap",gap:2},children:[(0,r.jsxs)(a.A,{sx:{flexGrow:1},children:[(0,r.jsx)(d.A,{icon:o.ShieldLockIcon}),"Single sign on to see results in the ",m," ",t.length>3?`and ${t.length-3} other `:"",t.length>1?"organizations":"organization","."]}),(0,r.jsx)(a.A,{sx:{mt:[2,2,0]},children:(0,r.jsx)(p,{portalContainerName:e,protectedOrgs:t,redirectURI:n})})]})})})})})}function p({portalContainerName:e,protectedOrgs:t,redirectURI:n}){let o=(0,u.zy)();return(0,r.jsxs)(l.W,{children:[(0,r.jsx)(l.W.Button,{size:"small",children:"Select an organization"}),(0,r.jsx)(l.W.Overlay,{portalContainerName:e,children:(0,r.jsx)(c.l,{children:t.map(e=>(0,r.jsx)(c.l.Item,{onSelect:()=>window.location.href=`/orgs/${e}/sso?return_to=${h({location:o,redirectURI:n})}`,children:e},`org-${e}`))})})]})}function h({location:e,redirectURI:t}){return encodeURIComponent(t?t(e):e.pathname+e.search+e.hash)}try{m.displayName||(m.displayName="SingleSignOnBanner")}catch{}try{p.displayName||(p.displayName="SingleSignOnButton")}catch{}},54156:(e,t,n)=>{n.d(t,{Qn:()=>l,T8:()=>d,Y6:()=>m,k6:()=>u});var r=n(74848),o=n(65556),a=n(96540),i=n(67726),s=n(83784);let l=5e3,c=(0,a.createContext)({addToast:i.l,addPersistedToast:i.l,clearPersistedToast:i.l}),d=(0,a.createContext)({toasts:[],persistedToast:null});function u({children:e}){let[t,n]=(0,s.A)([]),[i,u]=(0,a.useState)(null),{safeSetTimeout:m}=(0,o.A)(),p=(0,a.useCallback)(function(e){n([...t,e]),m(()=>n(t.slice(1)),l)},[t,m,n]),h=(0,a.useCallback)(function(e){u(e)},[u]),f=(0,a.useCallback)(function(){u(null)},[u]),g=(0,a.useMemo)(()=>({addToast:p,addPersistedToast:h,clearPersistedToast:f}),[h,p,f]),x=(0,a.useMemo)(()=>({toasts:t,persistedToast:i}),[t,i]);return(0,r.jsx)(c.Provider,{value:g,children:(0,r.jsx)(d.Provider,{value:x,children:e})})}function m(){return(0,a.useContext)(c)}try{c.displayName||(c.displayName="ToastContext")}catch{}try{d.displayName||(d.displayName="InternalToastsContext")}catch{}try{u.displayName||(u.displayName="ToastContextProvider")}catch{}},67870:(e,t,n)=>{n.d(t,{V:()=>m});var r=n(74848),o=n(96540),a=n(54156),i=n(38621),s=n(65556),l=n(16255);let c={info:"",success:"Toast--success",error:"Toast--error"},d={info:(0,r.jsx)(i.InfoIcon,{}),success:(0,r.jsx)(i.CheckIcon,{}),error:(0,r.jsx)(i.StopIcon,{})},u=({message:e,timeToLive:t,icon:n,type:a="info",role:i="log"})=>{let[u,m]=o.useState(!0),{safeSetTimeout:p}=(0,s.A)();return(0,o.useEffect)(()=>{t&&p(()=>m(!1),t-300)},[p,t]),(0,r.jsx)(l.Z,{children:(0,r.jsx)("div",{className:"p-1 position-fixed bottom-0 left-0 mb-3 ml-3",children:(0,r.jsxs)("div",{className:`Toast ${c[a]} ${u?"Toast--animateIn":"Toast--animateOut"}`,id:"ui-app-toast","data-testid":`ui-app-toast-${a}`,role:i,children:[(0,r.jsx)("span",{className:"Toast-icon",children:n||d[a]}),(0,r.jsx)("span",{className:"Toast-content",children:e})]})})})};try{u.displayName||(u.displayName="Toast")}catch{}function m(){let{toasts:e,persistedToast:t}=(0,o.useContext)(a.T8);return(0,r.jsxs)(r.Fragment,{children:[e.map((e,t)=>(0,r.jsx)(u,{message:e.message,icon:e.icon,timeToLive:a.Qn,type:e.type,role:e.role},t)),t&&(0,r.jsx)(u,{message:t.message,icon:t.icon,type:t.type,role:t.role})]})}try{m.displayName||(m.displayName="Toasts")}catch{}}},e=>{var t=t=>e(e.s=t);e.O(0,["primer-react","react-core","react-lib","octicons-react","vendors-node_modules_dompurify_dist_purify_js","vendors-node_modules_primer_behaviors_dist_esm_index_mjs","vendors-node_modules_emotion_is-prop-valid_dist_emotion-is-prop-valid_esm_js-node_modules_emo-0e630d","vendors-node_modules_oddbird_popover-polyfill_dist_popover-fn_js","vendors-node_modules_github_relative-time-element_dist_index_js","vendors-node_modules_braintree_browser-detection_dist_browser-detection_js-node_modules_githu-bb80ec","vendors-node_modules_react-relay_index_js","vendors-node_modules_date-fns_format_mjs","vendors-node_modules_date-fns_addWeeks_mjs-node_modules_date-fns_addYears_mjs-node_modules_da-827f4f","vendors-node_modules_focus-visible_dist_focus-visible_js-node_modules_fzy_js_index_js-node_mo-c4d1d6","vendors-node_modules_github_hotkey_dist_index_js-node_modules_date-fns_getDaysInMonth_mjs-nod-70c11b","vendors-node_modules_tanstack_query-core_build_modern_queryObserver_js-node_modules_tanstack_-defd52","vendors-node_modules_github_combobox-nav_dist_index_js-node_modules_github_g-emoji-element_di-6ce195","vendors-node_modules_react-relay_hooks_js-node_modules_github_paste-markdown_dist_index_js-no-da0d56","vendors-node_modules_highlight_js_lib_index_js-node_modules_github_hydro-analytics-client_dis-823bfc","vendors-node_modules_github_mini-throttle_dist_decorators_js-node_modules_github_catalyst_lib-3ac585","ui_packages_failbot_failbot_ts","ui_packages_paths_index_ts","ui_packages_ui-commands_ui-commands_ts","ui_packages_date-picker_date-picker_ts-ui_packages_github-avatar_GitHubAvatar_tsx","ui_packages_item-picker_constants_labels_ts-ui_packages_item-picker_constants_values_ts-ui_pa-163a9a","ui_packages_item-picker_components_RepositoryPicker_tsx","ui_packages_issue-create_dialog_CreateIssueDialogEntry_tsx","ui_packages_copilot-chat_utils_copilot-chat-hooks_ts-ui_packages_issue-viewer_utils_queries_ts","ui_packages_copilot-chat_components_CopilotIconAnimation_tsx"],()=>t(732)),e.O()}]);
//# sourceMappingURL=copilot-chat-34e294534600.js.map